(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1840:function(e,t,a){"use strict";a.r(t);var n=a(9),c=a(15),l=a(19),s=a(17),o=a(18),r=a(0),i=a.n(r),m=a(10),h=a(7),d=a(24),u=a(167),p=a(28),f=a(96),E=a(1),b=a(30),g=a(127),C=a(4),v=a.n(C),N=(a(685),a(492),function(e){function t(){var e,a;Object(n.a)(this,t);for(var c=arguments.length,o=new Array(c),r=0;r<c;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={selectedContactsMenu:null,isOpen:!0,chatDetail:null,individualchatDetail:null,chatUser:null,chatId:null,currentSeletedchatId:null,selectedUserDetail:null,contacts:null,user:null,currentRoom:null},a.getFilteredArray=function(e,t){var a=Object.keys(e).map(function(t){return e[t]});return 0===t.length?a:h.v.filterArrayByString(a,t)},a.openSelectedContactMenu=function(e){a.setState({selectedContactsMenu:e.currentTarget})},a.closeSelectedContactsMenu=function(){a.setState({selectedContactsMenu:null})},a.openChat=function(){a.state.isOpen||a.setState({isOpen:!a.state.isOpen})},a.toggleChat=function(){a.state.isOpen||a.setState({isOpen:!a.state.isOpen})},a.getMsgInfo=function(e,t){if(e&&null!=e){a.setState({currentSeletedchatId:e,selectedUserDetail:t});a.state.chatDetail.messages;var n=a.state.chatUser.chatList;console.log("chatId",n),n&&null!=n&&n.map(function(t){t.contactId==e&&a.setState({chatId:t.chatId})})}},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.setState({chatDetail:this.props.chatDetail,chatUser:this.props.chatUser,contacts:this.props.contacts})}},{key:"componentWillReceiveProps",value:function(e){e.chatDetail&&e.chatUser&&this.setState({chatDetail:e.chatDetail,chatUser:e.chatUser,user:e.chatUser,contacts:e.contacts})}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;if(this.props.chatDetail!==e.chatDetail&&this.setState({chatDetail:this.props.chatDetail}),this.props.chatUser!==e.chatUser&&this.setState({chatUser:this.props.chatUser,user:this.props.chatUser,contacts:this.props.contacts}),this.props.chatDetail.currentRoom,e.chatDetail.currentRoom,this.props.chatUser.chatList!==e.chatUser.chatList&&this.state.currentSeletedchatId&&null!=this.state.currentSeletedchatId&&this.props.chatUser.chatList.map(function(e){e.contactId==n.state.currentSeletedchatId&&n.setState({chatId:e.chatId})}),!this.state.isOpen&&this.state.chatId&&null!==this.state.chatId&&this.openChat(),this.props!==e&&this.state.chatId&&null!==this.state.chatId){var c=this.state.chatDetail.messages;this.setState({individualchatDetail:c[this.state.chatId]})}null!=this.state.currentRoom&&this.state.chatId==t.chatId||this.state.chatDetail.rooms.map(function(e,t){e.id===n.state.chatId&&n.state.currentRoom!==e&&(n.setState({currentRoom:e}),n.props.individualcurrentChat(e))})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.contacts,c=t.user,l=t.searchText,s=t.selectedContactIds,o=t.selectAllContacts,r=t.deSelectAllContacts,m=t.toggleInSelectedContacts,d=t.removeContacts,u=t.removeContact,p=t.toggleStarredContact,f=t.setContactsUnstarred,b=t.setContactsStarred,C=(t.state,t.openChat),N=this.getFilteredArray(n,l),y=this.state.selectedContactsMenu;return N||0!==N.length?i.a.createElement("div",null,i.a.createElement(h.a,{animation:"transition.slideUpIn",delay:300},i.a.createElement(g.b,{className:v()(a.root,"-striped -highlight border-0"),getTrProps:function(t,a,n){return{onClick:function(t){t.stopPropagation(),console.log("rowinfo",a),C(a.original.id),e.getMsgInfo(a.original.name,a.original)},className:"cursor-pointer"}},data:N,columns:[{Header:function(){return i.a.createElement(E.h,{onClick:function(e){e.stopPropagation()},onChange:function(e){e.target.checked?o():r()},checked:s.length===Object.keys(n).length&&s.length>0,indeterminate:s.length!==Object.keys(n).length&&s.length>0})},accessor:"",Cell:function(e){return i.a.createElement(E.h,{onClick:function(e){e.stopPropagation()},checked:s.includes(e.value.id),onChange:function(){return m(e.value.id)}})},className:"justify-center",sortable:!1,width:64},{Header:function(){return s.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement(E.F,{"aria-owns":y?"selectedContactsMenu":null,"aria-haspopup":"true",onClick:e.openSelectedContactMenu},i.a.createElement(E.E,null,"more_horiz")),i.a.createElement(E.Q,{id:"selectedContactsMenu",anchorEl:y,open:Boolean(y),onClose:e.closeSelectedContactsMenu},i.a.createElement(E.S,null,i.a.createElement(E.R,{onClick:function(){d(s),e.closeSelectedContactsMenu()}},i.a.createElement(E.M,{className:a.icon},i.a.createElement(E.E,null,"delete")),i.a.createElement(E.O,{inset:!0,primary:"Remove"})),i.a.createElement(E.R,{onClick:function(){b(s),e.closeSelectedContactsMenu()}},i.a.createElement(E.M,{className:a.icon},i.a.createElement(E.E,null,"star")),i.a.createElement(E.O,{inset:!0,primary:"Starred"})),i.a.createElement(E.R,{onClick:function(){f(s),e.closeSelectedContactsMenu()}},i.a.createElement(E.M,{className:a.icon},i.a.createElement(E.E,null,"star_border")),i.a.createElement(E.O,{inset:!0,primary:"Unstarred"})))))},accessor:"avatar",Cell:function(e){return i.a.createElement(E.b,{className:"mr-8",alt:e.original.name,src:e.value})},className:"justify-center",width:64,sortable:!1},{Header:"First Name",accessor:"name",filterable:!0,className:"font-bold",width:200},{Header:"Last Name",accessor:"lastName",filterable:!0,className:"font-bold",width:150},{Header:"Email",accessor:"email",filterable:!0,width:300},{Header:"Phone",accessor:"phone",filterable:!0},{Header:"",width:128,Cell:function(e){return i.a.createElement("div",{className:"flex items-center"},i.a.createElement(E.F,{onClick:function(t){t.stopPropagation(),p(e.original.id)},className:a.chatIcon},c.starred&&c.starred.includes(e.original.id)?i.a.createElement(E.E,null,"star"):i.a.createElement(E.E,null,"star_border")),i.a.createElement(E.F,{onClick:function(t){t.stopPropagation(),u(e.original.id)},className:a.chatIcon},i.a.createElement(E.E,null,"delete")),i.a.createElement(E.F,{onClick:function(t){t.stopPropagation(),C(e.original.id)},className:a.chatIcon},i.a.createElement(E.E,null,"chat")))}}],defaultPageSize:10,noDataText:"No contacts found"})),this.state.isOpen&&!1):i.a.createElement("div",{className:"flex items-center justify-center h-full"},i.a.createElement(E.pb,{color:"textSecondary",variant:"h5"},"There are no contacts!"))}}]),t}(r.Component));var y=Object(m.withStyles)(function(e){return{mailList:{padding:0},mailItem:{},avatar:{backgroundColor:e.palette.primary[500]},labels:{},chatIcon:{padding:8},individualChat:{position:"fixed",bottom:70,right:360,zIndex:10,display:"flex"}}},{withTheme:!0})(Object(u.g)(Object(p.b)(function(e){var t=e.contactsApp,a=e.chatPanel;return{contacts:t.contacts.entities,selectedContactIds:t.contacts.selectedContactIds,searchText:t.contacts.searchText,user:t.user,selectedContactId:a.contacts.selectedContactId,state:a.state,chatDetail:a.chat,chatUser:a.user,currentRoom:a.chat.currentRoom}},function(e){return Object(d.c)({getContacts:f.o,getUserData:f.p,toggleInSelectedContacts:f.z,selectAllContacts:f.v,deSelectAllContacts:f.n,openEditContactDialog:f.r,removeContacts:f.u,openChat:f.q,removeContact:f.t,toggleStarredContact:f.A,toggleStarredContacts:f.B,setContactsStarred:f.w,setContactsUnstarred:f.x,individualcurrentChat:b.l,openChatPanel:b.F,closeChatPanel:b.A},e)})(N))),O=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.setSearchText,n=e.searchText,c=e.pageLayout;return i.a.createElement("div",{className:v()(t.root,"flex flex-1 items-center justify-between p-8 sm:p-24")},i.a.createElement("div",{className:"flex flex-shrink items-center sm:w-224"},i.a.createElement(E.D,{lgUp:!0},i.a.createElement(E.F,{onClick:function(e){return c().toggleLeftSidebar()},"aria-label":"open left sidebar"},i.a.createElement(E.E,null,"menu"))),i.a.createElement("div",{className:"flex items-center"},i.a.createElement(h.a,{animation:"transition.expandIn",delay:300},i.a.createElement(E.E,{className:"text-32 mr-12"},"account_box")),i.a.createElement(h.a,{animation:"transition.slideLeftIn",delay:300},i.a.createElement(E.pb,{variant:"h6",className:"hidden sm:flex"},"Contacts")))),i.a.createElement("div",{className:"flex flex-1 items-center justify-center pr-8 sm:px-12"},i.a.createElement(m.MuiThemeProvider,{theme:h.q},i.a.createElement(h.a,{animation:"transition.slideLeftIn",delay:300},i.a.createElement(E.V,{className:"flex p-4 items-center w-full max-w-512 px-8 py-4",elevation:1},i.a.createElement(E.E,{className:"mr-8",color:"action"},"search"),i.a.createElement(E.G,{placeholder:"Search for anything",className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:n,inputProps:{"aria-label":"Search"},onChange:a}))))))}}]),t}(r.Component);var j=Object(m.withStyles)(function(e){return{root:{}}},{withTheme:!0})(Object(p.b)(function(e){return{searchText:e.contactsApp.contacts.searchText}},function(e){return Object(d.c)({setSearchText:f.y},e)})(O)),x=a(35),S=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.user;return i.a.createElement("div",{className:"p-16 lg:p-24 lg:pr-4"},i.a.createElement(h.a,{animation:"transition.slideLeftIn",delay:200},i.a.createElement(E.V,{elevation:1,className:"rounded-8"},i.a.createElement("div",{className:"p-24 flex items-center"},i.a.createElement(E.b,{className:"mr-12",alt:a.name,src:a.avatar}),i.a.createElement(E.pb,null,a.name)),i.a.createElement(E.r,null),i.a.createElement(E.K,null,i.a.createElement(E.L,{button:!0,component:x.b,to:"/apps/contacts/all",activeClassName:"active",className:t.listItem},i.a.createElement(E.E,{className:"list-item-icon text-16",color:"action"},"people"),i.a.createElement(E.O,{className:"truncate pr-0",primary:"All contacts",disableTypography:!0})),i.a.createElement(E.L,{button:!0,component:x.b,to:"/apps/contacts/frequent",activeClassName:"active",className:t.listItem},i.a.createElement(E.E,{className:"list-item-icon text-16",color:"action"},"restore"),i.a.createElement(E.O,{className:"truncate pr-0",primary:"Frequently contacted",disableTypography:!0})),i.a.createElement(E.L,{button:!0,component:x.b,to:"/apps/contacts/starred",activeClassName:"active",className:t.listItem},i.a.createElement(E.E,{className:"list-item-icon text-16",color:"action"},"star"),i.a.createElement(E.O,{className:"truncate pr-0",primary:"Starred contacts",disableTypography:!0}))))))}}]),t}(r.Component);var w=Object(m.withStyles)(function(e){return{listItem:{color:"inherit!important",textDecoration:"none!important",height:40,width:"calc(100% - 16px)",borderRadius:"0 20px 20px 0",paddingLeft:24,paddingRight:12,"&.active":{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText+"!important",pointerEvents:"none","& .list-item-icon":{color:"inherit"}}}}},{withTheme:!0})(Object(u.g)(Object(p.b)(function(e){return{user:e.contactsApp.user}},function(e){return Object(d.c)({},e)})(S))),D=a(11),I=a(3),k={id:"",name:"",lastName:"",avatar:"assets/images/avatars/profile.jpg",nickname:"",company:"",jobTitle:"",email:"",phone:"",address:"",birthday:"",notes:""},U=function(e){function t(){var e,a;Object(n.a)(this,t);for(var c=arguments.length,o=new Array(c),r=0;r<c;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state=Object(I.a)({},k),a.handleChange=function(e){a.setState(D.a.set(Object(I.a)({},a.state),e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value))},a.closeComposeDialog=function(){"create"===a.props.contactDialog.type?a.props.closeEditContactDialog():a.props.closeNewContactDialog()},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){!e.contactDialog.props.open&&this.props.contactDialog.props.open&&("create"===this.props.contactDialog.type&&this.props.contactDialog.data&&!D.a.isEqual(this.props.contactDialog.data,t)&&this.setState(Object(I.a)({},this.props.contactDialog.data)),"new"!==this.props.contactDialog.type||D.a.isEqual(k,t)||this.setState(Object(I.a)({},k)))}},{key:"canBeSubmitted",value:function(){return this.state.name.length>0}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.contactDialog,c=t.addContact,l=t.updateContact,s=t.removeContact;return i.a.createElement(E.m,Object.assign({classes:{root:a.root,paper:"m-24"},className:a.root},n.props,{onClose:this.closeComposeDialog,fullWidth:!0,maxWidth:"xs"}),i.a.createElement(E.a,{position:"static",elevation:1},i.a.createElement(E.nb,{className:"flex w-full"},i.a.createElement(E.pb,{variant:"subtitle1",color:"inherit"},"new"===n.type?"New Contact":"Edit Contact")),i.a.createElement("div",{className:"flex flex-col items-center justify-center pb-24"},i.a.createElement(E.b,{className:"w-96 h-96",alt:"contact avatar",src:this.state.avatar}),"create"===n.type&&i.a.createElement(E.pb,{variant:"h6",color:"inherit",className:"pt-8"},this.state.name))),i.a.createElement(E.o,{classes:{root:"p-24"}},i.a.createElement("div",{className:"flex"},i.a.createElement("div",{className:"min-w-48 pt-20"},i.a.createElement(E.E,{color:"action"},"account_circle")),i.a.createElement(E.mb,{className:a.formControl,label:"Name",autoFocus:!0,id:"name",name:"name",value:this.state.name,onChange:this.handleChange,variant:"outlined",required:!0,fullWidth:!0})),i.a.createElement("div",{className:"flex"},i.a.createElement("div",{className:"min-w-48 pt-20"}),i.a.createElement(E.mb,{className:a.formControl,label:"Last name",id:"lastName",name:"lastName",value:this.state.lastName,onChange:this.handleChange,variant:"outlined",fullWidth:!0})),i.a.createElement("div",{className:"flex"},i.a.createElement("div",{className:"min-w-48 pt-20"},i.a.createElement(E.E,{color:"action"},"star")),i.a.createElement(E.mb,{className:a.formControl,label:"Nickname",id:"nickname",name:"nickname",value:this.state.nickname,onChange:this.handleChange,variant:"outlined",fullWidth:!0})),i.a.createElement("div",{className:"flex"},i.a.createElement("div",{className:"min-w-48 pt-20"},i.a.createElement(E.E,{color:"action"},"phone")),i.a.createElement(E.mb,{className:a.formControl,label:"Phone",id:"phone",name:"phone",value:this.state.phone,onChange:this.handleChange,variant:"outlined",fullWidth:!0})),i.a.createElement("div",{className:"flex"},i.a.createElement("div",{className:"min-w-48 pt-20"},i.a.createElement(E.E,{color:"action"},"email")),i.a.createElement(E.mb,{className:a.formControl,label:"Email",id:"email",name:"email",value:this.state.email,onChange:this.handleChange,variant:"outlined",fullWidth:!0})),i.a.createElement("div",{className:"flex"},i.a.createElement("div",{className:"min-w-48 pt-20"},i.a.createElement(E.E,{color:"action"},"domain")),i.a.createElement(E.mb,{className:a.formControl,label:"Company",id:"company",name:"company",value:this.state.company,onChange:this.handleChange,variant:"outlined",fullWidth:!0})),i.a.createElement("div",{className:"flex"},i.a.createElement("div",{className:"min-w-48 pt-20"},i.a.createElement(E.E,{color:"action"},"work")),i.a.createElement(E.mb,{className:a.formControl,label:"Job title",id:"jobTitle",name:"jobTitle",value:this.state.jobTitle,onChange:this.handleChange,variant:"outlined",fullWidth:!0})),i.a.createElement("div",{className:"flex"},i.a.createElement("div",{className:"min-w-48 pt-20"},i.a.createElement(E.E,{color:"action"},"cake")),i.a.createElement(E.mb,{className:a.formControl,id:"birthday",label:"Birthday",type:"date",value:this.state.birthday,onChange:this.handleChange,InputLabelProps:{shrink:!0},variant:"outlined",fullWidth:!0})),i.a.createElement("div",{className:"flex"},i.a.createElement("div",{className:"min-w-48 pt-20"},i.a.createElement(E.E,{color:"action"},"home")),i.a.createElement(E.mb,{className:a.formControl,label:"Address",id:"address",name:"address",value:this.state.address,onChange:this.handleChange,variant:"outlined",fullWidth:!0})),i.a.createElement("div",{className:"flex"},i.a.createElement("div",{className:"min-w-48 pt-20"},i.a.createElement(E.E,{color:"action"},"note")),i.a.createElement(E.mb,{className:a.formControl,label:"Notes",id:"notes",name:"notes",value:this.state.notes,onChange:this.handleChange,variant:"outlined",multiline:!0,rows:5,fullWidth:!0}))),"new"===n.type?i.a.createElement(E.n,{className:"justify-between pl-16"},i.a.createElement(E.c,{variant:"contained",color:"primary",onClick:function(){c(e.state),e.closeComposeDialog()},disabled:!this.canBeSubmitted()},"Add")):i.a.createElement(E.n,{className:"justify-between pl-16"},i.a.createElement(E.c,{variant:"contained",color:"primary",onClick:function(){l(e.state),e.closeComposeDialog()},disabled:!this.canBeSubmitted()},"Save"),i.a.createElement(E.F,{onClick:function(){s(e.state.id),e.closeComposeDialog()}},i.a.createElement(E.E,null,"delete"))))}}]),t}(r.Component);var T=Object(m.withStyles)(function(e){return{root:{},formControl:{marginBottom:24}}},{withTheme:!0})(Object(p.b)(function(e){return{contactDialog:e.contactsApp.contacts.contactDialog}},function(e){return Object(d.c)({closeEditContactDialog:f.l,closeNewContactDialog:f.m,addContact:f.k,updateContact:f.C,removeContact:f.t},e)})(U)),M=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.getContacts(this.props.match.params),this.props.getUserData()}},{key:"componentDidUpdate",value:function(e,t){D.a.isEqual(this.props.location,e.location)||this.props.getContacts(this.props.match.params)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.openNewContactDialog;return i.a.createElement(i.a.Fragment,null,i.a.createElement(h.o,{classes:{contentCardWrapper:"p-16 sm:p-24 pb-80",leftSidebar:"w-256",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:i.a.createElement(j,{pageLayout:function(){return e.pageLayout}}),content:i.a.createElement(y,null),leftSidebarContent:i.a.createElement(w,null),sidebarInner:!0,onRef:function(t){e.pageLayout=t},innerScroll:!0}),i.a.createElement(h.a,{animation:"transition.expandIn",delay:300},i.a.createElement(E.t,{color:"primary","aria-label":"add",className:a.addButton,onClick:n},i.a.createElement(E.E,null,"person_add"))),i.a.createElement(T,null))}}]),t}(r.Component);t.default=Object(m.withStyles)(function(e){return{addButton:{position:"fixed",left:453,bottom:90,zIndex:99}}},{withTheme:!0})(Object(u.g)(Object(p.b)(function(e){var t=e.contactsApp;return{contacts:t.contacts.entities,selectedContactIds:t.contacts.selectedContactIds,searchText:t.contacts.searchText,user:t.user}},function(e){return Object(d.c)({getContacts:f.o,getUserData:f.p,openNewContactDialog:f.s},e)})(M)))}}]);
//# sourceMappingURL=8.4f242d20.chunk.js.map