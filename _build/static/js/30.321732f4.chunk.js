(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{1839:function(e,t,a){"use strict";a.r(t);var n=a(12),l=a(3),r=a(9),i=a(15),o=a(19),s=a(17),c=a(18),d=a(58),m=a(13),u=a(0),p=a.n(u),h=(a(46),a(1)),b=a(7),E=a(10),v=a(167),f=a(245),g=a(24),y=a(73),x=a(5),I=a(23),S=a.n(I),D=a(127),w=(a(172),a(4)),N=a.n(w),C=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={isOpen:!1,invoiceDetail:[],Items:[],Region:[],CustomerSoldTo:[],CustomerFor:[]},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.Detail&&(console.log("Detail",e.Detail),this.setState({invoiceDetail:e.Detail.Data,Items:e.Detail.Data.Items,Region:e.Detail.Data.Region}))}},{key:"componentWillMount",value:function(){this.setState({invoiceDetail:this.props.Detail.Data,Items:this.props.Detail.Data.Items,Region:this.props.Detail.Data.Region})}},{key:"render",value:function(){var e=this;return this.props.show?p.a.createElement("div",{onClick:this.props.onClose,className:"backdrop",style:{position:"absolute",top:-110,bottom:0,left:0,right:0,zIndex:99999,height:"fit-content",backgroundColor:"rgba(0,0,0,0.3)",padding:50}},p.a.createElement("div",{onClick:this.props.onClose,id:"divToPrint",className:"modal",style:{backgroundColor:"#fff",borderRadius:5,maxWidth:800,minHeight:300,margin:"0 auto",padding:30}},p.a.createElement("div",{style:{width:"100%"}},p.a.createElement("table",{style:{width:"100%"}},p.a.createElement("thead",null,p.a.createElement("tr",null,p.a.createElement("th",{className:"text-center",width:"20%",align:"left"},p.a.createElement(h.pb,{color:"inherit"},p.a.createElement("img",{src:"https://res.cloudinary.com/janiking/image/upload/v1545837406/apps/web/appid2/logo-full.png",alt:""}))),p.a.createElement("th",{width:"50%",className:"text-left"},"Remit To:",p.a.createElement(h.pb,null,this.state.Region.Displayname),p.a.createElement(h.pb,null,"P.O.BOX 415291"),p.a.createElement(h.pb,null,this.state.Region.Address),p.a.createElement(h.pb,null,this.state.Region.Phone)),p.a.createElement("th",null,p.a.createElement("table",{style:{width:"100%",borderCollapse:"collapse",border:"solid 1px"}},p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",{style:{border:"solid 1px"},colSpan:"2"},"Invoice")),p.a.createElement("tr",null,p.a.createElement("td",{style:{border:"solid 1px"}},p.a.createElement(h.pb,null," ",p.a.createElement("strong",null,"Date")," "),p.a.createElement(h.pb,null,this.state.invoiceDetail.InvoiceDate)),p.a.createElement("td",{style:{border:"solid 1px"}},p.a.createElement(h.pb,null,p.a.createElement("strong",null,"Number")),p.a.createElement(h.pb,null,this.state.invoiceDetail.CompanyNo))),p.a.createElement("tr",null,p.a.createElement("td",{style:{border:"solid 1px"}},p.a.createElement(h.pb,null,p.a.createElement("strong",null,"Due Date")),p.a.createElement(h.pb,null,this.state.invoiceDetail.DueDate)),p.a.createElement("td",{style:{border:"solid 1px"}},p.a.createElement(h.pb,null,p.a.createElement("strong",null,"Cust#")),p.a.createElement(h.pb,null,this.state.invoiceDetail.CustomerNumber))),p.a.createElement("tr",null,p.a.createElement("td",{style:{border:"solid 1px"}},p.a.createElement(h.pb,null,p.a.createElement("strong",{style:{fontSize:"11px"}},"Invoice Amount")),p.a.createElement(h.pb,null,"$31,180.55")),p.a.createElement("td",{style:{border:"solid 1px"}},p.a.createElement(h.pb,null,p.a.createElement("strong",{style:{fontSize:"11px"}},"Amount Remitted")),p.a.createElement(h.pb,null,p.a.createElement("br",null)))))))))),p.a.createElement("table",{style:{width:"85%"},align:"center"},p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",{width:"60%",className:"text-left"},p.a.createElement(h.pb,null,p.a.createElement("strong",null,"Sold To:")),p.a.createElement(h.pb,null,this.state.invoiceDetail.CustomerName),p.a.createElement(h.pb,null,p.a.createElement("br",null)),p.a.createElement(h.pb,null,"ONE BILLS DRIVE")),p.a.createElement("td",{width:"40%",className:"text-left"},p.a.createElement(h.pb,null,p.a.createElement("strong",null,"For:")),p.a.createElement(h.pb,null,this.state.invoiceDetail.CustomerName),p.a.createElement(h.pb,null,"OPERATIONS CENTER"),p.a.createElement(h.pb,null,"ONE BILLS DRIVE"))),p.a.createElement("tr",null,p.a.createElement("td",{width:"50%",className:"text-left"},p.a.createElement(h.pb,null,p.a.createElement("span",null,this.state.CustomerSoldTo.AddressLine1),p.a.createElement("span",{style:{paddingLeft:50}},this.state.CustomerSoldTo.State),p.a.createElement("span",{style:{paddingLeft:30}},this.state.CustomerSoldTo.ZipCode))),p.a.createElement("td",{width:"",className:"text-left"},p.a.createElement(h.pb,null,p.a.createElement("span",null,this.state.CustomerFor.AddressLine1),p.a.createElement("span",{style:{paddingLeft:50}},this.state.CustomerFor.State),p.a.createElement("span",{style:{paddingLeft:30}},this.state.CustomerFor.ZipCode)))))),p.a.createElement("table",{style:{width:"85%"},align:"center"},p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",{className:"text-center",width:"100%"},p.a.createElement(h.pb,null,p.a.createElement("span",{style:{fontSize:"11px"}},"Make All Chekcs Payable To:JANI-KING OF BUFFALO,INC,")),p.a.createElement(h.pb,null,p.a.createElement("span",{style:{fontSize:"11px"}},"RETURN THIS PORTION WITH YOUR PAYMENT")))))),p.a.createElement("div",{style:{width:"100%",borderBottom:"2px solid rgb(0, 0, 0)"}}),p.a.createElement("table",{style:{width:"85%"},align:"center"},p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",{width:"20%"}),p.a.createElement("td",{width:"60%",className:"text-center"},p.a.createElement(h.pb,null,p.a.createElement("strong",null,p.a.createElement("span",{style:{fontSize:"18px"}},"JANI-KING OF BUFFALO,INC"))),p.a.createElement(h.pb,null,p.a.createElement("strong",null,p.a.createElement("span",{style:{fontSize:"14px"}},"Commercial Cleaning Services"))),p.a.createElement(h.pb,null,p.a.createElement("span",null,"(716)")," ",p.a.createElement("span",null,"636-4840")),p.a.createElement(h.pb,null,p.a.createElement("br",null)),p.a.createElement(h.pb,null,p.a.createElement("br",null)),p.a.createElement(h.pb,null,p.a.createElement("br",null))),p.a.createElement("td",{width:"20%"},p.a.createElement(h.pb,{color:"inherit"},p.a.createElement("img",{src:"https://res.cloudinary.com/janiking/image/upload/v1545837406/apps/web/appid2/logo-full.png",alt:""})))))),p.a.createElement("table",{style:{width:"85%"},align:"center"},p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",{width:"60%",className:"text-left"},p.a.createElement(h.pb,null,p.a.createElement("strong",null,"Sold To:")),p.a.createElement(h.pb,null,this.state.CustomerSoldTo.Name),p.a.createElement(h.pb,null,p.a.createElement("br",null)),p.a.createElement(h.pb,null,"ONE BILLS DRIVE")),p.a.createElement("td",{width:"40%",className:"text-left"},p.a.createElement(h.pb,null,p.a.createElement("strong",null,"For:")),p.a.createElement(h.pb,null,this.state.CustomerFor.Name),p.a.createElement(h.pb,null,"OPERATIONS CENTER"),p.a.createElement(h.pb,null,"ONE BILLS DRIVE"))),p.a.createElement("tr",null,p.a.createElement("td",{width:"50%",className:"text-left"},p.a.createElement(h.pb,null,p.a.createElement("span",null,this.state.CustomerSoldTo.AddressLine1),p.a.createElement("span",{style:{paddingLeft:50}},this.state.CustomerSoldTo.State),p.a.createElement("span",{style:{paddingLeft:30}},this.state.CustomerSoldTo.ZipCode))),p.a.createElement("td",{className:"text-left"},p.a.createElement(h.pb,null,p.a.createElement("span",null,this.state.CustomerFor.AddressLine1),p.a.createElement("span",{style:{paddingLeft:50}},this.state.CustomerFor.State),p.a.createElement("span",{style:{paddingLeft:30}},this.state.CustomerFor.ZipCode)))))),p.a.createElement("table",{style:{width:"100%",borderCollapse:"collapse",border:"solid 1px"}},p.a.createElement("thead",null,p.a.createElement("tr",null,p.a.createElement("th",{width:"15%",style:{border:"solid 1px"},className:"text-center"},"Invoice No"),p.a.createElement("th",{width:"10%",style:{border:"solid 1px"},className:"text-center"},"Date"),p.a.createElement("th",{width:"10%",style:{border:"solid 1px"},className:"text-center"},"Cust No"),p.a.createElement("th",{width:"15%",style:{border:"solid 1px"},className:"text-center"},"Slsmn No"),p.a.createElement("th",{width:"15%",style:{border:"solid 1px"},className:"text-center"},"PO Number"),p.a.createElement("th",{width:"25%",style:{border:"solid 1px"},className:"text-center"},"Franchisee"),p.a.createElement("th",{width:"10%",style:{border:"solid 1px"},className:"text-center"},"Due Date"))),p.a.createElement("tbody",null,null!=this.state.Items&&this.state.Items&&this.state.Items.map(function(t,a){return p.a.createElement("tr",{key:a},p.a.createElement("td",{width:"15%",style:{border:"solid 1px"},className:"text-center"},t.inv_no),p.a.createElement("td",{width:"10%",style:{border:"solid 1px"},className:"text-center"},e.state.invoiceDetail.InvoiceDate),p.a.createElement("td",{width:"10%",style:{border:"solid 1px"},className:"text-center"},e.state.invoiceDetail.CustomerNumber),p.a.createElement("td",{width:"15%",style:{border:"solid 1px"},className:"text-center"},e.state.invoiceDetail.slsmn_no),p.a.createElement("td",{width:"15%",style:{border:"solid 1px"},className:"text-center"},e.state.invoiceDetail.PONumber),p.a.createElement("td",{width:"25%",style:{border:"solid 1px"},className:"text-center"},e.state.invoiceDetail.apply_fran),p.a.createElement("td",{width:"10%",style:{border:"solid 1px"},className:"text-center"},e.state.invoiceDetail.DueDate))}))),p.a.createElement("table",{style:{width:"100%",borderCollapse:"collapse",border:"solid 1px"}},p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",{width:"10%",style:{border:"solid 1px"},className:"text-center"},p.a.createElement("strong",null,"Quantity")),p.a.createElement("td",{width:"60%",style:{border:"solid 1px"},className:"text-center"},p.a.createElement("strong",null,"Description")),p.a.createElement("td",{width:"15%",style:{border:"solid 1px"},className:"text-center"},p.a.createElement("strong",null,"Unit Price")),p.a.createElement("td",{width:"15%",style:{border:"solid 1px"},className:"text-center"},p.a.createElement("strong",null,"Extended Price"))),null!=this.state.Items&&this.state.Items&&this.state.Items.map(function(e,t){return p.a.createElement("tr",{key:t},p.a.createElement("td",{width:"10%",style:{border:"solid 1px"},className:"text-center"},e.LineNo),p.a.createElement("td",{width:"60%",style:{border:"solid 1px"},className:"text-center"},e.Description),p.a.createElement("td",{width:"15%",style:{border:"solid 1px"},className:"text-center"},e.UnitPrice),p.a.createElement("td",{rowSpan:"1",width:"15%",style:{border:"solid 1px"},className:"text-center"},e.ExtendedPrice))}),p.a.createElement("tr",null,p.a.createElement("td",{style:{borderRight:"solid 1px"}},p.a.createElement(h.pb,null,p.a.createElement("br",null))," ",p.a.createElement(h.pb,null,p.a.createElement("br",null))," ",p.a.createElement(h.pb,null,p.a.createElement("br",null))," ",p.a.createElement(h.pb,null,p.a.createElement("br",null))," ",p.a.createElement(h.pb,null,p.a.createElement("br",null)),p.a.createElement(h.pb,null,p.a.createElement("br",null))," ",p.a.createElement(h.pb,null,p.a.createElement("br",null))," ",p.a.createElement(h.pb,null,p.a.createElement("br",null))," ",p.a.createElement(h.pb,null,p.a.createElement("br",null))," ",p.a.createElement(h.pb,null,p.a.createElement("br",null)),p.a.createElement(h.pb,null,p.a.createElement("br",null)),p.a.createElement(h.pb,null,p.a.createElement("br",null)),p.a.createElement(h.pb,null,p.a.createElement("br",null)),p.a.createElement(h.pb,null,p.a.createElement("br",null))),p.a.createElement("td",null,p.a.createElement(h.pb,null,p.a.createElement("br",null))),p.a.createElement("td",{style:{border:"solid 1px"}},p.a.createElement(h.pb,null,p.a.createElement("br",null))),p.a.createElement("td",{style:{border:"solid 1px"}},p.a.createElement(h.pb,null,p.a.createElement("br",null)))),p.a.createElement("tr",null,p.a.createElement("td",{width:"10%",style:{borderRight:"solid 1px"},className:"text-center"}),p.a.createElement("td",{width:"60%",className:"text-center"},"  ",this.state.invoiceDetail.InvMsg),p.a.createElement("td",{width:"15%",style:{border:"solid 1px"},className:"text-center"},p.a.createElement("strong",null,"Amount of Sale")),p.a.createElement("td",{width:"15%",style:{border:"solid 1px"},className:"text-center"},this.state.invoiceDetail.SubTotal)),p.a.createElement("tr",null,p.a.createElement("td",{width:"10%",style:{borderRight:"solid 1px"},className:"text-center"}),p.a.createElement("td",{width:"60%",className:"text-center"}),p.a.createElement("td",{width:"15%",style:{border:"solid 1px"},className:"text-center"},p.a.createElement("strong",null,"Sales Tax")),p.a.createElement("td",{width:"15%",style:{border:"solid 1px"},className:"text-center"},this.state.invoiceDetail.TaxTotal)),p.a.createElement("tr",null,p.a.createElement("td",{width:"10%",style:{borderRight:"solid 1px"},className:"text-center"}),p.a.createElement("td",{width:"60%",className:"text-center"},p.a.createElement(h.pb,null,p.a.createElement("strong",{style:{fontSize:"11px"}},"Make All Checks Payable To:")),p.a.createElement(h.pb,null,p.a.createElement("strong",{style:{fontSize:"11px"}},"JANI-KING OF BUFFALO,INC:"))),p.a.createElement("td",{width:"15%",style:{border:"solid 1px"},className:"text-center"},p.a.createElement("strong",null,"Total")),p.a.createElement("td",{width:"15%",style:{border:"solid 1px"},className:"text-center"},this.state.invoiceDetail.GrandTotal))))))):null}}]),t}(u.Component),O=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},k=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={s:"",temp:[],data:[],selection:[],selectAll:!1,isOpen:!1,invoiceDetail:null,CustomerFor:[],CustomerSoldTo:[],selectedInvoice:null,alertOpen:!1,selectedId:""},a.onChange=function(e,t){var n=t.newValue;t.method;a.setState({value:n.toString()})},a.toggleSelection=function(e,t,l){var r=Object(n.a)(a.state.selection),i=r.indexOf(e);i>=0?r=[].concat(Object(n.a)(r.slice(0,i)),Object(n.a)(r.slice(i+1))):r.push(e),a.setState({selection:r})},a.toggleAll=function(e){var t=!a.state.selectAll,n=[];if(t){var l=e.data,r=a.state.page,i=a.state.pageSize,o=r*i,s=o+i;l.forEach(function(e){e._index>=o&&e._index<s&&n.push(e._original.InvoiceId)})}a.setState({selectAll:t,selection:n})},a.isSelected=function(e){return a.state.selection.includes(e)},a.logSelection=function(){console.log("selection:",a.state.selection)},a.toggleLeftSidebar=function(){},a.removeInvoices=function(){0!==a.state.selection.length?window.confirm("Do you really want to remove the selected invoice(s)")&&(a.props.deleteInvoicesAction(a.state.selection,a.props.invoices),a.setState({selection:[],selectAll:!1})):alert("Please choose invoice(s) to delete")},a.invoiceReport=function(e,t,n){e.stopPropagation(),a.props.getInvoiceDetail(t,n),a.setState({isOpen:!a.state.isOpen})},a.toggleModal=function(){a.setState({isOpen:!a.state.isOpen})},a.handleCloseRemoveDialog=function(){a.setState({alertOpen:!1})},a.handleOpenRemoveDialog=function(e){a.setState({alertOpen:!0}),a.setState({selectedId:e})},a.removeSelectedInvoice=function(){a.props.removeInvoiceAction(a.props.regionId,a.state.selectedId),a.setState({alertOpen:!1})},a.fetchData=a.fetchData.bind(Object(d.a)(Object(d.a)(a))),a.escFunction=a.escFunction.bind(Object(d.a)(Object(d.a)(a))),a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){this.props.data!==e.data&&this.setState({data:this.props.data}),this.props.invoiceDetail!==e.invoiceDetail&&this.setState({invoiceDetail:this.props.invoiceDetail})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.escFunction,!1)}},{key:"componentWillMount",value:function(){this.setState({data:this.props.data})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escFunction,!1)}},{key:"escFunction",value:function(e){27===e.keyCode&&(this.setState({s:""}),this.setState({data:this.props.data}))}},{key:"fetchData",value:function(e,t){this.setState({pageSize:e.pageSize,page:e.page})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.toggleSelection,n=this.toggleAll,l=this.isSelected;return p.a.createElement("div",{className:N()(t.layoutTable,"flex flex-col h-full")},p.a.createElement(D.b,{data:this.state.data,minRows:0,PaginationComponent:f.a,onFetchData:this.fetchData,getTheadThProps:function(e,t,a,n){var l="1px solid rgba(255,255,255,.6)";return"Actions"===a.Header&&(l="none"),{style:{fontSize:"1.6rem",fontFamily:'Muli,Roboto,"Helvetica",Arial,sans-serif',fontWeight:400,lineHeight:1.75,color:"white",borderRight:l}}},getTheadProps:function(e,a,n,l){return{style:{fontSize:13},className:t.tableTheadRow}},getTdProps:function(e,t,a,n){return{style:{textAlign:"center",flexDirection:"row",fontSize:12,padding:"0"}}},getTrProps:function(t,a,n){return{className:"cursor-pointer",onClick:function(t,n){a&&(e.props.filterState&&e.props.toggleFilterPanel(),e.props.summaryState&&e.props.toggleSummaryPanel(),e.props.openEditInvoiceForm(a.original.InvoiceId,e.props.regionId))}}},columns:[{columns:[{Header:function(t){return p.a.createElement(h.h,{onClick:function(e){e.stopPropagation()},onChange:function(e){return n(t)},checked:e.state.selectAll,style:{color:"white"}})},accessor:"",Cell:function(e){return p.a.createElement(h.h,{onClick:function(e){e.stopPropagation()},checked:l(e.value.InvoiceId),onChange:function(){return a(e.value.InvoiceId)}})},className:"justify-center",sortable:!1,width:56}],className:N()("justify-center")},{columns:[{Header:"Invoice #",accessor:"InvoiceNo",filterAll:!0,width:120,Cell:function(t){return p.a.createElement(h.c,{onClick:function(a){e.invoiceReport(a,t.original.InvoiceId,t.original.RegionId)}},t.original.InvoiceNo)},className:N()(t.invoiceNo,"flex items-center  justify-center text-12")},{Header:"Customer #",accessor:"CustomerNo",className:N()(t.tableTdEven,"flex items-center  justify-center"),width:100},{Header:"Customer Name",accessor:"CustomerName",width:220,className:N()("flex items-center  justify-start pl-12-impor")},{Header:"Description",accessor:"InvoiceDescription",className:N()(t.descr,"flex items-center justify-start p-12-impor"),width:"100%"},{Header:"Amount",accessor:"InvoiceAmount",Cell:function(e){return"$"+parseFloat(e.original.InvoiceAmount).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")},className:N()(t.tableTdEven,"flex items-center  justify-end p-12-impor"),width:100},{Header:"Tax",accessor:"InvoiceTax",Cell:function(e){return"$"+parseFloat(e.original.InvoiceTax).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")},className:N()(t.tableTdEven,"flex items-center  justify-end p-12-impor"),width:80},{Header:"Total",Cell:function(e){return"$"+parseFloat(e.original.InvoiceTotal).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")},accessor:"InvoiceTotal",className:N()("flex items-center  justify-end p-12-impor"),width:100},{Header:"Invoice Date",id:"InvoiceDate",accessor:function(e){return S()(e.InvoiceDate).format("MM/DD/YYYY")},className:N()(t.tableTdEven,"flex items-center  justify-center"),width:100},{Header:"Due Date",id:"DueDate",accessor:function(e){return S()(e.DueDate).format("MM/DD/YYYY")},className:N()("flex items-center  justify-center"),width:100},{Header:"Status",accessor:"TransactionStatus",className:N()(t.tableTdEven,"flex items-center  justify-center"),width:80},{Header:"Actions",width:90,Cell:function(t){return p.a.createElement("div",{className:"flex items-center actions justify-center w-full"},p.a.createElement(h.F,{style:{padding:8},onClick:function(a){a.stopPropagation(),e.handleOpenRemoveDialog(t.original.InvoiceId)}},p.a.createElement(h.E,{fontSize:"small"},"delete")),p.a.createElement(h.F,{style:{padding:8},onClick:function(a){a.stopPropagation(),e.props.openEditInvoiceForm(t.original.InvoiceId,e.props.regionId)}},p.a.createElement(h.E,{fontSize:"small"},"edit")))}}]}],defaultPageSize:100,className:N()("-striped -highlight"),totalRecords:this.state.data.length,style:{height:"100%"}}),p.a.createElement(h.m,{open:this.state.alertOpen,onClose:function(){return e.handleCloseRemoveDialog()},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},p.a.createElement(h.q,{id:"alert-dialog-title"},"Remove an Invoice"),p.a.createElement(h.o,null,p.a.createElement(h.p,{id:"alert-dialog-description"},"Do you really want to remove the selected invoice?")),p.a.createElement(h.n,null,p.a.createElement(h.c,{onClick:function(){return e.handleCloseRemoveDialog()},color:"primary"},"Disagree"),p.a.createElement(h.c,{onClick:function(){return e.removeSelectedInvoice()},color:"primary",autoFocus:!0},"Agree"))),null!==this.state.invoiceDetail&&p.a.createElement(C,{show:this.state.isOpen,onClose:this.toggleModal,Detail:this.state.invoiceDetail}))}}]),t}(u.Component);var T=Object(E.withStyles)(function(e){return{layoutTable:{flexDirection:"row","& .z-9999":{height:64},"& .-pageSizeOptions":{display:"none"},"& .p-12-impor":{paddingLeft:"1.2rem!important",paddingRight:"1.2rem!important"},"& .pl-12-impor":{paddingLeft:"1.2rem!important"},"& .pr-12-impor":{paddingRight:"1.2rem!important"},"& .ReactTable .rt-noData":{top:"250px",border:"1px solid coral"},"& .ReactTable .rt-thead.-headerGroups":{display:"none"},"& .ReactTable.-highlight .rt-tbody .rt-tr:not(.-padRow):hover":{background:"rgba("+O(e.palette.secondary.main).r+","+O(e.palette.secondary.main).g+","+O(e.palette.secondary.main).b+", .8)",color:"white!important"},"& .ReactTable .rt-tbody":{overflowY:"scroll",overflowX:"hidden"},"& .ReactTable .rt-tr-group":{flex:"0 0 auto"},"& .ReactTable .rt-thead.-header":{flex:"0 0 auto",overflowY:"scroll"},"& .ReactTable .rt-th":{"& .rt-resizer":{display:"none"}},"& .ReactTable .rt-thead .rt-th:nth-child(1)":{justifyContent:"center"},"& .ReactTable .rt-thead.-headerGroups .rt-th:nth-child(2)":{width:"inherit!important",minWidth:"inherit!important"},"& .ReactTable .rt-thead .rt-th:last-child":{justifyContent:"flex-end"}},content:{position:"relative"},descr:{},search:Object(m.a)({width:360},e.breakpoints.down("sm"),{width:"100%"}),tableTheadRow:{backgroundColor:e.palette.primary.main},tableThEven:{backgroundColor:"rgba("+O(e.palette.secondary.main).r+","+O(e.palette.secondary.main).g+","+O(e.palette.secondary.main).b+", .3)"},tableTdEven:{},invoiceNo:{"& button":{padding:"8px 4px","& span":{fontSize:11,textTransform:"none"}}}}},{withTheme:!0})(Object(v.g)(Object(y.a)(function(e){var t=e.invoices,a=e.auth;return{invoices:t.invoicesDB,invoiceDetail:t.invoiceDetail,transactionStatus:t.transactionStatus,regionId:a.login.defaultRegionId,InvoiceForm:t.InvoiceForm,filterState:t.bOpenedFilterPanel,summaryState:t.bOpenedSummaryPanel}},function(e){return Object(g.c)({deleteInvoicesAction:x.Kc,removeInvoiceAction:x.Od,openEditInvoiceForm:x.zd,closeEditInvoiceForm:x.wc,getInvoiceDetail:x.gd,toggleFilterPanel:x.ee,toggleSummaryPanel:x.ke},e)})(k))),F=a(1658),j=a(211),P=a.n(j),R=a(247),L=a.n(R),A=a(454),Y=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={tabIndex:0},a.handleChange=function(e,t){a.setState({tabIndex:t})},a.handleChangeIndex=function(e){a.setState({tabIndex:e})},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.classes,n=e.theme,r=this.state.tabIndex,i=t.datasets[r].map(function(e){return Object(l.a)({},e,{borderColor:n.palette.secondary.main})});return p.a.createElement(h.d,{className:N()(a.root,"w-full")},p.a.createElement(h.a,{position:"static"},p.a.createElement("div",{className:"p-16 pr-4 flex flex-row items-center justify-between"},p.a.createElement("div",{className:"pr-16"},p.a.createElement(h.pb,{className:"h1 font-300",color:"inherit"},"Sales"),p.a.createElement(h.pb,{className:"h5",color:"inherit"},"Lifetime sum of your sales")),p.a.createElement("div",null,p.a.createElement(h.F,{"aria-label":"more",color:"inherit"},p.a.createElement(h.E,null,"more_vert")))),p.a.createElement("div",{className:"p-16 pt-8 flex flex-row justify-between items-end"},p.a.createElement(h.pb,{className:"text-48 font-300 leading-none",color:"inherit"},t.today),p.a.createElement("div",{className:"flex flex-row items-center"},t.change.value>0&&p.a.createElement(h.E,{className:"text-green"},"trending_up"),t.change.value<0&&p.a.createElement(h.E,{className:"text-red"},"trending_down"),p.a.createElement("div",{className:"ml-8"},t.change.value,"(",t.change.percentage,"%)"))),p.a.createElement(h.lb,{value:r,onChange:this.handleChange,fullWidth:!0},p.a.createElement(h.eb,{label:"1Day",className:"min-w-0"}),p.a.createElement(h.eb,{label:"1Week",className:"min-w-0"}),p.a.createElement(h.eb,{label:"1Month",className:"min-w-0"}))),p.a.createElement(A.d,{data:{labels:t.labels,datasets:i},options:t.options}))}}]),t}(u.Component),B=Object(E.withStyles)(function(e){return{root:{border:"1px solid "+e.palette.divider,boxShadow:"none",borderRadius:8}}},{withTheme:!0})(Y),M=a(28);var z=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={value:0},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return p.a.createElement("div",null,p.a.createElement("div",{className:N()("flex flex-col p-16")},this.props.invoices&&p.a.createElement(h.V,{className:"flex flex-1 flex-col min-h-px shadow-none",style:{alignItems:"center",flexDirection:"column"}},p.a.createElement(P.a,{className:e.card},p.a.createElement(L.a,{style:{color:"white"}},p.a.createElement("h2",null,"Sales"),p.a.createElement(h.pb,{className:e.pos,style:{color:"white"}},"Lifetime sum of your sale"),p.a.createElement(h.pb,{variant:"h5",component:"h2",style:{color:"white"}}))),p.a.createElement(P.a,{className:e.card},p.a.createElement("div",{className:"mb-32 w-full sm:w-1/2 md:w-full pt-24"},p.a.createElement(b.a,{delay:600},p.a.createElement("div",{className:"px-16 pb-8 text-18 font-300"},p.a.createElement("h2",{style:{color:"white"}},"How are your sales?"))),p.a.createElement("div",{className:"widget w-full p-16"},p.a.createElement(B,{data:{datasets:[[{label:"1Day",data:[72,65,70,78,85,82,88],fill:!1,borderColor:"#5c84f1"}],[{label:"1Week",data:[540,539,527,548,540,552,566],fill:!1,borderColor:"#5c84f1"}],[{label:"1Month",data:[1520,1529,1567,1588,1590,1652,1622],fill:!1,borderColor:"#5c84f1"}]],labels:["1","2","3","4","5","6","7"],options:{spanGaps:!0,legend:{display:!1},maintainAspectRatio:!0,elements:{point:{radius:2,borderWidth:1,hoverRadius:2,hoverBorderWidth:1},line:{tension:0}},layout:{padding:{top:24,left:16,right:16,bottom:16}},scales:{xAxes:[{display:!1}],yAxes:[{display:!0,ticks:{}}]}},today:"12,540",change:{value:321,percentage:2.05}}})))))))}}]),t}(u.Component);var W=Object(E.withStyles)(function(e){var t;return{root:Object(m.a)({width:50,maxWidth:50,minWidth:50},e.breakpoints.down("md"),{width:0,maxWidth:0,minWidth:0}),panel:(t={position:"absolute",width:300,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[3],top:0,height:"100%",minHeight:"100%",bottom:0,right:40,margin:0,zIndex:1e3,transform:"translate3d(290px,0,0)",overflow:"hidden"},Object(m.a)(t,e.breakpoints.down("md"),{transform:"translate3d(360px,0,0)",boxShadow:"none","&.opened":{boxShadow:e.shadows[5]}}),Object(m.a)(t,"transition",e.transitions.create(["transform"],{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.standard})),Object(m.a)(t,"&.opened",{transform:"translateX(40px)"}),t),card:{minWidth:260,maxWidth:260,backgroundColor:"#3C4252",marginTop:30},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}})(Object(M.b)(function(e){return{invoices:e.invoices.invoicesDB}},function(e){return Object(g.c)({},e)})(z)),H=a(177),q=a.n(H),U=a(176),_=a.n(U),G=a(218),V=a(114),$=a(31),J=a.n($),Z=1,K=2,Q=3,X=4,ee=5,te=6,ae=7,ne=8,le=9,re=10,ie=11,oe=12,se=13,ce=14,de=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={checkedEbill:!0,checkedPrint:!0,invoiceStatus:[],FromDate:void 0,ToDate:void 0,invoiceDateOption:Q,invoiceDatePeriod:S()()},a.handleChange=function(e,t){return function(n){var l=a.state.invoiceStatus;l[e]["checked"+t]=n.target.checked,a.setState({invoiceStatus:l}),a.props.updateInvoiceStatus(l)}},a.handleChange1=function(e){var t,n,l,r;switch(a.setState(Object(m.a)({},e.target.name,e.target.value)),a.props.updateInvoiceDateOption(e.target.value),e.target.value){case Z:t=S()().day(0),n=S()().day(6);break;case K:t=S()().day(0),n=S()();break;case Q:t=S()().date(1),n=S()(S()().date(1)).endOf("month");break;case X:t=S()().date(1),n=S()();break;case ee:l=S()().quarter(),t=S()().quarter(l).startOf("quarter"),n=S()().quarter(l).endOf("quarter");break;case te:l=S()().quarter(),t=S()().quarter(l).startOf("quarter"),n=S()();break;case ae:r=S()().year(),t=S()().startOf("year"),n=S()().endOf("year");break;case ne:r=S()().year(),t=S()().startOf("year"),n=S()();break;case le:n=t=S()();break;case re:n=t=S()().subtract(1,"days");break;case ie:t=1===(l=S()().quarter())?S()().subtract(1,"years").quarter(4).startOf("quarter"):S()().quarter(l-1).startOf("quarter"),n=1===l?S()().quarter(l).startOf("quarter").subtract(1,"days"):S()().quarter(l-1).endOf("quarter");break;case oe:r=S()().year(),t=S()().subtract(1,"years").startOf("year"),n=S()().subtract(1,"years").startOf("year").add(1,"years").subtract(1,"days");break;case ce:r=S()(a.state.invoiceDatePeriod).year();var i=S()(a.state.invoiceDatePeriod).month();t=S()().year(r).month(i).startOf("month"),n=S()().year(r).month(i).endOf("month")}e.target.value!==se&&(a.props.updateDate(x.gc,t.format("MM/DD/YYYY")),a.props.updateDate(x.nc,n.format("MM/DD/YYYY")))},a.handleInvoiceFromDateChange=function(e){a.setState({FromDate:e}),a.props.updateDate(x.gc,S()(e).format("MM/DD/YYYY"))},a.handleInvoiceToDateChange=function(e){a.setState({ToDate:e}),a.props.updateDate(x.nc,S()(e).format("MM/DD/YYYY"))},a.handlePeriodChange=function(e){a.setState({invoiceDatePeriod:e});var t=S()(e).year(),n=S()(e).month(),l=S()().year(t).month(n).startOf("month").format("MM/DD/YYYY"),r=S()().year(t).month(n).endOf("month").format("MM/DD/YYYY");a.props.updateDate(x.gc,l),a.props.updateDate(x.nc,r)},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillMount",value:function(){this.setState({checkedEbill:this.props.transactionStatus.checkedEbill,checkedPrint:this.props.transactionStatus.checkedPrint}),this.setState({invoiceStatus:this.props.invoiceStatus}),this.setState({FromDate:this.props.FromDate}),this.setState({ToDate:this.props.ToDate}),this.setState({invoiceDateOption:this.props.invoiceDateOption})}},{key:"componentDidUpdate",value:function(e,t,a){e.invoiceStatus!==this.props.invoiceStatus&&this.setState({invoiceStatus:this.props.invoiceStatus}),e.FromDate!==this.props.FromDate&&this.setState({FromDate:this.props.FromDate}),e.ToDate!==this.props.ToDate&&this.setState({ToDate:this.props.ToDate}),e.invoiceDateOption!==this.props.invoiceDateOption&&this.setState({invoiceDateOption:this.props.invoiceDateOption})}},{key:"render",value:function(){var e=this,t=this.props.classes;return p.a.createElement("div",{className:N()(t.root)},p.a.createElement("div",{className:N()("flex flex-col")},p.a.createElement(h.V,{className:"flex flex-1 flex-col min-h-px p-20"},p.a.createElement(h.v,{className:t.formControl,style:{width:200}},p.a.createElement("h3",{className:"mb-20"},"Invoice Date"),p.a.createElement(h.Z,{value:this.state.invoiceDateOption,onChange:this.handleChange1,inputProps:{name:"invoiceDateOption",id:"invoiceDateOption"}},p.a.createElement(h.R,{value:Z},"This Week"),p.a.createElement(h.R,{value:K},"This Week-to-date"),p.a.createElement(h.R,{value:Q},"This Month"),p.a.createElement(h.R,{value:X},"This Month-to-date"),p.a.createElement(h.R,{value:ee},"This Quarter"),p.a.createElement(h.R,{value:te},"This Quarter-to-Date"),p.a.createElement(h.R,{value:ae},"This Year"),p.a.createElement(h.R,{value:ne},"This Year-to-date"),p.a.createElement(h.R,{value:le},"Today"),p.a.createElement(h.R,{value:re},"Yesterday"),p.a.createElement(h.R,{value:ie},"Last Quarter"),p.a.createElement(h.R,{value:oe},"Last Year"),p.a.createElement(h.R,{value:se},"Custom Date"),p.a.createElement(h.R,{value:ce},"Period"))),p.a.createElement("br",null),this.state.invoiceDateOption===se&&p.a.createElement(V.b,{utils:G.a},p.a.createElement("div",{className:"flex flex-col mt-20"},p.a.createElement("h3",{className:"mb-20"},"Custom Date"),p.a.createElement(V.a,{margin:"none",label:"From Date",name:"FromDate",variant:"outlined",format:"MM/DD/YYYY",value:this.state.FromDate,onChange:this.handleInvoiceFromDateChange,fullWidth:!0,required:!0,color:"secondary"}),p.a.createElement("br",null),p.a.createElement(V.a,{margin:"none",label:"To Date",name:"ToDate",variant:"outlined",format:"MM/DD/YYYY",value:this.state.ToDate,onChange:this.handleInvoiceToDateChange,fullWidth:!0,required:!0,color:"secondary",style:{marginTop:"30px!important"}}))),this.state.invoiceDateOption===ce&&p.a.createElement(V.b,{utils:G.a},p.a.createElement("div",{className:"flex flex-col mt-20"},p.a.createElement("h3",{className:"mb-20"},"Choose a Period"),p.a.createElement(V.a,{margin:"none",label:"Period",name:"invoiceDatePeriod",variant:"outlined",format:"MM/YYYY",value:this.state.invoiceDatePeriod,onChange:this.handlePeriodChange,fullWidth:!0,InputProps:{classes:{input:t.input}},InputLabelProps:{shrink:!0,classes:{outlined:t.label}},openToYearSelection:!0}))),p.a.createElement("div",{style:{marginTop:20,display:"flex",flexDirection:"column"}},p.a.createElement("h3",null,"Invoice Status"),this.state.invoiceStatus.length>0&&this.state.invoiceStatus.map(function(t,a){return p.a.createElement(_.a,{key:a,control:p.a.createElement(q.a,{checked:t["checked"+t.TransactionStatusListId],onChange:e.handleChange(a,t.TransactionStatusListId),value:"checkedPaid"}),label:t.Name})}),p.a.createElement("br",null),p.a.createElement("h3",null,"Delivery Method"),p.a.createElement(_.a,{control:p.a.createElement(q.a,{checked:this.state.checkedEbill,onChange:this.handleChange("checkedEbill"),value:"checkedEbill"}),label:"Ebill (Email)"}),p.a.createElement(_.a,{control:p.a.createElement(q.a,{checked:this.state.checkedPrint,onChange:this.handleChange("checkedPrint"),value:"checkedPrint"}),label:"Print"})))))}}]),t}(u.Component);var me=Object(E.withStyles)(function(e){var t;return{root:{"& input, & label":{},"& fieldset":{},"& white":{color:"white!important"}},panel:(t={position:"absolute",width:250,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[3],top:0,height:"100%",minHeight:"100%",bottom:0,left:-250,margin:0,zIndex:1e3,transform:"translate3d(50px,0,0)",overflow:"hidden"},Object(m.a)(t,e.breakpoints.down("md"),{transform:"translate3d(360px,0,0)",boxShadow:"none","&.opened":{boxShadow:e.shadows[5]}}),Object(m.a)(t,"transition",e.transitions.create(["transform"],{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.standard})),Object(m.a)(t,"&.opened1",{transform:"translateX(250px)"}),t)}},{withTheme:!0})(Object(M.b)(function(e){var t=e.invoices,a=e.fuse;return{filterState:t.bOpenedFilterPanel,transactionStatus:t.transactionStatus,invoiceStatus:t.invoiceStatus,FromDate:t.FromDate,ToDate:t.ToDate,settings:a.settings.current,invoiceDateOption:t.invoiceDateOption}},function(e){return Object(g.c)({toggleStatus:x.je,updateDate:x.oe,updateInvoiceStatus:x.ue,updateInvoiceDateOption:x.se,updatePeriodOption:x.xe},e)})(de)),ue={MasterTrxTypeListId:"",RegionId:"",RegionName:"",InvoiceId:"",InvoiceNo:"",InvoiceDate:"",DueDate:"",CustomerId:"",CustomerNo:"",CustomerName:"",EBill:"",PrintInvoice:"",InvoiceDescription:"",InvoiceAmount:"",InvoiceTax:"",InvoiceTotal:"",CPI:"",TransactionStatusListId:"",TransactionStatus:"",InvoiceBalanceAmount:"",InvoiceBalanceTax:"",InvoiceBalanceTotal:"",EBillText:"",PrintInvoiceText:"",IsOpen:"",ConsolidatedInvoice:"",ConsolidatedInvoiceId:"",ConsolidatedInvoiceNo:"",CreditId:"",Service:""},pe=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state=Object(l.a)({s:"",temp:[],data:[],checkedEbill:!0,checkedPrint:!0,selection:[],selectAll:!1,regionId:0,customers:null,franchisees:null},ue,{value:"",selectedInvoice:null}),a.getInvoicesFromStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props.invoices;if(null!==e&&0!==e.Data.Region.length){var t=e.Data.Region[0].InvList;a.setState({temp:t}),a.setState({data:t})}},a.onNewInvoice=function(){a.props.filterState&&a.props.toggleFilterPanel(),a.props.summaryState&&a.props.toggleSummaryPanel(),a.props.openNewInvoiceForm()},a.handleChange=function(e){a.setState(J.a.set(Object(l.a)({},a.state),e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value))},a.handleSearchChange=function(e){return function(t){a.setState(Object(m.a)({},e,t.target.value))}},a.removeInvoices=function(){0!==a.state.selection.length?window.confirm("Do you really want to remove the selected invoice(s)")&&(a.props.deleteInvoicesAction(a.state.selection,a.props.invoices),a.setState({selection:[],selectAll:!1})):alert("Please choose invoice(s) to delete")},e.bLoadedInvoices||(e.getInvoiceStatus(e.regionId),e.getInvoices([e.regionId],e.StatusId,e.FromDate,e.ToDate,e.PeriodId,e.OpenOrClosed,e.InvoiceTypeId,e.ToPrintOrToEmail,e.SearchText),e.getBillingLists(e.regionId),e.getServiceLists(e.regionId)),e.bLoadedCustomers||e.getCustomers(e.regionId),e.bLoadedFranchisees||e.getFranchisees(e.regionId,e.fstatusId,e.fLocation,e.fLongitude,e.fLatitude,e.fSearchText),a.escFunction=a.escFunction.bind(Object(d.a)(Object(d.a)(a))),a.listenScrollEvent=a.listenScrollEvent.bind(Object(d.a)(Object(d.a)(a))),a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){var n=!1,l=this.props,r=l.regionId,i=l.StatusId,o=l.FromDate,s=l.ToDate,c=l.PeriodId,d=l.OpenOrClosed,m=l.InvoiceTypeId,u=l.ToPrintOrToEmail,p=l.SearchText,h=this.props,b=h.fstatusId,E=h.fLocation,v=h.fLongitude,f=h.fLatitude,g=h.fSearchText;this.props.transactionStatus.checkedEbill!==e.transactionStatus.checkedEbill&&(this.setState({checkedEbill:!this.state.checkedEbill}),n=!0),this.props.transactionStatus.checkedPrint!==e.transactionStatus.checkedPrint&&(this.setState({checkedPrint:!this.state.checkedPrint}),n=!0),r!==e.regionId&&(this.props.getCustomers(r),this.props.getBillingLists(r)),r!==e.regionId&&this.props.getFranchisees(r,b,E,v,f,g),r===e.regionId&&o===e.FromDate&&s===e.ToDate||this.props.getInvoices([r],i,o,s,c,d,m,u,p),this.props.bInvoicesUpdated&&this.props.bInvoicesUpdated!==e.bInvoicesUpdated&&this.props.getInvoices([r],i,o,s,c,d,m,u,p),t.s!==this.state.s&&this.search(this.state.s),n&&this.getInvoicesFromStatus(),null===e.invoices&&null!==this.props.invoices&&this.getInvoicesFromStatus(),void 0!==this.props.removedId&&this.props.removedId!==e.removedId&&this.props.getInvoices([r],i,o,s,c,d,m,u,p)}},{key:"search",value:function(e){var t=this.state.data.filter(function(t){return-1!==t.InvoiceId.toString().indexOf(e)||!e||-1!==t.InvoiceNo.indexOf(e)||-1!==t.InvoiceAmount.toString().indexOf(e)||-1!==t.InvoiceTotal.toString().indexOf(e)||-1!==t.InvoiceTax.toString().indexOf(e)||null!==t.InvoiceDescription&&-1!==t.InvoiceDescription.toLowerCase().indexOf(e)||-1!==t.CustomerName.toLowerCase().indexOf(e)||-1!==t.CustomerId.toString().indexOf(e)||-1!==t.CustomerNo.toString().indexOf(e)||-1!==t.TransactionStatusListId.toString().indexOf(e)});this.setState({temp:t})}},{key:"componentWillMount",value:function(){this.setState({checkedOpen:this.props.transactionStatus.checkedEbill}),this.setState({checkedOpen:this.props.transactionStatus.checkedPrint}),this.getInvoicesFromStatus();var e=this.props,t=e.regionId,a=e.StatusId,n=e.FromDate,l=e.ToDate,r=e.PeriodId,i=e.OpenOrClosed,o=e.InvoiceTypeId,s=e.ToPrintOrToEmail,c=e.SearchText,d=this.props,m=d.fstatusId,u=d.fLocation,p=d.fLongitude,h=d.fLatitude,b=d.fSearchText;null===this.props.invoices&&(this.props.getInvoices([t],a,n,l,r,i,o,s,c),this.props.getCustomers(t),this.props.getFranchisees(t,m,u,p,h,b))}},{key:"componentWillReceiveProps",value:function(e){if(null===this.props.invoices&&null!==e.invoices&&this.getInvoicesFromStatus(e.invoices),this.props.invoices!==e.invoices&&this.getInvoicesFromStatus(e.invoices),null!==e.customers&&this.props.customers!==e.customers){var t=[];console.log("customers",e.customers),e.customers.Data.Regions.map(function(e){return t=[].concat(Object(n.a)(t),Object(n.a)(e.CustomerList)),!0}),this.setState({customers:t})}null!==e.franchisees&&this.props.franchisees!==e.franchisees&&this.setState({franchisees:e.franchisees.Data.Region[0].FranchiseeList})}},{key:"componentDidMount",value:function(){if(document.addEventListener("keydown",this.escFunction),null!==this.props.customers){var e=[];this.props.customers.Data.Regions.map(function(t){return e=[].concat(Object(n.a)(e),Object(n.a)(t.CustomerList)),!0}),this.setState({customers:e})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escFunction,!1),window.removeEventListener("scroll",this.listenScrollEvent)}},{key:"listenScrollEvent",value:function(e){console.log(e)}},{key:"escFunction",value:function(e){27===e.keyCode&&(this.setState({s:""}),this.getInvoicesFromStatus())}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.toggleFilterPanel,l=t.toggleSummaryPanel,r=t.filterState,i=t.summaryState,o=t.openNewInvoiceForm,s=t.invoiceForm,c=this.state.selection;return p.a.createElement(p.a.Fragment,null,p.a.createElement(b.m,{classes:{root:N()(a.layoutRoot),rightSidebar:N()(a.layoutRightSidebar,{openSummary:i}),leftSidebar:N()(a.layoutLeftSidebar,{openFilter:r}),sidebarHeader:a.layoutSidebarHeader,header:a.layoutHeader,content:a.content},header:p.a.createElement("div",{className:"flex w-full items-center"},this.state.temp&&!s.props.open&&p.a.createElement("div",{className:"flex row flex-1  p-8 sm:p-12 relative justify-between"},p.a.createElement("div",{className:"flex flex-row flex-1 justify-between"},p.a.createElement("div",{className:"flex flex-shrink items-center"},p.a.createElement("div",{className:"flex items-center"},p.a.createElement(b.a,{animation:"transition.expandIn",delay:300},p.a.createElement(h.E,{className:"text-32 mr-12"},"account_box")),p.a.createElement(b.a,{animation:"transition.slideLeftIn",delay:300},p.a.createElement(h.pb,{variant:"h6",className:"hidden sm:flex"},"Accounts Receivable | Invoices")))),p.a.createElement("div",{className:"flex flex-shrink items-center"},p.a.createElement(b.a,{animation:"transition.expandIn",delay:300},p.a.createElement(h.t,{color:"secondary","aria-label":"add",className:N()(a.sideButton,"mr-12"),onClick:function(){return e.onNewInvoice()}},p.a.createElement(h.E,null,"add"))),p.a.createElement(b.a,{animation:"transition.expandIn",delay:300},p.a.createElement(h.t,{color:"secondary","aria-label":"add",className:N()(a.sideButton,"mr-12"),onClick:function(){return e.props.history.push("/apps/mail/inbox")}},p.a.createElement(h.E,null,"mail_outline"))),p.a.createElement(b.a,{animation:"transition.expandIn",delay:300},p.a.createElement(h.t,{color:"secondary","aria-label":"add",className:a.sideButton,onClick:function(){return alert("ok")}},p.a.createElement(h.E,null,"print"))))),p.a.createElement("div",{className:"flex flex-none items-end",style:{display:"none"}},p.a.createElement(b.a,{animation:"transition.expandIn",delay:600},p.a.createElement(h.t,{color:"secondary","aria-label":"add",className:a.addButton,onClick:function(){return o}},p.a.createElement(h.E,null,"add"))),p.a.createElement(b.a,{animation:"transition.expandIn",delay:300},p.a.createElement(h.t,{color:"primary","aria-label":"add",className:N()(a.sideButton,"mr-12"),onClick:function(){return e.props.history.push("/apps/mail/inbox")}},p.a.createElement(h.E,null,"mail_outline"))),p.a.createElement(b.a,{animation:"transition.expandIn",delay:300},p.a.createElement(h.t,{color:"secondary","aria-label":"add",className:a.sideButton,onClick:function(){return alert("ok")}},p.a.createElement(h.E,null,"print"))),c.length>0&&p.a.createElement(b.a,{animation:"transition.expandIn",delay:600},p.a.createElement(h.t,{color:"secondary","aria-label":"delete",className:a.removeButton,onClick:function(){return e.removeInvoices()}},p.a.createElement(h.E,null,"delete"))))),this.state.temp&&s.props.open&&p.a.createElement("div",{className:"flex row flex-1  p-8 sm:p-12 relative justify-between"},p.a.createElement("div",{className:"flex flex-row flex-1 justify-between"},p.a.createElement("div",{className:"flex flex-shrink items-center"},p.a.createElement("div",{className:"flex items-center"},p.a.createElement(b.a,{animation:"transition.expandIn",delay:300},p.a.createElement(h.nb,{className:"pl-12 pr-0"},p.a.createElement("img",{className:"mr-12",src:"assets/images/invoices/invoice-icon-white.png",alt:"new invoice",style:{width:32,height:32}}))),"edit"===this.props.invoiceForm.type&&p.a.createElement(b.a,{animation:"transition.slideLeftIn",delay:300},p.a.createElement(h.pb,{variant:"h6",className:"hidden sm:flex"},"Accounts Receivable | Edit Invoice")),"new"===this.props.invoiceForm.type&&p.a.createElement(b.a,{animation:"transition.slideLeftIn",delay:300},p.a.createElement(h.pb,{variant:"h6",className:"hidden sm:flex"},"Accounts Receivable | New Invoice"))))))),content:p.a.createElement("div",{className:"flex-1 flex-col absolute w-full h-full"},this.state.temp&&!s.props.open&&p.a.createElement("div",{className:N()("flex flex-col h-full")},p.a.createElement("div",{className:"flex flex-row items-center p-12"},p.a.createElement("div",{className:"flex justify-start items-center"},p.a.createElement(h.D,{smDown:!0},p.a.createElement(h.c,{onClick:function(e){return n()},"aria-label":"toggle filter panel",color:"secondary",disabled:!!r,className:N()(a.filterPanelButton)},p.a.createElement("img",{className:a.imageIcon,src:"assets/images/invoices/filter.png",alt:"filter"}))),p.a.createElement(h.D,{smUp:!0},p.a.createElement(h.c,{onClick:function(t){return e.pageLayout.toggleLeftSidebar()},"aria-label":"toggle filter panel",className:N()(a.filterPanelButton)},p.a.createElement("img",{className:a.imageIcon,src:"assets/images/invoices/filter.png",alt:"filter"})))),p.a.createElement("div",{className:"flex items-center w-full h-44 mr-12 ml-12"},p.a.createElement(h.V,{className:"flex items-center h-44 w-full lg:mr-12 xs:mr-0",elevation:1},p.a.createElement(h.G,{placeholder:"Search...",className:N()(a.search,"pl-16"),disableUnderline:!0,fullWidth:!0,value:this.state.s,onChange:this.handleSearchChange("s"),inputProps:{"aria-label":"Search"}}),p.a.createElement(h.E,{color:"action",className:"mr-16"},"search"))),p.a.createElement("div",{className:"flex items-center justify-end pr-12"},p.a.createElement(h.D,{smDown:!0},p.a.createElement(h.c,{onClick:function(e){return l()},"aria-label":"toggle summary panel",disabled:!!i,className:N()(a.summaryPanelButton)},p.a.createElement(h.E,null,"insert_chart"))),p.a.createElement(h.D,{smUp:!0},p.a.createElement(h.c,{onClick:function(t){return e.pageLayout.toggleRightSidebar()},"aria-label":"toggle summary panel",className:N()(a.summaryPanelButton)},p.a.createElement(h.E,null,"insert_chart"))))),p.a.createElement(T,{data:this.state.temp})),this.state.temp&&s.props.open&&p.a.createElement(F.a,{customers:this.state.customers,selectedInvoice:this.state.selectedInvoice})),leftSidebarHeader:p.a.createElement("div",{className:N()("flex flex-row w-full h-full justify-between p-12 align-middle pr-0",{filteropen:r})},p.a.createElement("h4",{style:{marginBlockStart:"1em"}},"Filter Panel"),p.a.createElement(b.a,{animation:"transition.expandIn",delay:200},p.a.createElement("div",null,p.a.createElement(h.D,{xsDown:!0},p.a.createElement(h.F,{onClick:function(e){return n()}},p.a.createElement(h.E,null,"close")))))),leftSidebarContent:p.a.createElement(me,null),rightSidebarHeader:p.a.createElement("div",{className:"flex flex-row w-full h-full justify-between p-24 align-middle pr-0"},p.a.createElement("h4",{style:{marginBlockStart:"1em"}},"Summary Panel"),p.a.createElement(b.a,{animation:"transition.expandIn",delay:200},p.a.createElement("div",null,p.a.createElement(h.D,{xsDown:!0},p.a.createElement(h.F,{onClick:function(e){return l()}},p.a.createElement(h.E,null,"close")))))),rightSidebarContent:p.a.createElement(W,null),onRef:function(t){e.pageLayout=t}}),(this.props.bInvoiceStart||this.props.bCustomerFetchStart||this.props.bFranchiseesFetchStart)&&p.a.createElement("div",{className:a.overlay},p.a.createElement(h.j,{className:a.progress,color:"secondary"})))}}]),t}(u.Component);t.default=Object(E.withStyles)(function(e){return{root:{background:"url('/assets/images/backgrounds/signin-bg.jpg') no-repeat",backgroundSize:"cover"},layoutRoot:{flexDirection:"row","& .z-9999":{height:64},"& .openFilter":{width:"inherit"},"& .openSummary":{width:300},"& .p-12-impor":{paddingLeft:"1.2rem!important",paddingRight:"1.2rem!important"}},button:{"& span":{textTransform:"none"}},card:{width:"100%"},progress:{margin:2*e.spacing.unit},layoutHeader:{height:80,minHeight:80,backgroundColor:e.palette.secondary.main},layoutRightSidebar:Object(m.a)({width:0},e.breakpoints.down("sm"),{width:"inherit"}),layoutLeftSidebar:Object(m.a)({width:0},e.breakpoints.down("sm"),{width:"inherit"}),layoutSidebarHeader:{height:80,minHeight:80,display:"flex",alignItems:"center",backgroundColor:e.palette.secondary.main},content:{position:"relative"},addButton:{position:"absolute",bottom:-28,left:16,zIndex:999,backgroundColor:e.palette.primary.light,"&:hover":{backgroundColor:e.palette.primary.dark}},sideButton:{backgroundColor:e.palette.primary.light,height:46,width:46,"&:hover":{backgroundColor:e.palette.primary.dark}},removeButton:{position:"absolute",bottom:-28,right:16,zIndex:999,backgroundColor:e.palette.secondary.light,"&:hover":{backgroundColor:e.palette.secondary.dark}},container:{position:"relative",width:"100%"},formControl:{marginBottom:24,minWidth:200},divider:{height:2*e.spacing.unit},overlay:{position:"absolute",top:0,left:0,width:"100%",height:"100vh",backgroundColor:"rgba(0,0,0, .9)",zIndex:1e3,alignItems:"center",justifyContent:"center",display:"flex",opacity:.5},filterPanelButton:{backgroundColor:e.palette.secondary.main,minWidth:42,padding:8,justifyContent:"center","&:hover":{backgroundColor:e.palette.primary.dark}},summaryPanelButton:{backgroundColor:e.palette.secondary.main,minWidth:42,padding:8,color:"white",justifyContent:"center","&:hover":{backgroundColor:e.palette.primary.dark}},imageIcon:{width:24}}},{withTheme:!0})(Object(v.g)(Object(y.a)(function(e){var t=e.invoices,a=e.auth,n=(e.customers,e.franchisees);return{invoices:t.invoicesDB,invoiceDetail:t.invoiceDetail,bLoadedInvoices:t.bLoadedInvoices,transactionStatus:t.transactionStatus,invoiceStatus:t.invoiceStatus,filterState:t.bOpenedFilterPanel,summaryState:t.bOpenedSummaryPanel,invoiceForm:t.invoiceForm,FromDate:t.FromDate,ToDate:t.ToDate,StatusId:t.StatusId,PeriodId:t.PeriodId,OpenOrClosed:t.OpenOrClosed,InvoiceTypeId:t.InvoiceTypeId,ToPrintOrToEmail:t.ToPrintOrToEmail,SearchText:t.SearchText,bInvoiceStart:t.bInvoiceStart,bInvoicesUpdated:t.bInvoicesUpdated,customers:t.customersDB,bLoadedCustomers:t.bLoadedSuggestCustomers,bCustomerFetchStart:t.bSuggestCustomersFetchStart,removedId:t.removedId,regionId:a.login.defaultRegionId,franchisees:n.franchiseesDB,bLoadedFranchisees:n.bLoadedFranchisees,fstatusId:n.statusId,fLocation:n.Location,fLongitude:n.Longitude,fLatitude:n.Latitude,fSearchText:n.SearchText,bFranchiseesFetchStart:n.bFranchiseesFetchStart}},function(e){return Object(g.c)({getInvoices:x.id,getInvoiceStatus:x.hd,getInvoiceDetail:x.gd,toggleFilterPanel:x.ee,toggleSummaryPanel:x.ke,openNewInvoiceForm:x.Gd,openEditInvoiceForm:x.zd,getCustomers:x.pd,getFranchisees:x.fd,getBillingLists:x.Tc,getServiceLists:x.nd},e)})(pe)))}}]);
//# sourceMappingURL=30.321732f4.chunk.js.map