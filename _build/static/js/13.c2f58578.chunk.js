(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1607:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};n.get||n.set?Object.defineProperty(t,a,n):t[a]=e[a]}return t.default=e,t}(a(0)),l=(n=a(2))&&n.__esModule?n:{default:n},o=a(1608);function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,u(t).apply(this,arguments))}var a,n,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r.Component),a=t,(n=[{key:"render",value:function(){if(!this.props.visible)return null;var e=this.props,t=e.id,a=e.size,n=e.width,l=e.height,o=e.spinnerColor,i=e.spinnerWidth,s=a||Math.min(n,l);return r.default.createElement("div",{id:t,className:"spinner",style:{width:s,height:s,borderColor:o,borderWidth:i}})}}])&&s(a.prototype,n),l&&s(a,l),t}();m(p,"propTypes",{size:l.default.number,spinnerColor:l.default.string,spinnerWidth:l.default.number,visible:l.default.bool}),m(p,"defaultProps",{size:40,spinnerColor:"#333333",spinnerWidth:5,visible:!0});var h=(0,o.SpinnerMixin)(p);t.default=h},1608:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpinnerMixin=void 0;var n,r=(n=a(0))&&n.__esModule?n:{default:n};function l(e){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function i(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d="\n.spinner {\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  border: 10px solid #333;\n  box-sizing: border-box;\n  -webkit-animation: sweep 1s linear alternate infinite, rota 0.8s linear infinite;\n          animation: sweep 1s linear alternate infinite, rota 0.8s linear infinite;\n}\n\n@keyframes rota {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n@-webkit-keyframes rota {\n  from {\n    -webkit-transform: rotate(0deg);\n  }\n  to {\n    -webkit-transform: rotate(360deg);\n  }\n}\n\n@keyframes sweep {\n  0% {\n    -webkit-clip-path: polygon(0% 0%, 0% 0%, 0% 0%, 50% 50%, 0% 0%, 0% 0%, 0% 0%);\n    clip-path: polygon(0% 0%, 0% 0%, 0% 0%, 50% 50%, 0% 0%, 0% 0%, 0% 0%);\n  }\n  50% {\n    -webkit-clip-path: polygon(0% 0%, 0% 100%, 0% 100%, 50% 50%, 100% 0%, 100% 0%, 0% 0%);\n    clip-path: polygon(0% 0%, 0% 100%, 0% 100%, 50% 50%, 100% 0%, 100% 0%, 0% 0%);\n  }\n  100% {\n    -webkit-clip-path: polygon(0% 0%, 0% 100%, 100% 100%, 50% 50%, 100% 100%, 100% 0%, 0% 0%);\n    clip-path: polygon(0% 0%, 0% 100%, 100% 100%, 50% 50%, 100% 100%, 100% 0%, 0% 0%);\n  }\n}\n\n@-webkit-keyframes sweep {\n  0% {\n    -webkit-clip-path: polygon(0% 0%, 0% 0%, 0% 0%, 50% 50%, 0% 0%, 0% 0%, 0% 0%);\n  }\n  50% {\n    -webkit-clip-path: polygon(0% 0%, 0% 100%, 0% 100%, 50% 50%, 100% 0%, 100% 0%, 0% 0%);\n  }\n  100% {\n    -webkit-clip-path: polygon(0% 0%, 0% 100%, 100% 100%, 50% 50%, 100% 100%, 100% 0%, 0% 0%);\n  }\n}\n",m="spinner_id_style",p={id:0};t.SpinnerMixin=function(e){return function(t){function a(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=s(this,c(a).call(this,e)),!document.getElementById(m)){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.id=m,r.type="text/css",r.styleSheet?r.styleSheet.cssText=d:r.appendChild(document.createTextNode(d)),n&&n.appendChild(r)}return p.id+=1,t.state={id:"spinner_".concat(p.id)},t}var n,l,h;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(a,r.default.Component),n=a,(l=[{key:"render",value:function(){return r.default.createElement(e,o({},this.props,this.state))}}])&&i(n.prototype,l),h&&i(n,h),a}()}},1788:function(e,t,a){"use strict";var n=a(173);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),l=(0,n(a(208)).default)(r.default.createElement(r.default.Fragment,null,r.default.createElement("path",{d:"M17.75 7L14 3.25l-10 10V17h3.75l10-10zm2.96-2.96c.39-.39.39-1.02 0-1.41L18.37.29a.9959.9959 0 0 0-1.41 0L15 2.25 18.75 6l1.96-1.96z"}),r.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),r.default.createElement("path",{fillOpacity:".36",d:"M0 20h24v4H0z"})),"BorderColor");t.default=l},1836:function(e,t,a){"use strict";a.r(t);var n=a(12),r=a(9),l=a(15),o=a(19),i=a(17),s=a(18),c=a(58),u=a(13),d=a(0),m=a.n(d),p=a(10),h=a(167),g=a(24),f=a(1),b=a(7),v=a(73),E=a(5),y=a(455),S=a.n(y),C=a(210),x=a.n(C),w=a(176),k=a.n(w),N=a(211),O=a.n(N),L=a(247),j=a.n(L),D=a(3),P=a(454),T=a(4),F=a.n(T),R=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={tabIndex:0},a.handleChange=function(e,t){a.setState({tabIndex:t})},a.handleChangeIndex=function(e){a.setState({tabIndex:e})},a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.classes,n=e.theme,r=this.state.tabIndex,l=t.datasets[r].map(function(e){return Object(D.a)({},e,{borderColor:n.palette.secondary.main})});return m.a.createElement(f.d,{className:F()(a.root,"w-full")},m.a.createElement(f.a,{position:"static"},m.a.createElement("div",{className:"p-16 pr-4 flex flex-row items-center justify-between"},m.a.createElement("div",{className:"pr-16"},m.a.createElement(f.pb,{className:"h1 font-300",color:"inherit"},"Sales"),m.a.createElement(f.pb,{className:"h5",color:"inherit"},"Lifetime sum of your sales")),m.a.createElement("div",null,m.a.createElement(f.F,{"aria-label":"more",color:"inherit"},m.a.createElement(f.E,null,"more_vert")))),m.a.createElement("div",{className:"p-16 pt-8 flex flex-row justify-between items-end"},m.a.createElement(f.pb,{className:"text-48 font-300 leading-none",color:"inherit"},t.today),m.a.createElement("div",{className:"flex flex-row items-center"},t.change.value>0&&m.a.createElement(f.E,{className:"text-green"},"trending_up"),t.change.value<0&&m.a.createElement(f.E,{className:"text-red"},"trending_down"),m.a.createElement("div",{className:"ml-8"},t.change.value,"(",t.change.percentage,"%)"))),m.a.createElement(f.lb,{value:r,onChange:this.handleChange,fullWidth:!0},m.a.createElement(f.eb,{label:"1Day",className:"min-w-0"}),m.a.createElement(f.eb,{label:"1Week",className:"min-w-0"}),m.a.createElement(f.eb,{label:"1Month",className:"min-w-0"}))),m.a.createElement(P.d,{data:{labels:t.labels,datasets:l},options:t.options}))}}]),t}(d.Component),I=Object(p.withStyles)(function(e){return{root:{border:"1px solid "+e.palette.divider,boxShadow:"none",borderRadius:8}}},{withTheme:!0})(R),A=a(28);var M=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={value:0},a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.leaseForm;console.log(this.props);return m.a.createElement("div",null,m.a.createElement("div",{className:F()("flex flex-col p-16")},this.props.leases&&m.a.createElement(f.V,{className:"flex flex-1 flex-col min-h-px shadow-none",style:{alignItems:"center",flexDirection:"column"}},a&&a.props.open?m.a.createElement("div",{style:{marginTop:50,display:"flex",flexDirection:"column"}},m.a.createElement("h3",null,"Validation Status"),m.a.createElement(k.a,{control:m.a.createElement(S.a,{checked:!0,value:"checkedG",classes:{root:t.root,checked:t.checked}}),label:"Company Information"}),m.a.createElement(k.a,{control:m.a.createElement(S.a,{checked:!0,value:"checkedG",classes:{root:t.root,checked:t.checked}}),label:"Billing Address"}),m.a.createElement(k.a,{control:m.a.createElement(S.a,{checked:!0,value:"checkedG",classes:{root:t.root,checked:t.checked}}),label:"Billing Settings"}),m.a.createElement(k.a,{control:m.a.createElement(S.a,{checked:!0,value:"checkedG",classes:{root:t.root,checked:t.checked}}),label:"Company Contacts"}),m.a.createElement(k.a,{control:m.a.createElement(S.a,{checked:!0,value:"checkedG",classes:{root:t.root,checked:t.checked}}),label:"Contract Details"}),m.a.createElement(k.a,{control:m.a.createElement(S.a,{checked:!0,value:"checkedG",classes:{root:t.root,checked:t.checked}}),label:"Contract Signed"}),m.a.createElement(k.a,{control:m.a.createElement(S.a,{checked:!0,value:"checkedG",classes:{root:t.root,checked:t.checked}}),label:"Service Location Info"}),m.a.createElement(k.a,{control:m.a.createElement(S.a,{checked:!0,value:"checkedG",classes:{root:t.root,checked:t.checked}}),label:"Verified & Approved"})):m.a.createElement("div",null,m.a.createElement(O.a,{className:t.card},m.a.createElement(j.a,{style:{color:"white"}},m.a.createElement("h2",null,"Sales"),m.a.createElement(f.pb,{className:t.pos,style:{color:"white"}},"Lifetime sum of your sale"),m.a.createElement(f.pb,{variant:"h5",component:"h2",style:{color:"white"}}))),m.a.createElement(O.a,{className:t.card},m.a.createElement("div",{className:"mb-32 w-full sm:w-1/2 md:w-full pt-24"},m.a.createElement(b.a,{delay:600},m.a.createElement("div",{className:"px-16 pb-8 text-18 font-300"},m.a.createElement("h2",{style:{color:"white"}},"How are your sales?"))),m.a.createElement("div",{className:"widget w-full p-16"},m.a.createElement(I,{data:{datasets:[[{label:"1Day",data:[72,65,70,78,85,82,88],fill:!1,borderColor:"#5c84f1"}],[{label:"1Week",data:[540,539,527,548,540,552,566],fill:!1,borderColor:"#5c84f1"}],[{label:"1Month",data:[1520,1529,1567,1588,1590,1652,1622],fill:!1,borderColor:"#5c84f1"}]],labels:["1","2","3","4","5","6","7"],options:{spanGaps:!0,legend:{display:!1},maintainAspectRatio:!0,elements:{point:{radius:2,borderWidth:1,hoverRadius:2,hoverBorderWidth:1},line:{tension:0}},layout:{padding:{top:24,left:16,right:16,bottom:16}},scales:{xAxes:[{display:!1}],yAxes:[{display:!0,ticks:{}}]}},today:"12,540",change:{value:321,percentage:2.05}}}))))))))}}]),t}(d.Component);Object(p.withStyles)(function(e){var t,a;return{root:(t={width:50,maxWidth:50,minWidth:50},Object(u.a)(t,e.breakpoints.down("md"),{width:0,maxWidth:0,minWidth:0}),Object(u.a)(t,"color",x.a[600]),Object(u.a)(t,"&$checked",{color:x.a[500]}),t),panel:(a={position:"absolute",width:300,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[3],top:0,height:"100%",minHeight:"100%",bottom:0,right:40,margin:0,zIndex:1e3,transform:"translate3d(290px,0,0)",overflow:"hidden"},Object(u.a)(a,e.breakpoints.down("md"),{transform:"translate3d(360px,0,0)",boxShadow:"none","&.opened":{boxShadow:e.shadows[5]}}),Object(u.a)(a,"transition",e.transitions.create(["transform"],{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.standard})),Object(u.a)(a,"&.opened",{transform:"translateX(40px)"}),a),card:{minWidth:260,maxWidth:260,backgroundColor:"#3C4252",marginTop:30},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},checked:{}}})(Object(A.b)(function(e){var t=e.leases;return{leases:t.leasesDB,leaseForm:t.leaseForm}},function(e){return Object(g.c)({},e)})(M));var W=a(65),V=a.n(W),B=a(177),q=a.n(B),Y=a(1609),z=a(114),_=a(23),H=a.n(_),G=a(31),U=a.n(G),J=1,Q=2,$=3,X=4,Z=5,K=6,ee=7,te=8,ae=9,ne=10,re=11,le=12,oe=13,ie=14,se=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={checkedEbill:!0,checkedPrint:!0,leaseStatus:[],FromDate:void 0,ToDate:void 0,leaseDateOption:$,leaseDatePeriodMonth:H()().month(),leaseDatePeriodYear:H()().year()},a.handleDocumentKeyDown=function(e){"esc"===V()(e)&&a.props.closeFilterPanel()},a.handleChange=function(e,t){return function(n){var r=a.state.leaseStatus;r[e]["checked"+t]=n.target.checked,a.setState({leaseStatus:r}),a.props.updateLeaseStatus(r)}},a.handleChange1=function(e){var t,n,r;switch(a.setState(Object(u.a)({},e.target.name,e.target.value)),a.props.updateLeaseDateOption(e.target.value),e.target.value){case J:t=H()().day(0),n=H()().day(6);break;case Q:t=H()().day(0),n=H()();break;case $:t=H()().date(1),n=H()(H()().date(1)).endOf("month");break;case X:t=H()().date(1),n=H()();break;case Z:r=H()().quarter(),t=H()().quarter(r).startOf("quarter"),n=H()().quarter(r).endOf("quarter");break;case K:r=H()().quarter(),t=H()().quarter(r).startOf("quarter"),n=H()();break;case ee:H()().year(),t=H()().startOf("year"),n=H()().endOf("year");break;case te:H()().year(),t=H()().startOf("year"),n=H()();break;case ae:n=t=H()();break;case ne:n=t=H()().subtract(1,"days");break;case re:t=1===(r=H()().quarter())?H()().subtract(1,"years").quarter(4).startOf("quarter"):H()().quarter(r-1).startOf("quarter"),n=1===r?H()().quarter(r).startOf("quarter").subtract(1,"days"):H()().quarter(r-1).endOf("quarter");break;case le:H()().year(),t=H()().subtract(1,"years").startOf("year"),n=H()().subtract(1,"years").startOf("year").add(1,"years").subtract(1,"days");break;case ie:t=H()().year(a.state.leaseDatePeriodYear).month(a.state.leaseDatePeriodMonth).startOf("month"),n=H()().year(a.state.leaseDatePeriodYear).month(a.state.leaseDatePeriodMonth).endOf("month")}e.target.value!==oe&&(a.props.updateDate(E.gc,t.format("MM/DD/YYYY")),a.props.updateDate(E.nc,n.format("MM/DD/YYYY")))},a.handleChangePeriod=function(e){a.setState(Object(u.a)({},e.target.name,e.target.value)),a.props.updatePeriodOption(e.target.name,e.target.value)},a.handleLeaseFromDateChange=function(e){a.setState({FromDate:e}),a.props.updateDate(E.gc,H()(e).format("MM/DD/YYYY"))},a.handleLeaseToDateChange=function(e){a.setState({ToDate:e}),a.props.updateDate(E.nc,H()(e).format("MM/DD/YYYY"))},a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillMount",value:function(){this.setState({checkedEbill:this.props.transactionStatus.checkedEbill,checkedPrint:this.props.transactionStatus.checkedPrint}),this.setState({leaseStatus:this.props.leaseStatus}),this.setState({FromDate:this.props.FromDate}),this.setState({ToDate:this.props.ToDate}),this.setState({leaseDateOption:this.props.leaseDateOption}),this.setState({leaseDatePeriodMonth:this.props.leaseDatePeriodMonth}),this.setState({leaseDatePeriodYear:this.props.leaseDatePeriodYear})}},{key:"componentDidUpdate",value:function(e,t,a){var n,r;(e.leaseStatus!==this.props.leaseStatus&&this.setState({leaseStatus:this.props.leaseStatus}),e.FromDate!==this.props.FromDate&&this.setState({FromDate:this.props.FromDate}),e.ToDate!==this.props.ToDate&&this.setState({ToDate:this.props.ToDate}),e.leaseDateOption!==this.props.leaseDateOption&&this.setState({leaseDateOption:this.props.leaseDateOption}),t.leaseDatePeriodYear!==this.state.leaseDatePeriodYear||t.leaseDatePeriodMonth!==this.state.leaseDatePeriodMonth)&&(n=H()().year(this.state.leaseDatePeriodYear).month(this.state.leaseDatePeriodMonth).startOf("month").format("MM/DD/YYYY"),r=H()().year(this.state.leaseDatePeriodYear).month(this.state.leaseDatePeriodMonth).endOf("month").format("MM/DD/YYYY"),this.props.updateDate(E.gc,n),this.props.updateDate(E.nc,r));this.props.state!==e.state&&(this.props.state?document.addEventListener("keydown",this.handleDocumentKeyDown):document.removeEventListener("keydown",this.handleDocumentKeyDown))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleDocumentKeyDown)}},{key:"render",value:function(){var e=this.props.classes,t=U.a.range(H()().year(),2e3,-1);return m.a.createElement("div",{className:F()(e.root)},m.a.createElement("div",{className:F()("flex flex-col")},m.a.createElement(f.V,{className:"flex flex-1 flex-col min-h-px p-20"},m.a.createElement(f.v,{className:e.formControl,style:{width:200}},m.a.createElement("h3",{className:"mb-20"},"Lease Date"),m.a.createElement(f.Z,{value:this.state.leaseDateOption,onChange:this.handleChange1,inputProps:{name:"leaseDateOption",id:"leaseDateOption"}},m.a.createElement(f.R,{value:""},m.a.createElement("em",null,"None")),m.a.createElement(f.R,{value:J},"This Week"),m.a.createElement(f.R,{value:Q},"This Week-to-date"),m.a.createElement(f.R,{value:$},"This Month"),m.a.createElement(f.R,{value:X},"This Month-to-date"),m.a.createElement(f.R,{value:Z},"This Quarter"),m.a.createElement(f.R,{value:K},"This Quarter-to-Date"),m.a.createElement(f.R,{value:ee},"This Year"),m.a.createElement(f.R,{value:te},"This Year-to-date"),m.a.createElement(f.R,{value:ae},"Today"),m.a.createElement(f.R,{value:ne},"Yesterday"),m.a.createElement(f.R,{value:re},"Last Quarter"),m.a.createElement(f.R,{value:le},"Last Year"),m.a.createElement(f.R,{value:oe},"Custom Date"),m.a.createElement(f.R,{value:ie},"Period"))),m.a.createElement("br",null),this.state.leaseDateOption===oe&&m.a.createElement(z.b,{utils:Y.a},m.a.createElement("div",{className:"flex flex-col mt-20"},m.a.createElement("h3",{className:"mb-20"},"Custom Date"),m.a.createElement(z.a,{margin:"none",label:"From Date",name:"FromDate",variant:"outlined",format:"MM/dd/yyyy",value:this.state.FromDate,onChange:this.handleLeaseFromDateChange,fullWidth:!0,required:!0,color:"secondary"}),m.a.createElement("br",null),m.a.createElement(z.a,{margin:"none",label:"To Date",name:"ToDate",variant:"outlined",format:"MM/dd/yyyy",value:this.state.ToDate,onChange:this.handleLeaseToDateChange,fullWidth:!0,required:!0,color:"secondary",style:{marginTop:"30px!important"}}))),this.state.leaseDateOption===ie&&m.a.createElement("div",{className:"flex flex-col mt-20"},m.a.createElement("h3",{className:"mb-20"},"Choose a Period"),m.a.createElement(f.Z,{value:this.state.leaseDatePeriodYear,onChange:this.handleChangePeriod,inputProps:{name:"leaseDatePeriodYear",id:"leaseDatePeriodYear"}},t.map(function(e,t){return m.a.createElement(f.R,{key:t,value:e},e)})),m.a.createElement("br",null),m.a.createElement(f.Z,{value:this.state.leaseDatePeriodMonth,onChange:this.handleChangePeriod,inputProps:{name:"leaseDatePeriodMonth",id:"leaseDatePeriodMonth"}},["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map(function(e,t){return m.a.createElement(f.R,{key:t,value:t},e)}))),m.a.createElement("div",{style:{marginTop:20,display:"flex",flexDirection:"column"}},m.a.createElement("h3",null,"Lease Status"),m.a.createElement("br",null),m.a.createElement(k.a,{control:m.a.createElement(q.a,{checked:this.state.selectAll,onChange:this.handleChange("selectAll"),value:"selectAll"}),label:"Select All"}),m.a.createElement(k.a,{control:m.a.createElement(q.a,{checked:this.state.checkedActive,onChange:this.handleChange("checkedActive"),value:"checkedActive"}),label:"Active"}),m.a.createElement(k.a,{control:m.a.createElement(q.a,{checked:this.state.checkedComplete,onChange:this.handleChange("checkedComplete"),value:"checkedComplete"}),label:"Complete"}),m.a.createElement(k.a,{control:m.a.createElement(q.a,{checked:this.state.checkedStopped,onChange:this.handleChange("checkedStopped"),value:"checkedStopped"}),label:"Stopped"}),m.a.createElement(k.a,{control:m.a.createElement(q.a,{checked:this.state.checkedTransferred,onChange:this.handleChange("checkedTransferred"),value:"checkedTransferred"}),label:"Transferred"})))))}}]),t}(d.Component);var ce=Object(p.withStyles)(function(e){var t;return{root:{"& input, & label":{},"& fieldset":{},"& white":{color:"white!important"}},panel:(t={position:"absolute",width:250,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[3],top:0,height:"100%",minHeight:"100%",bottom:0,left:-250,margin:0,zIndex:1e3,transform:"translate3d(50px,0,0)",overflow:"hidden"},Object(u.a)(t,e.breakpoints.down("md"),{transform:"translate3d(360px,0,0)",boxShadow:"none","&.opened":{boxShadow:e.shadows[5]}}),Object(u.a)(t,"transition",e.transitions.create(["transform"],{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.standard})),Object(u.a)(t,"&.opened1",{transform:"translateX(250px)"}),t)}},{withTheme:!0})(Object(A.b)(function(e){var t=e.leases,a=e.fuse;return{filterState:t.bOpenedFilterPanel,transactionStatus:t.transactionStatus,leaseStatus:t.leaseStatus,FromDate:t.FromDate,ToDate:t.ToDate,settings:a.settings.current,leaseDateOption:t.leaseDateOption,leaseDatePeriodMonth:t.leaseDatePeriodMonth,leaseDatePeriodYear:t.leaseDatePeriodYear}},function(e){return Object(g.c)({toggleStatus:E.je,updateDate:E.oe,updateLeaseStatus:E.we,updateLeaseDateOption:E.ve,updatePeriodOption:E.xe},e)})(se)),ue=(a(172),a(61)),de=a(149),me=a.n(de),pe=a(250),he=a.n(pe),ge=a(252),fe=a.n(ge),be=a(253),ve=a.n(be),Ee=a(254),ye=a.n(Ee),Se=a(251),Ce=a.n(Se),xe=a(328),we=a(209),ke=a(127),Ne=a(179),Oe=a.n(Ne),Le=a(122),je={success:he.a,warning:Ce.a,error:fe.a,info:ve.a};var De=Object(p.withStyles)(function(e){return{success:{backgroundColor:x.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:me.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"}}})(function(e){var t=e.classes,a=e.className,n=e.message,r=e.onClose,l=e.variant,o=Object(ue.a)(e,["classes","className","message","onClose","variant"]),i=je[l];return m.a.createElement(f.cb,Object.assign({className:F()(t[l],a),"aria-describedby":"client-snackbar",message:m.a.createElement("span",{id:"client-snackbar",className:t.message},m.a.createElement(i,{className:F()(t.icon,t.iconVariant)}),n),action:[m.a.createElement(f.F,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:r},m.a.createElement(ye.a,{className:t.icon}))]},o))}),Pe=0;function Te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Regular Billing",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Adjust-Balance",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return{id:Pe++,billing:e,service:t,description:a,quantity:n,amount:r,tax:l,markup:o,extended:i,total:s,franchisees:[],type:"line"}}function Fe(e){var t=e.classes,a=e.inputRef,n=void 0===a?function(){}:a,r=e.ref,l=Object(ue.a)(e,["classes","inputRef","ref"]);return m.a.createElement(f.mb,Object.assign({fullWidth:!0,InputProps:{inputRef:function(e){r(e),n(e)},classes:{input:t.input}}},l))}function Re(e,t){var a=t.isHighlighted;return m.a.createElement(f.R,{selected:a,component:"div"},m.a.createElement("span",null,e.Number," - ",e.Name))}var Ie=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={order:"asc",selected:[],data:[Te("Regular Billing","Adjust-Balance","","")],page:0,rowsPerPage:10,labelWidth:0,openSnack:!1,snackMessage:"Please fill the data",nameValue0:"",nameValue1:"",nameValue2:"",nameValue3:"",nameValue4:"",nameValue5:"",nameValue6:"",nameValue7:"",nameValue8:"",nameValue9:"",nameValue10:"",nameValue11:"",nameValue12:"",nameValue13:"",nameValue14:"",nameValue15:"",nameValue16:"",nameValue17:"",nameValue18:"",nameValue19:"",nameValue20:"",nameSuggestions:[],numberValue0:"",numberValue1:"",numberValue2:"",numberValue3:"",numberValue4:"",numberValue5:"",numberValue6:"",numberValue7:"",numberValue8:"",numberValue9:"",numberValue10:"",numberValue11:"",numberValue12:"",numberValue13:"",numberValue14:"",numberValue15:"",numberValue16:"",numberValue17:"",numberValue18:"",numberValue19:"",numberValue20:"",numberSuggestions:[],taxRowId:0,customerTaxAmountLine:null},a.handleChangeBilling=function(e,t){var n=a.state.data.map(function(a){var n=a;return t.id===a.id&&(n[e.target.name]=e.target.value),n});a.setState({data:n})},a.updateTaxFromLine=function(){var e=Object(n.a)(a.state.data),t=a.state,r=t.taxRowId,l=t.customerTaxAmountLine;e[r].tax=l.TaxAmount,e[r].extended=l.ExtendedPrice,e[r].total=l.TotalAmount,a.setState({data:e})},a.getSuggestions=function(e){var t=Object(Le.e)(e.trim()),n=new RegExp("^"+t,"i");return a.props.franchisees.Data.Region[0].FranchiseeList.filter(function(e){return n.test(e.Number)||n.test(e.Name)})},a.getSuggestionfName=function(e){return e.Name},a.onNameChange=function(e){return function(t,r){var l=r.newValue;a.setState(Object(u.a)({},"nameValue"+e.f_index,l));var o=Object(n.a)(a.state.data);o[e.id].franchisees[e.fid].name=l,a.setState({data:o})}},a.onNameSuggestionsFetchRequested=function(e){var t=e.value;a.setState({nameSuggestions:a.getSuggestions(t)})},a.onNameSuggestionsClearRequested=function(){a.setState({nameSuggestions:[]})},a.onNameSuggestionSelected=function(e){return function(t,r){var l=r.suggestion,o=Object(n.a)(a.state.data);o[e.id].franchisees[e.fid].fnumber=l.Number,a.setState({data:o})}},a.handleClose=function(e,t){"clickaway"!==t&&a.setState({openSnack:!1})},a.addLineData=function(e){if(null===a.props.leaseForm.customer)return a.setState({snackMessage:"Please choose customer from Invoice suggestion"}),void a.setState({openSnack:!0});if(""===e.description)return a.setState({snackMessage:"Please enter description"}),void a.setState({openSnack:!0});if(""===e.quantity)return a.setState({snackMessage:"Please enter quantity"}),void a.setState({openSnack:!0});if(""===e.amount)return a.setState({snackMessage:"Please enter amount"}),void a.setState({openSnack:!0});var t=[].concat(Object(n.a)(a.state.data),[Te()]),r=0,l=t.map(function(e){return e.id=r++,e});a.setState({data:l})},a.addFranchiseeLine=function(e){var t=Object(n.a)(a.state.data),r=function(e,t){return{id:e,fid:t,fnumber:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",name:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",amount:arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,type:"franch"}}(e.id,e.franchisees.length);e.franchisees=[].concat(Object(n.a)(e.franchisees),[r]);var l=t.map(function(t){return t.id===e.id&&(t=e),t});a.setState({data:l})},a.removeLineData=function(e){var t=Object(n.a)(a.state.data);U.a.remove(t,function(t){return t.id===e.id});var r=0,l=t.map(function(e){return e.id=r++,e});a.setState({data:l})},a.removeFranch=function(e){var t=Object(n.a)(a.state.data);t.forEach(function(t){if(t.franchisees.length>0&&t.id===e.id){var a=t.franchisees;U.a.remove(a,function(t){return t.fid===e.fid})}}),t.forEach(function(t){if(t.franchisees.length>0&&t.id===e.fid){var a=0,n=t.franchisees.map(function(e){return e.fid=a++,e});t.franchisees=n}}),a.setState({data:t}),a.setState(Object(u.a)({},"nameValue"+e.f_index,""))},a.getInvoiceLineTaxAmount=function(e){a.isDisable(e)||(a.props.getCustomerTaxAmount(a.props.regionId,a.props.leaseForm.customer.CustomerId,e.amount,e.quantity),a.setState({taxRowId:e.id}))},a.handleChange=function(e){return function(t){var r=Object(n.a)(a.state.data);r[e.id].franchisees[e.fid].amount=parseFloat(t.target.value),a.setState({data:r})}},a.handleChangeDesc=function(e){return function(t){var r=Object(n.a)(a.state.data);r[e.id].description=t.target.value,a.setState({data:r})}},a.handleChangeInvoiceLine=function(e,t){return function(r){var l=Object(n.a)(a.state.data);l[e.id][t]=r.target.value,a.setState({data:l}),a.isDisable(e)||a.getInvoiceLineTaxAmount(e)}},a.isDisable=function(e){return null===a.props.leaseForm.customer?(a.setState({snackMessage:"Please choose customer from Invoice suggestion"}),a.setState({openSnack:!0}),!0):""===e.quantity||(""===e.amount||void 0)},a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){}},{key:"addInvoiceLineFunction",value:function(e){"enter"===V()(e)||V()(e)}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.addInvoiceLineFunction,!1);var e=0,t=Object(n.a)(this.state.data).map(function(t){return t.id=e++,t});this.setState({data:t})}},{key:"componentDidUpdate",value:function(e,t,a){null!==this.state.data&&t.data!==this.state.data&&this.props.updateInvoiceLine(this.state.data),JSON.stringify(this.state.customerTaxAmountLine)!==JSON.stringify(t.customerTaxAmountLine)&&this.updateTaxFromLine()}},{key:"componentWillReceiveProps",value:function(e){if(JSON.stringify(this.props.customerTaxAmountLine)!==JSON.stringify(e.customerTaxAmountLine)&&this.setState({customerTaxAmountLine:e.customerTaxAmountLine}),null===e.leaseForm.data&&JSON.stringify(e.leaseForm.data)!==JSON.stringify(this.props.leaseForm.data)){console.log("passs");var t=Te("Regular Billing","Adjust-Balance","","");this.setState({data:[Object(D.a)({},t,{id:0})]})}}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.data,n=this.state.nameSuggestions,r=[],l=0;return console.log("data=",a),a.forEach(function(e){if(0===e.franchisees.length)return r.push(e);var t=e.franchisees;r.push(e),t.forEach(function(e){r.push(Object(D.a)({f_index:l++},e))})}),m.a.createElement(f.V,{className:F()(t.root)},m.a.createElement("div",{className:F()(t.tableWrapper,"flex flex-col h-full")},m.a.createElement(ke.b,{data:r,minRows:0,showPagination:!1,getTheadThProps:function(e,t,a,n){var r="1px solid rgba(255,255,255,.6)";return"Action"===a.Header&&(r="none"),{style:{fontSize:13,fontFamily:'Muli,Roboto,"Helvetica",Arial,sans-serif',fontWeight:400,lineHeight:2,color:"white",borderRight:r}}},getTheadProps:function(e,a,n,r){return{style:{fontSize:13},className:t.tableTheadRow}},getTdProps:function(e,t,a,n){return"franch"===t.original.type?"Quantity"===a.Header||"Amount"===a.Header||"Tax"===a.Header?{style:{display:"none"},className:{}}:{className:F()({"justify-end":"Service"===a.Header},{"justify-start":"extended"===a.id},{franchiRow:"description"===a.id})}:{className:F()({"justify-end":"extended"===a.id},{"justify-end":"line"!==t.original.type})}},columns:[{columns:[{Header:"Billing",accessor:"billing",Cell:function(a){return"line"===a.original.type?m.a.createElement(f.v,{variant:"outlined",className:F()(t.selectRoot,t.formControl),style:{marginBottom:"0!important",display:"line"!==a.original.type?"none":"block"}},m.a.createElement(f.Z,{classes:{outlined:F()(t.outlined,t.billing)},value:a.original.billing,onChange:function(t){return e.handleChangeBilling(t,a.original)},input:m.a.createElement(f.U,{labelWidth:e.state.labelWidth,name:"billing",id:"billing"}),MenuProps:{classes:{paper:t.dropdownMenu}}},m.a.createElement(f.R,{value:""},m.a.createElement("em",null,"Select")),m.a.createElement(f.R,{value:"Regular Billing"},"Regular Billing"),m.a.createElement(f.R,{value:"Additional Billing Office"},"Additional Billing Office"),m.a.createElement(f.R,{value:"Extra Work"},"Extra Work"),m.a.createElement(f.R,{value:"Client Supplies"},"Client Supplies"))):m.a.createElement("div",null)},width:180,className:F()(t.tableTdEven,"flex items-center  justify-center")},{Header:"Service",accessor:"service",Cell:function(a){return"line"===a.original.type?m.a.createElement(f.v,{variant:"outlined",className:t.formControl,style:{marginBottom:"0!important"}},m.a.createElement(f.Z,{classes:{outlined:F()(t.outlined,t.services)},value:a.original.service,onChange:function(t){return e.handleChangeBilling(t,a.original)},input:m.a.createElement(f.U,{labelWidth:e.state.labelWidth,name:"service",id:"service"}),MenuProps:{classes:{paper:t.dropdownMenu}}},m.a.createElement(f.R,{value:""},m.a.createElement("em",null,"Select")),m.a.createElement(f.R,{value:"Adjust-Balance"},"Adjust - Balance"),m.a.createElement(f.R,{value:"Adjust-Refund"},"Adjust - Refund"),m.a.createElement(f.R,{value:"Adjust-WriteOff"},"Adjust - WriteOff"),m.a.createElement(f.R,{value:"Buffing"},"Buffing"),m.a.createElement(f.R,{value:"Carpet Clean"},"Carpet Clean"),m.a.createElement(f.R,{value:"Customer Suppliers"},"Customer Suppliers"),m.a.createElement(f.R,{value:"Emergency Clean"},"Emergency Clean"),m.a.createElement(f.R,{value:"Event Center"},"Event Center"),m.a.createElement(f.R,{value:"Floor Services"},"Floor Services"),m.a.createElement(f.R,{value:"Furniture Cleaning Service"},"Furniture Cleaning Service"),m.a.createElement(f.R,{value:"High Dusting"},"High Dusting"),m.a.createElement(f.R,{value:"Hotel"},"Hotel"),m.a.createElement(f.R,{value:"In-House Work"},"In-House Work"),m.a.createElement(f.R,{value:"Initial and Deep Clean"},"Initial and Deep Clean"),m.a.createElement(f.R,{value:"Initial One-Time Clean"},"Initial One-Time Clean"),m.a.createElement(f.R,{value:"Make Ready"},"Make Ready"),m.a.createElement(f.R,{value:"Miscellaneous - Special"},"Miscellaneous - Special"),m.a.createElement(f.R,{value:"Other"},"Other"),m.a.createElement(f.R,{value:"Porter Services"},"Porter Services"),m.a.createElement(f.R,{value:"Power Washing"},"Power Washing"),m.a.createElement(f.R,{value:"Regular Billing"},"Regular Billing"),m.a.createElement(f.R,{value:"Regular Cleaning - Day"},"Regular Cleaning - Day"),m.a.createElement(f.R,{value:"Regular Cleaning - Night"},"Regular Cleaning - Night"))):m.a.createElement("div",{className:F()(t.distribution)},m.a.createElement("span",null,"Distribution"))},width:180,className:F()(t.tableTdEven,"flex items-center")},{Header:"Description",accessor:"description",Cell:function(a){return"line"===a.original.type?m.a.createElement(f.mb,{id:"description",style:{margin:8},placeholder:"Description",fullWidth:!0,value:a.original.description,onChange:e.handleChangeDesc(a.original),margin:"normal",InputLabelProps:{shrink:!0},InputProps:{classes:{input:t.input}}}):m.a.createElement("div",{className:F()("flex flex-row w-full justify-start")},m.a.createElement("div",{className:"f1"},a.original.fnumber),m.a.createElement("div",{className:"f2"},m.a.createElement(Oe.a,{renderInputComponent:Fe,suggestions:n,onSuggestionsFetchRequested:e.onNameSuggestionsFetchRequested,onSuggestionsClearRequested:e.onNameSuggestionsClearRequested,onSuggestionSelected:e.onNameSuggestionSelected(a.original),getSuggestionValue:e.getSuggestionfName,renderSuggestion:Re,inputProps:{classes:t,placeholder:"Search Franchisee Name or Number",value:e.state["nameValue"+a.original.f_index],onChange:e.onNameChange(a.original)},theme:{container:F()(t.container),suggestionsContainerOpen:t.suggestionsContainerOpen,suggestionsList:t.suggestionsList,suggestion:t.suggestion},renderSuggestionsContainer:function(e){return m.a.createElement(f.V,Object.assign({},e.containerProps,{square:!0}),e.children)}})))}},{Header:"Qty",accessor:"quantity",Cell:function(a){return"line"===a.original.type?m.a.createElement(f.mb,{className:t.fInput,placeholder:"Qty",value:a.original.quantity,onChange:e.handleChangeInvoiceLine(a.original,"quantity"),InputProps:{inputComponent:Le.b,classes:{input:t.input}}}):m.a.createElement("div",null)},className:F()(t.tableTdEven,"flex items-center  justify-center text-center"),width:60},{Header:"Amount",accessor:"amount",Cell:function(a){return"line"===a.original.type?m.a.createElement(f.mb,{className:t.fInput,placeholder:"Amount",value:a.original.amount,onChange:e.handleChangeInvoiceLine(a.original,"amount"),InputProps:{inputComponent:Le.a,classes:{input:t.input}}}):m.a.createElement("div",null)},className:F()(t.tableTdEven,"flex items-center  justify-center text-right"),width:100},{Header:"Tax",accessor:"tax",Cell:function(e){return"line"===e.original.type?"$"+parseFloat(e.original.tax).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):m.a.createElement("div",null)},className:F()(t.tableTdEven,"flex items-center  justify-end text-right"),width:80},{Header:"Markup(%)",accessor:"markup",Cell:function(a){return"line"===a.original.type?m.a.createElement(f.mb,{className:t.fInput,placeholder:"Markup",value:a.original.markup,onChange:e.handleChangeInvoiceLine(a.original,"markup"),InputProps:{inputComponent:Le.d,readOnly:"Client Supplies"!==a.original.billing,classes:{input:t.input}}}):m.a.createElement("div",{className:"flex flex-wrap"},m.a.createElement(f.mb,{className:t.fInput,placeholder:"Amount",value:a.original.amount,onChange:e.handleChange(a.original),InputProps:{inputComponent:Le.a}}))},className:F()(t.tableTdEven,"flex items-center  text-right justify-end"),width:80},{Header:"Ext. Amount",accessor:"extended",Cell:function(a){if("line"===a.original.type){var n=0;return""!==a.original.markup&&(n=a.original.markup),"$"+parseFloat(a.original.extended*(1+parseFloat(n)/100)).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}return m.a.createElement(f.t,{"aria-label":"remove",onClick:function(){return e.removeFranch(a.original)},className:F()(t.lineCancelButton,"mr-12"),style:{width:24,height:24,minHeight:24}},m.a.createElement(f.E,null,"close"))},className:F()(t.tableTdEven,"flex items-center  w-full text-center pr-12"),width:100},{Header:"Action",width:130,Cell:function(a){return"line"===a.original.type?m.a.createElement("div",{className:"flex flex-row items-center w-full justify-center"},m.a.createElement(f.t,{color:"secondary","aria-label":"add",className:F()(t.lineButton,"mr-8"),onClick:function(){return e.addFranchiseeLine(a.original)}},m.a.createElement(f.E,null,"call_merge")),m.a.createElement(f.t,{color:"secondary","aria-label":"add",className:F()(t.lineButton,"mr-8"),onClick:function(){return e.addLineData(a.original)}},m.a.createElement(f.E,null,"add")),e.state.data.length>1&&m.a.createElement(f.t,{"aria-label":"remove",onClick:function(){return e.removeLineData(a.original)},className:F()(t.lineCancelButton,"mr-0")},m.a.createElement(f.E,null,"close"))):m.a.createElement("div",null)}}]}],className:F()("-striped -highlight"),defaultPageSize:200,style:{height:"100%"}})),m.a.createElement(f.bb,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.openSnack,autoHideDuration:3e3,onClose:this.handleClose},m.a.createElement(De,{onClose:this.handleClose,variant:"error",message:this.state.snackMessage})))}}]),t}(m.a.Component);Object(p.withStyles)(function(e){var t,a;return{root:{width:"100%",marginTop:e.spacing.unit,head:{color:"black"},"& .ReactTable .rt-thead.-headerGroups":{display:"none"},"& .ReactTable .rt-tbody":{overflowY:"scroll",overflowX:"hidden"},"& .ReactTable .rt-tr-group":{flex:"0 0 auto"},"& .ReactTable .rt-thead .rt-th:nth-child(1)":{justifyContent:"center"},"& .ReactTable .rt-thead .rt-th:last-child":{justifyContent:"flex-end"},"& .franchiRow":{"& .f1":{width:"25%",minWidth:100,padding:10,border:"1px solid lightgray",borderRadius:6},"& .f2":{width:"75%",padding:"4px 8px",border:"0px solid lightgray",borderRadius:6,marginLeft:10}},InvoiceLineHeadRoot:{backgroundColor:"lightgray"},selectRoot:{backgroundColor:"green"}},outlined:{padding:"12px 24px 12px 12px!important"},billing:{width:170,fontSize:"1.3rem"},services:{width:180,fontSize:"1.3rem"},dropdownMenu:{"& li":{fontSize:12,height:12}},lineButton:(t={width:24,height:24,minHeight:24},Object(u.a)(t,e.breakpoints.down("sm"),{width:24,height:24,minHeight:24}),Object(u.a)(t,"& .material-icons",{fontSize:16}),t),lineCancelButton:(a={width:24,height:24,minHeight:24,backgroundColor:"#ff4850",color:"white","&:hover":{backgroundColor:"#ff2a32"}},Object(u.a)(a,e.breakpoints.down("sm"),{width:24,height:24,minHeight:24,padding:0}),Object(u.a)(a,"& .material-icons",{fontSize:16}),a),distribution:{"& span":{backgroundColor:"lightgrey",padding:"8px 12px",borderRadius:20}},tableTheadRow:{backgroundColor:e.palette.primary.main},input:{fontSize:13},fInput:{width:"96%",marginLeft:15,"& input":{fontSize:13,textAlign:"right"}},container:{position:"relative",width:"100%"},suggestionsContainerOpen:{position:"fixed",zIndex:100,marginTop:e.spacing.unit,maxHeight:200,overflowY:"scroll",backgroundColor:"white",borderRadius:6,border:"1px solid lightgray"},suggestion:{display:"block"},suggestionsList:{margin:0,padding:0,listStyleType:"none"}}})(Object(h.g)(Object(v.a)(function(e){var t=e.leases,a=e.franchisees,n=e.auth;return{leaseForm:t.leaseForm,franchisees:a.franchiseesDB,regionId:n.login.defaultRegionId,customerTaxAmountLine:t.customerTaxAmountLine,bStartingSaveFormData:t.bStartingSaveFormData}},function(e){return Object(g.c)({updateInvoiceLine:E.te,getCustomerTaxAmount:E.Xc},e)})(Ie)));var Ae=a(313),Me=a.n(Ae),We=a(217),Ve=a.n(We),Be=a(256),qe=a.n(Be),Ye=a(1563),ze=a.n(Ye),_e=a(1568),He=a.n(_e),Ge=a(103),Ue=a(329),Je=a.n(Ue),Qe=a(713),$e=a.n(Qe),Xe=a(717),Ze=a.n(Xe),Ke=a(716),et=a.n(Ke),tt=a(715),at=a.n(tt),nt=a(1565),rt=a.n(nt),lt=a(714),ot=a.n(lt),it=a(1566),st=a.n(it),ct=a(1788),ut=a.n(ct),dt=a(721),mt=a.n(dt),pt=0;function ht(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"description";return{id:pt++,firstName:e,lastName:t,phone:a,title:n}}function gt(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var ft=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).createSortHandler=function(e){return function(t){a.props.onRequestSort(t,e)}},a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.order,n=t.orderBy,r=t.headers;return m.a.createElement(f.ib,{style:{backgroundColor:"lightgray"}},m.a.createElement(f.jb,null,r.map(function(t){return m.a.createElement(f.hb,{key:t.id,numeric:t.numeric,padding:t.disablePadding?"none":"default",sortDirection:n===t.id&&a},m.a.createElement(f.ob,{title:"Sort",placement:t.numeric?"bottom-end":"bottom-start",enterDelay:300},m.a.createElement(f.kb,{active:n===t.id,direction:a,onClick:e.createSortHandler(t.id)},t.label)))},this),m.a.createElement(f.hb,{padding:"checkbox",style:{width:100}},"Action")))}}]),t}(m.a.Component),bt=function(e){var t=e.numSelected,a=e.classes;return m.a.createElement(f.nb,{className:F()(a.root,Object(u.a)({},a.highlight,t>0))},m.a.createElement("div",{className:a.title},t>0?m.a.createElement(f.pb,{color:"inherit",variant:"subtitle1"},t," selected"):m.a.createElement(f.pb,{variant:"h6",id:"tableTitle"},"Customer Lines")),m.a.createElement("div",{className:a.spacer}),m.a.createElement("div",{className:a.actions},t>0?m.a.createElement(f.ob,{title:"Delete"},m.a.createElement(f.F,{"aria-label":"Delete"},m.a.createElement(ze.a,null))):m.a.createElement(f.ob,{title:"Filter list"},m.a.createElement(f.F,{"aria-label":"Filter list"},m.a.createElement(He.a,null)))))};bt=Object(p.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Ge.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})(bt);var vt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={order:"asc",selected:[],page:0,rowsPerPage:10,labelWidth:0,data:[ht("Make","Model","99999","99999","1","1","5")],openDialog:!1,dialogFirstName:"",dialogLastName:"",dialogPhone:"",dialogTitle:""},a.handleRequestSort=function(e,t){var n=t,r="desc";a.state.orderBy===t&&"desc"===a.state.order&&(r="asc"),a.setState({order:r,orderBy:n})},a.handleSelectAllClick=function(e){e.target.checked?a.setState(function(e){return{selected:e.data.map(function(e){return e.id})}}):a.setState({selected:[]})},a.handleClickOpen=function(){a.setState({openDialog:!0})},a.handleClose=function(){a.setState({openDialog:!1})},a.handleChangeAddOwnerSelect=function(e){return function(t){a.setState(Object(u.a)({},e,t.target.value))}},a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=0,t=Object(n.a)(this.state.data).map(function(t){return t.id=e++,t});this.setState({data:t})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.data,n=t.order,r=t.orderBy,l=t.selected,o=t.rowsPerPage,i=t.page;return console.log("this.props.tableType",this.props.tableType),m.a.createElement("div",{className:e.root},m.a.createElement($e.a,{variant:"contained",color:"primary",onClick:this.handleClickOpen,className:F()(e.button,e.btnAddOwners)},m.a.createElement(f.E,{className:e.leftIcon},"add Owner"),"add"),m.a.createElement("div",{className:e.tableWrapper},m.a.createElement(f.fb,{className:e.table,"aria-labelledby":"tableTitle"},m.a.createElement(ft,{className:F()(e.CustomerLineHeadRoot),numSelected:l.length,order:n,onSelectAllClick:this.handleSelectAllClick,onRequestSort:this.handleRequestSort,rowCount:a.length,headers:this.props.headers}),m.a.createElement(f.gb,null,function(e,t){var a=e.map(function(e,t){return[e,t]});return a.sort(function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}),a.map(function(e){return e[0]})}(a,function(e,t){return"desc"===e?function(e,a){return gt(e,a,t)}:function(e,a){return-gt(e,a,t)}}(n,r)).slice(i*o,i*o+o).map(function(e){return m.a.createElement(f.jb,{hover:!0,key:e.id},m.a.createElement(f.hb,{component:"td",scope:"row"},e.firstName),m.a.createElement(f.hb,{component:"td",scope:"row"},e.lastName),m.a.createElement(f.hb,null,e.phone),m.a.createElement(f.hb,null,e.title),m.a.createElement(f.hb,null,e.title),m.a.createElement(f.hb,null,e.title),m.a.createElement(f.hb,null,e.title),m.a.createElement(f.hb,null,e.title),m.a.createElement(f.hb,{padding:"checkbox"},m.a.createElement(f.F,null,m.a.createElement(f.E,null,"delete")),m.a.createElement(f.F,null,m.a.createElement(f.E,null,"edit"))))})))),m.a.createElement(ot.a,{open:this.state.openDialog,onClose:this.handleClose,"aria-labelledby":"form-dialog-title",maxWidth:"md",fullWidth:!0},m.a.createElement(Ze.a,{id:"form-dialog-title"},"ADD LEASE"),m.a.createElement(et.a,null,m.a.createElement(xe.a,{style:{alignItems:"center"},className:F()(e.formControl)},m.a.createElement(we.a,{xs:12,sm:12,md:12,className:"flex flex-row"},m.a.createElement(Je.a,{id:"dialogFirstName",label:"Make",className:e.textField,value:this.state.dialogFirstName,onChange:this.handleChangeAddOwnerSelect("dialogFirstName"),margin:"dense",fullWidth:!0,style:{marginRight:"1%"},required:!0,InputProps:{startAdornment:m.a.createElement(mt.a,{position:"start"},m.a.createElement(ut.a,{style:{color:"gray"}}))}}),m.a.createElement(Je.a,{id:"dialogLastName",label:"Model",className:e.textField,value:this.state.dialogLastName,onChange:this.handleChangeAddOwnerSelect("dialogLastName"),margin:"dense",InputLabelProps:{shrink:!0},style:{marginLeft:"1%"},fullWidth:!0,required:!0})),m.a.createElement(we.a,{xs:12,sm:12,md:12,className:"flex flex-row"}),m.a.createElement(we.a,{xs:12,sm:12,md:12,className:"flex flex-row"},m.a.createElement(Je.a,{id:"dialogPhone",label:"Serial Number",className:e.textField,value:this.state.dialogPhone,onChange:this.handleChangeAddOwnerSelect("dialogPhone"),margin:"dense",InputProps:{startAdornment:m.a.createElement(mt.a,{position:"start"},m.a.createElement(ut.a,{style:{color:"gray"}}))},fullWidth:!0,required:!0})),m.a.createElement(we.a,{xs:12,sm:12,md:12,className:"flex flex-row"},m.a.createElement(Je.a,{id:"dialogTitle",label:"Lease Amount",className:e.textField,value:this.state.dialogTitle,onChange:this.handleChangeAddOwnerSelect("dialogTitle"),margin:"dense",InputProps:{startAdornment:m.a.createElement(mt.a,{position:"start"},m.a.createElement(ut.a,{style:{color:"gray"}}))},fullWidth:!0,required:!0})),m.a.createElement(we.a,{xs:12,sm:12,md:12,className:"flex flex-row"},m.a.createElement(Je.a,{id:"dialogTitle",label:"Total Tax",className:e.textField,value:this.state.dialogTitle,onChange:this.handleChangeAddOwnerSelect("dialogTitle"),margin:"dense",InputProps:{startAdornment:m.a.createElement(mt.a,{position:"start"},m.a.createElement(ut.a,{style:{color:"gray"}}))},fullWidth:!0,required:!0})),m.a.createElement(we.a,{xs:12,sm:12,md:12,className:"flex flex-row"},m.a.createElement(Je.a,{id:"dialogTitle",label:"Lease Term",className:e.textField,value:this.state.dialogTitle,onChange:this.handleChangeAddOwnerSelect("dialogTitle"),margin:"dense",InputProps:{startAdornment:m.a.createElement(mt.a,{position:"start"},m.a.createElement(ut.a,{style:{color:"gray"}}))},fullWidth:!0,required:!0})),m.a.createElement(we.a,{xs:12,sm:12,md:12,className:"flex flex-row"},m.a.createElement(Je.a,{id:"dialogTitle",label:"Total Lease",className:e.textField,value:this.state.dialogTitle,onChange:this.handleChangeAddOwnerSelect("dialogTitle"),margin:"dense",InputProps:{startAdornment:m.a.createElement(mt.a,{position:"start"},m.a.createElement(ut.a,{style:{color:"gray"}}))},fullWidth:!0,required:!0})),m.a.createElement(we.a,{xs:12,sm:12,md:12,className:"flex flex-row"},m.a.createElement(Je.a,{id:"dialogTitle",label:"Payment Number",className:e.textField,value:this.state.dialogTitle,onChange:this.handleChangeAddOwnerSelect("dialogTitle"),margin:"dense",InputProps:{startAdornment:m.a.createElement(mt.a,{position:"start"},m.a.createElement(ut.a,{style:{color:"gray"}}))},fullWidth:!0,required:!0})))),m.a.createElement(at.a,{style:{padding:"2%"}},m.a.createElement($e.a,{onClick:this.handleClose,variant:"contained",size:"small",className:e.button},m.a.createElement(rt.a,{style:{color:"gray"},className:F()(e.leftIcon,e.iconSmall)}),"Cancel"),m.a.createElement($e.a,{onClick:this.handleClose,variant:"contained",size:"small",className:e.button},m.a.createElement(st.a,{style:{color:"gray"},className:F()(e.leftIcon,e.iconSmall)}),"Save"))))}}]),t}(m.a.Component),Et=Object(p.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit,head:{color:"black"},"& thead tr th":{color:"black!important",fontWeight:700,fontSize:14,padding:"4px 24px",width:180},"& tbody tr td":{padding:"4px 24px",width:180},CustomerLineHeadRoot:{backgroundColor:"lightgray"}},outlined:{padding:"12px 24px 12px 12px!important"},table:{minWidth:1020},tableWrapper:{overflowX:"auto"},lineButton:{width:32,height:32,minHeight:32},lineCancelButton:{width:32,height:32,minHeight:32,backgroundColor:"#ff4850",color:"white","&:hover":{backgroundColor:"#ff2a32"}},btnAddOwners:{marginBottom:"20px"},leftIcon:{marginRight:e.spacing.unit},iconSmall:{fontSize:20}}})(vt),yt=new Me.a,St={MasterTrxTypeListId:"",RegionId:"",RegionName:"",LeaseId:"",LeaseDate:new Date,DueDate:new Date,CustomerId:"",CustomerNo:"",CustomerName:"",EBill:"",PrintLease:"",LeaseDescription:"",LeaseAmount:"",LeaseTax:"",LeaseTotal:"",CPI:"",TransactionStatusListId:"",TransactionStatus:"",LeaseBalanceAmount:"",LeaseBalanceTax:"",LeaseBalanceTotal:"",EBillText:"",PrintLeaseText:"",IsOpen:"",ConsolidatedLease:"",ConsolidatedLeaseId:"",ConsolidatedLeaseNo:"",CreditId:"",Service:"",notes:""};function Ct(e,t){var a=t.query,n=t.isHighlighted,r=Ve()(e.CustomerName,a),l=qe()(e.CustomerName,r);return m.a.createElement(f.R,{selected:n,component:"div"},m.a.createElement("div",null,l.map(function(e,t){return e.highlight?m.a.createElement("span",{key:String(t),style:{fontWeight:700}},e.text):m.a.createElement("strong",{key:String(t),style:{fontWeight:300}},e.text)})))}var xt={success:he.a,warning:Ce.a,error:fe.a,info:ve.a};var wt=Object(p.withStyles)(function(e){return{success:{backgroundColor:x.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:me.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"}}})(function(e){var t=e.classes,a=e.className,n=e.message,r=e.onClose,l=e.variant,o=Object(ue.a)(e,["classes","className","message","onClose","variant"]),i=xt[l];return m.a.createElement(f.cb,Object.assign({className:F()(t[l],a),"aria-describedby":"client-snackbar",message:m.a.createElement("span",{id:"client-snackbar",className:t.message},m.a.createElement(i,{className:F()(t.icon,t.iconVariant)}),n),action:[m.a.createElement(f.F,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:r},m.a.createElement(ye.a,{className:t.icon}))]},o))}),kt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var l=arguments.length,s=new Array(l),c=0;c<l;c++)s[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state=Object(D.a)({customers:[],franchisees:[]},St,{value:"",suggestions:[],selectedCustomer:null,fSuggestions:[],selectedFranchisee:null,labelWidth:0,selectedWork:"",total:0,subTotal:0,tax:0,markup:0,LeaseNo:"",snackMessage:"",openSnack:!1}),a.renderInputComponent=function(e){var t=e.classes,a=e.inputRef,n=void 0===a?function(){}:a,r=e.ref,l=Object(ue.a)(e,["classes","inputRef","ref"]);return m.a.createElement(f.mb,Object.assign({fullWidth:!0,variant:"outlined",label:"Lease For:",InputProps:{inputRef:function(e){r(e),n(e)},classes:{input:t.input}},InputLabelProps:{classes:{outlined:t.label}},required:!0},l,{autoFocus:!0}))},a.onChange=function(e,t){var n=t.newValue;t.method;a.setState({value:n.toString()})},a.onSuggestionsFetchRequested=function(e){var t=e.value;t.length<2||a.setState({suggestions:a.getSuggestions(t)})},a.onSuggestionsClearRequested=function(){a.setState({suggestions:[]})},a.getSuggestionValue=function(e){return a.setState({selectedCustomer:e}),e.CustomerName},a.getSuggestions=function(e){var t=Object(Le.e)(e.trim()),n=new RegExp(t,"i");if(null!==a.props.customers)return a.props.customers.filter(function(e){return n.test(e.CustomerName)})},a.getTotal=function(){var e=0,t=0,r=0;null!==a.props.leaseForm.data&&(Object(n.a)(a.props.leaseForm.data.line).forEach(function(a){var n=0,l=0;""!==a.quantity&&(l=a.quantity),""!==a.markup&&(n=a.markup),e+=parseFloat(a.extended),r+=parseFloat(a.tax),t+=parseFloat(a.extended*l*parseFloat(n)/100)}),a.setState({subTotal:e}),a.setState({markup:t}),a.setState({tax:r}),a.setState({total:e+r+t}))},a.handleChange=function(e){a.setState(U.a.set(Object(D.a)({},a.state),e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value))},a.onSaveLease=function(){if(null===a.state.selectedCustomer)return a.setState({snackMessage:"Please choose customer from Lease suggestion"}),void a.setState({openSnack:!0});var e=[];a.props.leaseForm.data.line.forEach(function(t){var a={ServiceTypeListId:0,Descrption:t.description,LineNo:1,UnitPrice:t.amount,Quantity:parseInt(t.quantity),TaxRate:t.tax,ExtendedPrice:t.extended,Total:t.total,MarkUpTotal:t.markup,Commission:0,CommissionTotal:0,ExtraWork:1,TaxExcempt:1,Distribution:[]},n=[];t.franchisees.length>0&&t.franchisees.forEach(function(e){n.push({FranchiseeId:12,FranchiseNumber:e.fnumber,LineNo:1,Name:e.name,Description:"Work done",Amount:e.amount})}),a.Distribution.push(n),e.push(a)});var t={CustomerId:a.state.selectedCustomer.CustomerId,PeriodId:a.props.leases.PeriodId[0],PeriodMonth:H()().month()+1,PeriodYear:H()().year(),Description:a.state.LeaseDescription,Notes:a.state.note,RegionId:a.props.regionId,BillRunId:999,LeaseDate:a.state.LeaseDate,CreatedById:a.props.user.UserId,CreatedDate:H()().format("MM/DD/YYYY"),SubTotal:a.state.subTotal,MarkupAmountTotal:a.state.markup,CPIIncrease:0,TaxTotal:a.state.tax,GrandTotal:a.state.total,LeaseItems:[{Inv_No:yt.guid()+"_pending",Items:e}]};console.log("result",JSON.stringify(t))},a.onSaveAndAddMore=function(){a.onSaveLease(),a.props.resetLeaseForm(),a.setState({LeaseDescription:""}),a.setState({note:""}),a.setState({selectedCustomer:null}),a.setState({value:""}),a.setState({CustomerNo:""})},a.onSubmitForApproval=function(){a.onSaveLease()},a.onSaveAndClose=function(){a.onSaveLease(),a.closeComposeForm()},a.closeComposeForm=function(){"edit"===a.props.leaseForm.type?a.props.closeEditLeaseForm():a.props.closeNewLeaseForm()},a.handleDueDateChange=function(e){a.setState({DueDate:e})},a.handleLeaseDateChange=function(e){a.setState({LeaseDate:e})},a.storeInputReference=function(e){null!==e&&(a.input=e.input)},a.handleClose=function(e,t){"clickaway"!==t&&a.setState({openSnack:!1})},a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){this.props.leaseForm!==e.leaseForm&&this.getTotal(),null!==this.state.selectedCustomer&&JSON.stringify(this.state.selectedCustomer)!==JSON.stringify(this.props.leaseForm.customer)&&this.props.selectCustomer(this.state.selectedCustomer)}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=this;"new"===this.props.leaseForm.type&&this.setState({LeaseNo:"PENDING"}),this.input&&setTimeout(function(){e.input.focus()},500)}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.value,r=a.suggestions,l=new Date,o={renderInputComponent:this.renderInputComponent,suggestions:r,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:this.getSuggestionValue,renderSuggestion:Ct},i=!1;return"new"===this.props.leaseForm.type&&(i=!0),m.a.createElement(b.a,{animation:"transition.slideRightIn",delay:300},m.a.createElement("div",{className:"h-full flex flex-col relative"},m.a.createElement("div",{className:"flex flex-col p-24 pt-12 pb-0",style:{flex:"1"}},m.a.createElement(z.b,{utils:Y.a},m.a.createElement(xe.a,{className:F()(t.formControl)},m.a.createElement(we.a,{xs:12,sm:6,md:6,className:"flex flex-row"},m.a.createElement(Oe.a,Object.assign({},o,{inputProps:{classes:t,placeholder:"Search Franchisee Name or Number",value:n,onChange:this.onChange},theme:{container:F()(t.container),suggestionsContainerOpen:t.suggestionsContainerOpen,suggestionsList:t.suggestionsList,suggestion:t.suggestion},renderSuggestionsContainer:function(e){return m.a.createElement(f.V,Object.assign({},e.containerProps,{square:!0}),e.children)},ref:this.storeInputReference}))),m.a.createElement(we.a,{xs:12,sm:2,md:2,className:"flex flex-row xs:flex-col"},m.a.createElement(f.mb,{margin:"none",label:"Lease #",placeholder:"Lease #",InputProps:{readOnly:i,classes:{input:i?t.inputOrange:t.input}},InputLabelProps:{shrink:!0,classes:{outlined:t.label}},name:"LeaseNo",variant:"outlined",value:this.state.LeaseNo,onChange:this.handleChange,required:!0,fullWidth:!0,style:{fontSize:"new"===this.props.leaseForm.type?"18px!important":"inherit",fontWeight:"new"===this.props.leaseForm.type?700:"inherit"}})),m.a.createElement(we.a,{xs:12,sm:2,md:2,className:"flex flex-row xs:flex-col xs:mb-24"},m.a.createElement(z.a,{margin:"none",label:"Date Signed",name:"DateSigned",variant:"outlined",format:"MM/dd/YYYY",value:this.state.LeaseDate,onChange:this.handleLeaseDateChange,fullWidth:!0,required:!0,InputProps:{classes:{input:t.input}},InputLabelProps:{shrink:!0,classes:{outlined:t.label}}})),m.a.createElement(we.a,{xs:12,sm:2,md:2,className:"flex flex-row xs:flex-col"},m.a.createElement(z.a,{margin:"none",label:"Payment Starts",format:"MM/dd/YYYY",name:"PaymentStarts",variant:"outlined",value:this.state.DueDate,onChange:this.handleDueDateChange,required:!0,fullWidth:!0,InputProps:{classes:{input:t.input}},InputLabelProps:{shrink:!0,classes:{outlined:t.label}}})))),m.a.createElement(xe.a,{className:F()(t.formControl,"mb-0")},m.a.createElement(we.a,{xs:12,sm:6,md:6,className:"flex flex-row xs:flex-col"},m.a.createElement(f.d,{className:t.card},m.a.createElement(f.g,{title:"Franchisee",className:F()(t.cardHeader,"flex-1")}),m.a.createElement(f.f,{className:F()(t.cardContent)},m.a.createElement(f.pb,{variant:"subtitle1",color:"inherit"},m.a.createElement("strong",null,"Franchisee Name: ",this.state.selectedCustomer?this.state.selectedCustomer.CustomerName:this.state.value)),m.a.createElement(f.pb,{variant:"subtitle1",color:"inherit"},"Franchisee No: ",this.state.selectedCustomer?this.state.selectedCustomer.CustomerNo:this.state.CustomerNo),m.a.createElement(f.pb,{variant:"subtitle1",color:"inherit"},"Address: ",this.state.selectedCustomer?this.state.selectedCustomer.Address:""),this.state.selectedCustomer&&m.a.createElement(f.pb,{variant:"subtitle1",color:"inherit"},this.state.selectedCustomer.City,", ",this.state.selectedCustomer.StateName," ",this.state.selectedCustomer.PostalCode))))),m.a.createElement("div",{className:"w-full mt-4"},m.a.createElement(f.mb,{id:"LeaseDescription",name:"LeaseDescription",label:"Description",className:t.textField,value:this.state.LeaseDescription,onChange:this.handleChange,margin:"dense",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0,classes:{outlined:t.label}},InputProps:{classes:{input:t.input,multiline:t.input}}})),m.a.createElement(xe.a,{className:F()(t.formControl),style:{flex:"9999 1 0"}},m.a.createElement(we.a,{xs:12,sm:12,md:12,className:"flex flex-row xs:flex-col xs:mb-24"},m.a.createElement(Et,{tableType:"LEASE",headers:[{id:"make",numeric:!1,disablePadding:!1,label:"Make"},{id:"model",numeric:!1,disablePadding:!1,label:"Model"},{id:"serialNo",numeric:!1,disablePadding:!1,label:"Serial No"},{id:"leaseAmount",numeric:!1,disablePadding:!1,label:"Lease Amount"},{id:"totalTax",numeric:!1,disablePadding:!1,label:"Total Tax"},{id:"leaseTerm",numeric:!1,disablePadding:!1,label:"Lease Term"},{id:"totalLease",numeric:!1,disablePadding:!1,label:"Total Lease"},{id:"paymentNumber",numeric:!1,disablePadding:!1,label:"# of Payment"}]}))),m.a.createElement(f.r,{variant:"middle"})),m.a.createElement("div",{className:"flex flex-shrink flex-col w-full pl-24 pr-24 pt-0 pb-12"},m.a.createElement(xe.a,{style:{alignItems:"center"},className:F()(t.formControl)}),m.a.createElement("div",{className:"flex flex-1 flex-row justify-between items-center"},m.a.createElement("div",{className:"flex flex-row justify-start"},m.a.createElement(b.a,{animation:"transition.expandIn",delay:300},m.a.createElement("span",{className:t.summary},m.a.createElement("strong",null,"Created By: "),"".concat(this.props.user.firstName," ").concat(this.props.user.lastName,", ").concat(H()(l).format("MM/DD/YYYY"))))),m.a.createElement("div",{className:"flex flex-1 flex-row justify-end"},m.a.createElement(b.a,{animation:"transition.expandIn",delay:300},m.a.createElement(f.c,{variant:"contained",color:"primary",className:F()(t.button,"mr-12"),onClick:function(){e.onSaveAndAddMore()}},"Save & Add more")),m.a.createElement(b.a,{animation:"transition.expandIn",delay:300},m.a.createElement(f.c,{variant:"contained",color:"primary",className:F()(t.button,"mr-12"),onClick:function(){e.onSaveAndClose()}},"Save & Close")),m.a.createElement(b.a,{animation:"transition.expandIn",delay:300},m.a.createElement(f.c,{variant:"contained",color:"primary",className:F()(t.button,"mr-12"),onClick:function(){e.onSubmitForApproval()}},"Submit for Approval")),m.a.createElement(b.a,{animation:"transition.expandIn",delay:300},m.a.createElement(f.c,{variant:"contained",color:"primary",className:t.button,onClick:function(){e.closeComposeForm()}},"Close"))))),m.a.createElement(f.bb,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.openSnack,autoHideDuration:3e3,onClose:this.handleClose},m.a.createElement(wt,{onClose:this.handleClose,variant:"error",message:this.state.snackMessage}))))}}]),t}(d.Component);var Nt=Object(p.withStyles)(function(e){return{layoutForm:{flexDirection:"row"},button:{"& span":{textTransform:"none"}},card:{width:"100%"},container:{position:"relative",width:"100%"},formControl:{marginBottom:12,minWidth:200},textField:{marginLeft:0,marginRight:e.spacing.unit},summary:{fontSize:15,fontWeight:700},suggestionsContainerOpen:{position:"absolute",zIndex:10,marginTop:e.spacing.unit,left:0,right:0,maxHeight:200,overflowY:"scroll"},suggestion:{display:"block"},suggestionsList:{margin:0,padding:0,listStyleType:"none"},divider:{height:2*e.spacing.unit},cardHeader:{backgroundColor:e.palette.secondary.main,padding:"8px 24px","& span":{color:"white",fontSize:16}},cardContent:{paddingTop:12,paddingBottom:"12px!important","& h6":{lineHeight:1.6,fontSize:14}},input:{padding:"12px 14px"},label:{transform:"translate(14px, 14px) scale(1)"},inputOrange:{padding:"12px 14px",color:"orange"}}},{withTheme:!0})(Object(h.g)(Object(v.a)(function(e){var t=e.leases,a=e.auth;return{leaseForm:t.leaseForm,leases:t,user:a.login,regionId:a.login.defaultRegionId,bStartingSaveFormData:t.bStartingSaveFormData}},function(e){return Object(g.c)({openEditLeaseForm:E.Bd,closeEditLeaseForm:E.yc,closeNewLeaseForm:E.Ec,selectCustomer:E.Vd,resetLeaseForm:E.Td},e)})(kt))),Ot=(a(245),a(1599)),Lt=a(1604),jt=a(1605),Dt=a(1573),Pt=a(1569),Tt=a(1574),Ft=(a(458),a(212),a(456),a(1607),function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}),Rt=function(e){return{layoutTable:{flexDirection:"row","& .z-9999":{height:64},"& .-pageSizeOptions":{display:"none"},"& .openFilter":{width:"inherit"},"& .openSummary":{width:300},"& .p-12-impor":{paddingLeft:"1.2rem!important",paddingRight:"1.2rem!important"},"& .ReactTable .rt-noData":{top:"250px",border:"1px solid coral"},"& .ReactTable .rt-thead.-headerGroups":{paddingLeft:"0!important",paddingRight:"0!important",minWidth:"inherit!important"},"& .ReactTable.-highlight .rt-tbody .rt-tr:not(.-padRow):hover":{background:"rgba("+Ft(e.palette.secondary.main).r+","+Ft(e.palette.secondary.main).g+","+Ft(e.palette.secondary.main).b+", .8)",color:"white!important"},"& .ReactTable .rt-tbody":{overflowY:"scroll",overflowX:"hidden"},"& .ReactTable .rt-tr-group":{flex:"0 0 auto"},"& .ReactTable .rt-thead .rt-th:nth-child(1)":{justifyContent:"center"},"& .ReactTable .rt-thead.-headerGroups .rt-th:nth-child(2)":{width:"inherit!important",minWidth:"inherit!important"},"& .ReactTable .rt-thead .rt-th:last-child":{justifyContent:"flex-end"}},content:{position:"relative"},search:Object(u.a)({width:"100%"},e.breakpoints.down("sm"),{width:"100%"}),tableTheadRow:{backgroundColor:e.palette.primary.main},tableThEven:{backgroundColor:"rgba("+Ft(e.palette.secondary.main).r+","+Ft(e.palette.secondary.main).g+","+Ft(e.palette.secondary.main).b+", .3)"},tableTdEven:{},filterPanelButton:{backgroundColor:e.palette.secondary.main,minWidth:42,padding:8,justifyContent:"center","&:hover":{backgroundColor:e.palette.primary.dark}},summaryPanelButton:{backgroundColor:e.palette.secondary.main,minWidth:42,padding:8,color:"white",justifyContent:"center","&:hover":{backgroundColor:e.palette.primary.dark}},imageIcon:{width:24},tableStriped:{"& tbody tr:nth-of-type(odd)":{backgroundColor:"fade("+e.palette.primary.main+", 0.03)"},"& tbody tr:nth-of-type(even)":{backgroundColor:"fade("+e.palette.primary.secondary+", 0.03)"}},overlay:{position:"absolute",top:0,left:0,width:"100%",height:"100vh",backgroundColor:"rgba(0,0,0, .9)",zIndex:1e3,alignItems:"center",justifyContent:"center",display:"flex",opacity:.5}}},It=(Object(p.withStyles)(Rt,{name:"TableComponent"})(function(e){var t=e.classes,a=Object(ue.a)(e,["classes"]);return m.a.createElement(Tt.g.Table,Object.assign({},a,{className:t.tableStriped}))}),function(e){var t=e.value;return m.a.createElement("span",null,"$ ",t.toLocaleString(void 0,{minimumFractionDigits:2}))}),At=function(e){return m.a.createElement(Pt.b,Object.assign({formatterComponent:It},e))},Mt=function(e){var t=e.value,a=e.onValueChange,n=e.classes;return m.a.createElement(f.G,{type:"number",classes:{input:n.numericInput},fullWidth:!0,value:void 0===t?"":t,inputProps:{min:0,placeholder:"Filter..."},onChange:function(e){var t=e.target.value;""!==t.trim()?a(parseFloat(t)):a()}})};Mt.defaultProps={value:void 0};var Wt=Object(p.withStyles)(Rt)(Mt),Vt={add:function(e){var t=e.onExecute;return m.a.createElement("div",{style:{textAlign:"center"}},m.a.createElement(f.c,{color:"primary",onClick:t,title:"Create new row"},"New"))},edit:function(e){var t=e.onExecute;return m.a.createElement(f.F,{onClick:t,title:"Edit row"})},delete:function(e){var t=e.onExecute;return m.a.createElement(f.F,{onClick:t,title:"Delete row"})},commit:function(e){var t=e.onExecute;return m.a.createElement(f.F,{onClick:t,title:"Save changes"},m.a.createElement(st.a,null))},cancel:function(e){var t=e.onExecute;return m.a.createElement(f.F,{color:"secondary",onClick:t,title:"Cancel changes"},m.a.createElement(rt.a,null))}},Bt=function(e){var t=e.id,a=e.onExecute,n=Vt[t];return m.a.createElement(n,{onExecute:a})},qt=function(e){return m.a.createElement(Tt.c.Root,Object.assign({},e,{style:{height:"100%"}}))},Yt=Object(jt.a)(Object(jt.c)({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyChEVMf9jz-1iVYHVPQOS8sP2RSsKOsyeA&v=3.exp&libraries=geometry,drawing,places",loadingElement:m.a.createElement("div",{style:{height:"100%"}}),containerElement:m.a.createElement("div",{style:{height:"100%"}}),mapElement:m.a.createElement("div",{style:{height:"100%"}})}),Object(jt.b)({onMarkerClustererClick:function(){return function(e){var t=e.getMarkers();console.log("Current clicked markers length: ".concat(t.length)),console.log(t)}}}),Ot.withScriptjs,Ot.withGoogleMap)(function(e){return m.a.createElement(Ot.GoogleMap,{defaultZoom:8,defaultCenter:{lat:e.center.lat,lng:e.center.lng}},m.a.createElement(Lt.MarkerClusterer,{onClick:e.onMarkerClustererClick,averageCenter:!0,enableRetinaIcons:!0,gridSize:60},e.markers.map(function(e,t){return m.a.createElement(Ot.Marker,{key:t,position:{lat:e.lat,lng:e.lng}})})))}),zt=Object(jt.a)(Object(jt.c)({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyChEVMf9jz-1iVYHVPQOS8sP2RSsKOsyeA&v=3.exp&libraries=geometry,drawing,places",loadingElement:m.a.createElement("div",{style:{height:"100%"}}),containerElement:m.a.createElement("div",{style:{height:"100%"}}),mapElement:m.a.createElement("div",{style:{height:"100%"}})}),Object(jt.b)({onMarkerClustererClick:function(){return function(e){var t=e.getMarkers();console.log("Current clicked markers length: ".concat(t.length)),console.log(t)}}}),Ot.withScriptjs,Ot.withGoogleMap)(function(e){return m.a.createElement(Ot.GoogleMap,{defaultZoom:8,defaultCenter:{lat:e.center.lat,lng:e.center.lng}},m.a.createElement(Lt.MarkerClusterer,{onClick:e.onMarkerClustererClick,averageCenter:!0,enableRetinaIcons:!0,gridSize:60},e.markers.map(function(e,t){return m.a.createElement(Ot.Marker,{key:t,position:{lat:e.lat,lng:e.lng}})})))}),_t=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).onChange=function(e,t){var n=t.newValue;t.method;console.log("onChange"),a.setState({value:n.toString()})},a.toggleSelection=function(e,t,r){console.log("toggleSelection");var l=Object(n.a)(a.state.selection),o=l.indexOf(e);o>=0?l=[].concat(Object(n.a)(l.slice(0,o)),Object(n.a)(l.slice(o+1))):l.push(e),a.setState({selection:l})},a.toggleAll=function(e){console.log("toggleAll");var t=!a.state.selectAll,n=[];if(t){var r=e.data,l=a.state.page,o=a.state.pageSize,i=l*o,s=i+o;r.forEach(function(e){e._index>=i&&e._index<s&&n.push(e._original.LeaseId)})}a.setState({selectAll:t,selection:n})},a.isSelected=function(e){return console.log("isSelected"),a.state.selection.includes(e)},a.logSelection=function(){console.log("logSelection",a.state.selection)},a.handleChange=function(e){return function(t){console.log("handleChange"),a.setState(Object(u.a)({},e,t.target.value))}},a.removeLeases=function(){console.log("removeLeases"),0!==a.state.selection.length?window.confirm("Do you really want to remove the selected lease(s)")&&(a.props.deleteLeasesAction(a.state.selection,a.props.leases),a.setState({selection:[],selectAll:!1})):alert("Please choose lease(s) to delete")},a.initRowsFromRawJson=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props.leases;arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.props.locationFilterValue;console.log("initRowsFromRawJson","LeaseListContent.js",a.props.regionId,a.props.statusId,e);var t;null!==e&&void 0!==e&&(t=e.Data[0].LeaseList.filter(function(e){return e}),a.setState({rows:t,data:t}))},a.state={gmapVisible:!1,locationFilterValue:[],pins:[],pins2:[],s:"",temp:[],data:[],selectAll:!1,selection:[],rows:[],tableColumnExtensions:[{title:"Name",name:"FranchiseeName",columnName:"FranchiseeName",width:250,wordWrapEnabled:!0,sortingEnabled:!0,filteringEnabled:!0,groupingEnabled:!0,togglingEnabled:!0,showWhenGrouped:!0},{title:"Franchisee No",name:"FranchiseeNo",columnName:"FranchiseeNo",width:200,sortingEnabled:!0,filteringEnabled:!0,groupingEnabled:!0,showWhenGrouped:!0},{title:"Lease No",name:"LeaseNumber",columnName:"LeaseNumber",width:200,sortingEnabled:!0,filteringEnabled:!0,groupingEnabled:!0,showWhenGrouped:!0},{title:"Serial No",name:"SerialNumber",columnName:"SerialNumber",width:200,sortingEnabled:!0,filteringEnabled:!0,groupingEnabled:!0,showWhenGrouped:!0},{title:"Monthly Payment Amount",name:"TotalMonthlyPaymentAmount",columnName:"TotalMonthlyPaymentAmount",width:200,align:"right",wordWrapEnabled:!0,sortingEnabled:!1,filteringEnabled:!0,groupingEnabled:!0,showWhenGrouped:!0},{title:"Total Amount Paid",name:"TotalPaidAmount",columnName:"TotalPaidAmount",width:200,align:"right",sortingEnabled:!0,filteringEnabled:!0,groupingEnabled:!0,showWhenGrouped:!0},{title:"Total Balance",name:"TotalBalance",columnName:"TotalBalance",width:200,align:"right",sortingEnabled:!1,filteringEnabled:!0,groupingEnabled:!0,showWhenGrouped:!0},{title:"Payment No",name:"Payments",columnName:"Payments",width:90,align:"center",sortingEnabled:!0,filteringEnabled:!0,groupingEnabled:!0,showWhenGrouped:!0},{title:"Status",name:"Status",columnName:"Status",width:90,align:"center",sortingEnabled:!0,filteringEnabled:!0,groupingEnabled:!0,showWhenGrouped:!0}],tableGroupColumnExtension:[{columnName:"FranchiseeName",showWhenGrouped:!0,showColumnsWhenGrouped:!0},{columnName:"FranchiseeNo",showWhenGrouped:!0,showColumnsWhenGrouped:!0},{columnName:"LeaseNumber",showWhenGrouped:!0,showColumnsWhenGrouped:!0},{columnName:"SerialNumber",showWhenGrouped:!0,showColumnsWhenGrouped:!0},{columnName:"TotalMonthlyPaymentAmount",showWhenGrouped:!0,showColumnsWhenGrouped:!0},{columnName:"TotalPaidAmount",showWhenGrouped:!0,showColumnsWhenGrouped:!0},{columnName:"TotalBalance",showWhenGrouped:!0,showColumnsWhenGrouped:!0},{columnName:"Payments",showWhenGrouped:!0,showColumnsWhenGrouped:!0},{columnName:"Status",showWhenGrouped:!0,showColumnsWhenGrouped:!0}],sorting:[{columnName:"LeaseNo",direction:"asc"}],editingColumnExtensions:[],currencyColumns:["TotalBalance","TotalMonthlyPaymentAmount","TotalPaidAmount"],dateColumns:["saleDate"],grouping:[],pageSize:20,pageSizes:[10,20,30,50,100],amountFilterOperations:["equal","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual"],searchValue:""},a.fetchData=a.fetchData.bind(Object(c.a)(Object(c.a)(a))),a.changeSelection=function(e){return a.setState({selection:e})},a.changeSorting=function(e){return a.setState({sorting:e})},a.commitChanges=a.commitChanges.bind(Object(c.a)(Object(c.a)(a))),a.changeSearchValue=function(e){return a.setState({searchValue:e})},a.changeGrouping=function(e){return a.setState({grouping:e})},console.log("constructor"),a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"commitChanges",value:function(e){var t=e.added,a=e.changed,r=e.deleted;console.log("commitChanges");var l=this.state.rows;if(t){var o=l.length>0?l[l.length-1].id+1:0;l=[].concat(Object(n.a)(l),Object(n.a)(t.map(function(e,t){return Object(D.a)({id:o+t},e)})))}if(a&&(l=l.map(function(e){return a[e.id]?Object(D.a)({},e,a[e.id]):e})),r){var i=new Set(r);l=l.filter(function(e){return!i.has(e.id)})}this.setState({rows:l})}},{key:"shouldComponentUpdate",value:function(e,t){return console.log("shouldComponentUpdate",this.state!==t),!0}},{key:"componentWillReceiveProps",value:function(e){console.log("componentWillReceiveProps","LeaseListContent.js",e.locationFilterValue),e.leases!==this.props.leases&&this.initRowsFromRawJson(e.leases),this.props.locationFilterValue!==e.locationFilterValue&&(this.setState({locationFilterValue:e.locationFilterValue}),console.log("componentWillReceiveProps","locationFilterValue",e.locationFilterValue,this.props.leases),this.initRowsFromRawJson(this.props.leases,e.locationFilterValue)),e.searchText!==this.props.searchText&&this.search(e.searchText)}},{key:"componentDidUpdate",value:function(e,t,a){console.log("componentDidUpdate","LeaseListContent.js",this.props.locationFilterValue,this.props.leases),this.props.data,e.data}},{key:"search",value:function(e){if(console.log("---------search---------",e),""!==(e=e.toLowerCase())){var t=this.state.data.filter(function(t){return t.LeaseNo&&-1!==t.LeaseNo.toString().toLowerCase().indexOf(e)||t.LeaseName&&-1!==t.LeaseName.toString().toLowerCase().indexOf(e)||t.Address&&-1!==t.Address.toString().toLowerCase().indexOf(e)||t.City&&-1!==t.City.toString().toLowerCase().indexOf(e)||t.StateName&&-1!==t.StateName.toString().toLowerCase().indexOf(e)||t.PostalCode&&-1!==t.PostalCode.toString().toLowerCase().indexOf(e)||t.Phone&&-1!==t.Phone.toString().toLowerCase().indexOf(e)||t.AccountTypeListName&&-1!==t.AccountTypeListName.toString().toLowerCase().indexOf(e)||t.Amount&&-1!==t.Amount.toString().toLowerCase().indexOf(e)});this.setState({rows:Object(n.a)(t)})}else this.setState({rows:Object(n.a)(this.state.data)})}},{key:"componentDidMount",value:function(){console.log("componentDidMount")}},{key:"componentWillMount",value:function(){console.log("componentWillMount"),this.initRowsFromRawJson(),this.timer=null}},{key:"componentWillUnmount",value:function(){console.log("componentWillUnmount")}},{key:"fetchData",value:function(e,t){console.log("fetchData"),this.setState({pageSize:e.pageSize,page:e.page})}},{key:"capital_letter",value:function(e){return console.log("capital_letter"),(e=e.split(" ").map(function(e){return e.length>1?e[0].toUpperCase()+e.substr(1).toLowerCase():e.length>0?e[0].toUpperCase():""})).join(" ")}},{key:"generateRows",value:function(){return console.log("generateRows"),console.log(this.props.data.slice(0,15)),this.props.data}},{key:"Deg2Rad",value:function(e){return e*Math.PI/180}},{key:"PythagorasEquirectangular",value:function(e,t,a,n){e=this.Deg2Rad(e),a=this.Deg2Rad(a),t=this.Deg2Rad(t);var r=((n=this.Deg2Rad(n))-t)*Math.cos((e+a)/2),l=a-e;return 6371*Math.sqrt(r*r+l*l)}},{key:"nearbyLocations",value:function(e,t){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(n.a)(e.filter(function(e){return a.PythagorasEquirectangular(t.lat,t.lng,e.lat,e.lng)<=r}))}},{key:"render",value:function(){var e=this.props,t=e.classes,a=(e.toggleFilterPanel,e.toggleSummaryPanel,e.mapViewState),r=(e.toggleMapView,e.filterState,e.locationFilterValue),l=this.state,o=l.pins,i=l.pins2,s=l.gmapVisible,c=l.rows,u=(l.columns,l.selection),p=l.tableColumnExtensions,h=l.tableGroupColumnExtension,g=l.sorting,b=l.editingColumnExtensions,v=l.currencyColumns,E=(l.pageSize,l.pageSizes),y=l.amountFilterOperations,S=l.searchValue,C=l.grouping;return console.log("-------render-------",r,o,i),m.a.createElement(d.Fragment,null,m.a.createElement("div",{className:F()(t.layoutTable,"flex flex-col h-full")},a&&m.a.createElement("div",{className:"w-full h-full"},m.a.createElement("div",{className:"w-full h-full"},s&&m.a.createElement(Yt,{markers:o,center:{lat:this.state.addrLat,lng:this.state.addrLng}}),!s&&m.a.createElement(zt,{markers:i,center:{lat:this.state.addrLat,lng:this.state.addrLng}}))),!a&&m.a.createElement(f.V,{className:F()(t.layoutTable,"flex flex-col h-full")},m.a.createElement(Tt.c,{rootComponent:qt,rows:c,columns:p},m.a.createElement(Tt.b,null),m.a.createElement(Pt.o,{defaultCurrentPage:0,defaultPageSize:100}),m.a.createElement(Tt.e,{pageSizes:E}),m.a.createElement(Pt.r,{selection:u,onSelectionChange:this.changeSelection}),m.a.createElement(Pt.l,null),m.a.createElement(Pt.k,null),m.a.createElement(Tt.r,{height:"auto"}),m.a.createElement(Pt.s,{sorting:g,onSortingChange:this.changeSorting,columnExtensions:p}),m.a.createElement(Pt.m,null),m.a.createElement(Pt.q,{value:S,onValueChange:this.changeSearchValue}),m.a.createElement(Pt.e,{defaultFilters:[],columnExtensions:p}),m.a.createElement(Pt.i,null),m.a.createElement(Pt.d,{columnExtensions:b,onCommitChanges:this.commitChanges}),m.a.createElement(Pt.h,{grouping:[{columnName:"FranchiseeName"}],defaultExpandedGroups:["FranchiseeName"],defaultGrouping:[{columnName:"Franchisee"}],columnExtensions:p}),m.a.createElement(Pt.j,null),m.a.createElement(Tt.g,null),m.a.createElement(Tt.i,{defaultColumnWidths:p}),m.a.createElement(Tt.o,null),m.a.createElement(Pt.b,{for:C}),m.a.createElement(Tt.n,{columnExtensions:h}),m.a.createElement(At,{for:v,availableFilterOperations:y,editorComponent:Wt}),m.a.createElement(Tt.p,{showSelectAll:!0,selectByRowClick:!0,highlightRow:!0}),m.a.createElement(Tt.l,null),m.a.createElement(Tt.k,{showEditCommand:!0,showDeleteCommand:!0,commandComponent:Bt}),m.a.createElement(Dt.f,{name:"tableColumns",computed:function(e){var t=e.tableColumns;return[].concat(Object(n.a)(t.filter(function(e){return e.type!==Tt.k.COLUMN_TYPE})),[{key:"editCommand",type:Tt.k.COLUMN_TYPE,width:140}])}}),m.a.createElement(Tt.q,null),m.a.createElement(Tt.d,{showSortingControls:!0})),m.a.createElement("div",{className:F()(t.layoutTable,"flex flex-row"),style:{justifyContent:"space-between"}},m.a.createElement("span",{className:"p-6"},"Rows Selected: ",m.a.createElement("strong",null,u.length)),m.a.createElement("span",{className:"p-6"},"Total Rows: ",m.a.createElement("strong",null,c.length))))))}}]),t}(d.Component);var Ht=Object(p.withStyles)(Rt,{withTheme:!0})(Object(h.g)(Object(v.a)(function(e){var t=e.leases,a=e.auth;return{leases:t.leasesDB,bLoadedLeases:t.bLoadedLeases,transactionStatus:t.transactionStatus,filterState:t.bOpenedFilterPanel,summaryState:t.bOpenedSummaryPanel,regionId:a.login.defaultRegionId,LeaseForm:t.LeaseForm,mapViewState:t.bOpenedMapView,locationFilterValue:t.locationFilterValue,searchText:t.searchText,bLeaseFetchStart:t.bLeaseFetchStart}},function(e){return Object(g.c)({toggleFilterPanel:E.ee,toggleMapView:E.he,toggleSummaryPanel:E.ke,deleteLeasesAction:E.Mc,removeLeaseAction:E.Qd,openEditLeaseForm:E.Bd,closeEditLeaseForm:E.yc},e)})(_t))),Gt=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},Ut=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={s:"",temp:[],data:[],checkedPaid:!0,checkedPP:!0,checkedComplete:!0,checkedOpen:!0,selection:[],selectAll:!1,selectedLease:null,current_lat:0,current_long:0},a.toggleSelection=function(e,t,r){var l=Object(n.a)(a.state.selection),o=l.indexOf(e);o>=0?l=[].concat(Object(n.a)(l.slice(0,o)),Object(n.a)(l.slice(o+1))):l.push(e),a.setState({selection:l})},a.toggleAll=function(e){var t=!a.state.selectAll,n=[];if(t){var r=e.data,l=a.state.page,o=a.state.pageSize,i=l*o,s=i+o;r.forEach(function(e){e._index>=i&&e._index<s&&n.push(e._original.LeaseId)})}a.setState({selectAll:t,selection:n})},a.isSelected=function(e){return a.state.selection.includes(e)},a.logSelection=function(){console.log("selection:",a.state.selection)},a.closeComposeForm=function(){"create"===a.props.leaseForm.type?a.props.closeEditLeaseForm():a.props.closeNewLeaseForm()},a.getLeasesFromStatus=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props.leases;null!==t&&(e=t.Data[0].LeaseList.filter(function(e){return e}),a.setState({temp:e}),a.setState({data:e}))},a.onNewLease=function(){a.props.filterState&&a.props.toggleFilterPanel(),a.props.openNewLeaseForm()},a.handleChange=function(e){return function(t){a.setState(Object(u.a)({},e,t.target.value))}},a.handleSearchChange=function(e){return function(t){a.setState(Object(u.a)({},e,t.target.value))}},a.removeLeases=function(){0!==a.state.selection.length?window.confirm("Do you really want to remove the selected lease(s)")&&(a.props.deleteLeasesAction(a.state.selection,a.props.leases),a.setState({selection:[],selectAll:!1})):alert("Please choose lease(s) to delete")},e.bLoadedLeases||e.getLeases(a.props.regionId,a.props.statusId,a.props.searchText),a.fetchData=a.fetchData.bind(Object(c.a)(Object(c.a)(a))),a.escFunction=a.escFunction.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){var n=!1;this.props.transactionStatus.checkedPaid!==e.transactionStatus.checkedPaid&&(this.setState({checkedPaid:!this.state.checkedPaid}),n=!0),this.props.transactionStatus.checkedPP!==e.transactionStatus.checkedPP&&(this.setState({checkedPP:!this.state.checkedPP}),n=!0),this.props.transactionStatus.checkedComplete!==e.transactionStatus.checkedComplete&&(this.setState({checkedComplete:!this.state.checkedComplete}),n=!0),this.props.transactionStatus.checkedOpen!==e.transactionStatus.checkedOpen&&(this.setState({checkedOpen:!this.state.checkedOpen}),n=!0),this.props.regionId!==e.regionId&&(this.setState({regionId:e.regionId}),this.props.getLeases(this.props.regionId,this.props.statusId,this.props.searchText),n=!0),n&&this.getLeasesFromStatus(),null===e.leases&&null!==this.props.leases&&this.getLeasesFromStatus(),t.s!==this.state.s&&this.search(this.state.s)}},{key:"componentWillMount",value:function(){this.setState({checkedPaid:this.props.transactionStatus.checkedPaid}),this.setState({checkedPP:this.props.transactionStatus.checkedPP}),this.setState({checkedComplete:this.props.transactionStatus.checkedComplete}),this.setState({checkedOpen:this.props.transactionStatus.checkedOpen}),this.getLeasesFromStatus()}},{key:"componentWillReceiveProps",value:function(e){null===this.props.leases&&null!==e.leases&&this.getLeasesFromStatus(e.leases),this.props.leases!==e.leases&&this.getLeasesFromStatus(e.leases)}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.escFunction,!1),this.getLocation()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escFunction,!1)}},{key:"escFunction",value:function(e){27===e.keyCode&&(this.setState({s:""}),this.getLeasesFromStatus())}},{key:"search",value:function(e){if(""!==e){var t=this.state.data.filter(function(t){return t.LeaseNo&&-1!==t.LeaseNo.toString().indexOf(e)||!e||t.LeaseName&&-1!==t.LeaseName.toString().indexOf(e)||t.Address&&-1!==t.Address.toString().indexOf(e)||t.Phone&&-1!==t.Phone.toString().indexOf(e)||t.AccountTypeListName&&-1!==t.AccountTypeListName.toString().indexOf(e)||t.LeaseDescription&&-1!==t.LeaseDescription.toString().toLowerCase().indexOf(e)||t.Amount&&-1!==t.Amount.toString().toLowerCase().indexOf(e)||t.StatusName&&-1!==t.StatusName.toString().indexOf(e)});this.setState({temp:t})}else this.getLeasesFromStatus()}},{key:"canBeSubmitted",value:function(){return!0}},{key:"fetchData",value:function(e,t){this.setState({pageSize:e.pageSize,page:e.page})}},{key:"getLocation",value:function(){var e=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){console.log(t.coords),e.setState({current_lat:t.coords.latitude,current_long:t.coords.longitude})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.toggleFilterPanel,r=(t.toggleSummaryPanel,t.filterState),l=t.summaryState,o=t.openNewLeaseForm,i=t.leaseForm;t.mapViewState;console.log(this.props),console.log(this.state);var s=this.state.selection;return console.log("props=",this.props),m.a.createElement(m.a.Fragment,null,m.a.createElement(b.m,{classes:{root:F()(a.layoutRoot,"test123"),rightSidebar:F()(a.layoutRightSidebar,{openSummary:l}),leftSidebar:F()(a.layoutLeftSidebar,{openFilter:r}),sidebarHeader:a.layoutSidebarHeader,header:a.layoutHeader,content:a.content},header:m.a.createElement("div",{className:"flex w-full items-center"},this.state.temp&&!i.props.open&&m.a.createElement("div",{className:"flex row flex-1  p-8 sm:p-12 relative justify-between"},m.a.createElement("div",{className:"flex flex-row flex-1 justify-between"},m.a.createElement("div",{className:"flex flex-shrink items-center"},m.a.createElement("div",{className:"flex items-center"},m.a.createElement(b.a,{animation:"transition.expandIn",delay:300},m.a.createElement(f.E,{className:"text-32 mr-12"},"account_box")),m.a.createElement(b.a,{animation:"transition.slideLeftIn",delay:300},m.a.createElement(f.pb,{variant:"h6",className:"hidden sm:flex"},"Franchisees | Leases")))),m.a.createElement("div",{className:"flex flex-shrink items-center"},m.a.createElement(b.a,{animation:"transition.expandIn",delay:300},m.a.createElement(f.t,{color:"secondary","aria-label":"add",className:F()(a.sideButton,"mr-12"),onClick:function(){return e.onNewLease()}},m.a.createElement(f.E,null,"add"))),m.a.createElement(b.a,{animation:"transition.expandIn",delay:300},m.a.createElement(f.t,{color:"secondary","aria-label":"add",className:F()(a.sideButton,"mr-12"),onClick:function(){return e.props.history.push("/apps/mail/inbox")}},m.a.createElement(f.E,null,"mail_outline"))),m.a.createElement(b.a,{animation:"transition.expandIn",delay:300},m.a.createElement(f.t,{color:"secondary","aria-label":"add",className:a.sideButton,onClick:function(){return alert("ok")}},m.a.createElement(f.E,null,"print"))))),m.a.createElement("div",{className:"flex flex-none items-end",style:{display:"none"}},m.a.createElement(b.a,{animation:"transition.expandIn",delay:600},m.a.createElement(f.t,{color:"secondary","aria-label":"add",className:a.addButton,onClick:function(){return o}},m.a.createElement(f.E,null,"add"))),m.a.createElement(b.a,{animation:"transition.expandIn",delay:300},m.a.createElement(f.t,{color:"primary","aria-label":"add",className:F()(a.sideButton,"mr-12"),onClick:function(){return e.props.history.push("/apps/mail/inbox")}},m.a.createElement(f.E,null,"mail_outline"))),m.a.createElement(b.a,{animation:"transition.expandIn",delay:300},m.a.createElement(f.t,{color:"secondary","aria-label":"add",className:a.sideButton,onClick:function(){return alert("ok")}},m.a.createElement(f.E,null,"print"))),s.length>0&&m.a.createElement(b.a,{animation:"transition.expandIn",delay:600},m.a.createElement(f.t,{color:"secondary","aria-label":"delete",className:a.removeButton,onClick:function(){return e.removeLeases()}},m.a.createElement(f.E,null,"delete"))))),this.state.temp&&i.props.open&&m.a.createElement("div",{className:"flex row flex-1  p-8 sm:p-12 relative justify-between"},m.a.createElement("div",{className:"flex flex-row flex-1 justify-between"},m.a.createElement("div",{className:"flex flex-shrink items-center"},m.a.createElement("div",{className:"flex items-center"},m.a.createElement(b.a,{animation:"transition.expandIn",delay:300},m.a.createElement(f.nb,{className:"pl-12 pr-0"},m.a.createElement("img",{className:"mr-12",alt:"",src:"assets/images/invoices/invoice-icon-white.png",style:{width:32,height:32}}))),m.a.createElement(b.a,{animation:"transition.slideLeftIn",delay:300},m.a.createElement(f.pb,{variant:"h6",className:"hidden sm:flex"},"Leases | New Leases")))),m.a.createElement("div",{className:"flex flex-shrink items-center"})),m.a.createElement("div",{className:"flex flex-none items-end",style:{display:"none"}},m.a.createElement(b.a,{animation:"transition.expandIn",delay:600},m.a.createElement(f.t,{color:"secondary","aria-label":"add",className:a.addButton,onClick:function(){return alert("ok")}},m.a.createElement(f.E,null,"add"))),m.a.createElement(b.a,{animation:"transition.expandIn",delay:300},m.a.createElement(f.t,{color:"primary","aria-label":"add",className:F()(a.sideButton,"mr-12"),onClick:function(){return e.props.history.push("/apps/mail/inbox")}},m.a.createElement(f.E,null,"mail_outline"))),m.a.createElement(b.a,{animation:"transition.expandIn",delay:300},m.a.createElement(f.t,{color:"secondary","aria-label":"add",className:a.sideButton,onClick:function(){return alert("ok")}},m.a.createElement(f.E,null,"print"))),s.length>0&&m.a.createElement(b.a,{animation:"transition.expandIn",delay:600},m.a.createElement(f.t,{color:"secondary","aria-label":"delete",className:a.removeButton,onClick:function(){return e.removeLeases()}},m.a.createElement(f.E,null,"delete")))))),content:m.a.createElement("div",{className:"flex-1 flex-col absolute w-full h-full"},this.state.temp&&!i.props.open&&m.a.createElement("div",{className:F()("flex flex-col h-full")},m.a.createElement("div",{className:"flex flex-row items-center p-12"},m.a.createElement("div",{className:"flex justify-start items-center"},m.a.createElement(f.D,{smDown:!0},m.a.createElement(f.c,{onClick:function(e){return n()},"aria-label":"toggle filter panel",color:"secondary",disabled:!!r,className:F()(a.filterPanelButton)},m.a.createElement("img",{className:a.imageIcon,src:"assets/images/invoices/filter.png",alt:"filter"}))),m.a.createElement(f.D,{smUp:!0},m.a.createElement(f.c,{onClick:function(t){return e.pageLayout.toggleLeftSidebar()},"aria-label":"toggle filter panel",className:F()(a.filterPanelButton)},m.a.createElement("img",{className:a.imageIcon,src:"assets/images/invoices/filter.png",alt:"filter"})))),m.a.createElement("div",{className:"flex items-center w-full h-44 mr-12 ml-12"},m.a.createElement(f.V,{className:"flex items-center h-44 w-full lg:mr-12 xs:mr-0",elevation:1},m.a.createElement(f.G,{placeholder:"Search...",className:F()(a.search,"pl-16"),disableUnderline:!0,fullWidth:!0,value:this.state.s,onChange:this.handleSearchChange("s"),inputProps:{"aria-label":"Search"}})))),m.a.createElement(Ht,{data:this.state.temp})),this.state.temp&&i.props.open&&m.a.createElement(Nt,{customers:this.state.customers,selectedLease:this.state.selectedLease})),leftSidebarHeader:m.a.createElement("div",{className:F()("flex flex-row w-full h-full justify-between p-12 align-middle pr-0",{filteropen:r})},m.a.createElement("h4",{style:{marginBlockStart:"1em"}},"Filter Panel"),m.a.createElement(b.a,{animation:"transition.expandIn",delay:200},m.a.createElement("div",null,m.a.createElement(f.D,{xsDown:!0},m.a.createElement(f.F,{onClick:function(e){return n()}},m.a.createElement(f.E,null,"close")))))),leftSidebarContent:m.a.createElement(ce,null),onRef:function(t){e.pageLayout=t}}),(this.props.bLeaseStart||this.props.bCustomerFetchStart||this.props.bFranchiseesFetchStart)&&m.a.createElement("div",{className:a.overlay},m.a.createElement(f.j,{className:a.progress,color:"secondary"})))}}]),t}(d.Component);t.default=Object(p.withStyles)(function(e){return{root:{background:"url('/assets/images/backgrounds/signin-bg.jpg') no-repeat",backgroundSize:"cover"},layoutRoot:{flexDirection:"row","& .z-9999":{height:64},"& .-pageSizeOptions":{display:"none"},"& .ReactTable .rt-noData":{top:"250px",border:"1px solid coral"},"& .ReactTable .rt-thead.-headerGroups":{paddingLeft:"0!important",paddingRight:"0!important",minWidth:"inherit!important"},"& .ReactTable.-highlight .rt-tbody .rt-tr:not(.-padRow):hover":{background:"rgba("+Gt(e.palette.secondary.main).r+","+Gt(e.palette.secondary.main).g+","+Gt(e.palette.secondary.main).b+", .8)",color:"white!important"},"& .openFilter":{width:"inherit"},"& .openSummary":{width:300},"& .ReactTable .rt-tbody":{overflowY:"scroll",overflowX:"hidden"},"& .ReactTable .rt-tr-group":{flex:"0 0 auto"},"& .ReactTable .rt-thead .rt-th:nth-child(1)":{justifyContent:"center"},"& .ReactTable .rt-thead.-headerGroups .rt-th:nth-child(2)":{width:"inherit!important",minWidth:"inherit!important"},"& .ReactTable .rt-thead .rt-th:last-child":{justifyContent:"flex-end"},"& .p-12-impor":{paddingLeft:"1.2rem!important",paddingRight:"1.2rem!important"},"& .wordwrap":{whiteSpace:"pre-line !important",wordWrap:"break-word"}},card:{width:"100%",maxWidth:384},progress:{margin:2*e.spacing.unit},layoutHeader:{height:80,minHeight:80,backgroundColor:e.palette.secondary.main},layoutRightSidebar:Object(u.a)({width:0},e.breakpoints.down("sm"),{width:"inherit"}),layoutLeftSidebar:Object(u.a)({width:0},e.breakpoints.down("sm"),{width:"inherit"}),layoutSidebarHeader:{height:80,minHeight:80,display:"flex",alignItems:"center",backgroundColor:e.palette.secondary.main},content:{position:"relative"},addButton:{position:"absolute",bottom:-28,left:16,zIndex:999,backgroundColor:e.palette.primary.light,"&:hover":{backgroundColor:e.palette.primary.dark}},sideButton:{backgroundColor:e.palette.primary.light,height:46,width:46,"&:hover":{backgroundColor:e.palette.primary.dark}},removeButton:{position:"absolute",bottom:-28,right:16,zIndex:999,backgroundColor:e.palette.secondary.light,"&:hover":{backgroundColor:e.palette.secondary.dark}},imageIcon:{width:24,height:24},separator:{width:1,height:"100%",backgroundColor:e.palette.divider},search:Object(u.a)({width:360},e.breakpoints.down("sm"),{width:"100%"}),tableTheadRow:{backgroundColor:e.palette.primary.main},tableThEven:{backgroundColor:"rgba("+Gt(e.palette.secondary.main).r+","+Gt(e.palette.secondary.main).g+","+Gt(e.palette.secondary.main).b+", .3)"},tableTdEven:{backgroundColor:"rgba("+Gt(e.palette.secondary.main).r+","+Gt(e.palette.secondary.main).g+","+Gt(e.palette.secondary.main).b+", .1)"},filterPanelButton:{backgroundColor:e.palette.secondary.main,minWidth:42,padding:8,justifyContent:"center","&:hover":{backgroundColor:e.palette.primary.dark}},summaryPanelButton:{backgroundColor:e.palette.secondary.main,minWidth:42,padding:8,color:"white",justifyContent:"center","&:hover":{backgroundColor:e.palette.primary.dark}}}},{withTheme:!0})(Object(h.g)(Object(v.a)(function(e){var t=e.leases,a=e.auth;return{leases:t.leasesDB,bLoadedLeases:t.bLoadedLeases,transactionStatus:t.transactionStatus,filterState:t.bOpenedFilterPanel,summaryState:t.bOpenedSummaryPanel,mapViewState:t.bOpenedMapView,leaseForm:t.leaseForm,regionId:a.login.defaultRegionId,statusId:t.statusId,searchText:t.searchText}},function(e){return Object(g.c)({getLeases:E.kd,toggleFilterPanel:E.ee,toggleSummaryPanel:E.ke,toggleMapView:E.he,deleteLeasesAction:E.Mc,removeLeaseAction:E.Qd,openNewLeaseForm:E.Id,openEditLeaseForm:E.Bd,closeEditLeaseForm:E.yc,closeNewLeaseForm:E.Ec},e)})(Ut)))}}]);
//# sourceMappingURL=13.c2f58578.chunk.js.map