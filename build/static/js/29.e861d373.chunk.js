(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{1438:function(e,t,a){"use strict";var n=a(201),l=a(1441),r=a(0),i=a.n(r),o=a(21),s=a.n(o),c=a(640),m=a.n(c);t.a=s()({grid:{margin:"0 -15px",width:"calc(100% + 30px)","&:before,&:after":{display:"table",content:'" "'},"&:after":{clear:"both"}}})(function(e){var t=Object(l.a)({},e),a=t.classes,r=t.children,o=t.className,s=Object(n.a)(t,["classes","children","className"]);return i.a.createElement(m.a,Object.assign({container:!0},s,{className:a.grid+" "+o}),r)})},1439:function(e,t,a){"use strict";var n=a(201),l=a(1441),r=a(0),i=a.n(r),o=a(21),s=a.n(o),c=a(640),m=a.n(c);t.a=s()({grid:{padding:"0 15px !important"}})(function(e){var t=Object(l.a)({},e),a=t.classes,r=t.children,o=t.className,s=Object(n.a)(t,["classes","children","className"]);return i.a.createElement(m.a,Object.assign({item:!0},s,{className:a.grid+" "+o}),r)})},1796:function(e,t,a){"use strict";a.r(t);var n=a(14),l=a(3),r=a(11),i=a(16),o=a(18),s=a(17),c=a(19),m=a(74),u=a(20),d=a(0),h=a.n(d),p=(a(46),a(1)),g=a(9),f=a(6),v=a(277),b=a(394),E=a(23),y=a(147),x=a(7),C=a(60),S=a.n(C),N=a(202),I=(a(390),a(33)),w=a.n(I),D=a(4),O=a.n(D),k=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={isOpen:!1,invoiceDetail:[],CustomerFor:[],CustomerSoldTo:[]},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.getData&&this.setState({invoiceDetail:e.getData,CustomerFor:e.getData.CustomerFor[0],CustomerSoldTo:e.getData.CustomerSoldTo[0]})}},{key:"render",value:function(){return this.props.show?h.a.createElement("div",{onClick:this.props.onClose,className:"backdrop",style:{position:"absolute",top:-110,bottom:0,left:0,right:0,zIndex:99999,backgroundColor:"rgba(0,0,0,0.3)",padding:50}},h.a.createElement("div",{onClick:this.props.onClose,id:"divToPrint",className:"modal",style:{backgroundColor:"#fff",borderRadius:5,maxWidth:800,minHeight:300,margin:"0 auto",padding:30}},h.a.createElement("div",{style:{width:"100%"}},h.a.createElement("table",{style:{width:"100%"}},h.a.createElement("thead",null,h.a.createElement("tr",null,h.a.createElement("th",{className:"text-center",width:"20%",align:"left"},h.a.createElement(p.mb,{color:"inherit"},h.a.createElement("img",{src:"https://res.cloudinary.com/janiking/image/upload/v1545837406/apps/web/appid2/logo-full.png",alt:""}))),h.a.createElement("th",{width:"50%",className:"text-left"},"Remit To:",h.a.createElement(p.mb,null,"JANI-KING OF BUFFALO, INC"),h.a.createElement(p.mb,null,"P.O.BOX 415291"),h.a.createElement(p.mb,null,"BOSTON ",h.a.createElement("span",{style:{paddingLeft:150}},"MA"),"  ",h.a.createElement("span",{style:{paddingLeft:50}},"02241-5291")," "),h.a.createElement(p.mb,null,"(716) 636-4840")),h.a.createElement("th",null,h.a.createElement("table",{style:{width:"100%",borderCollapse:"collapse",border:"solid 1px"}},h.a.createElement("tbody",null,h.a.createElement("tr",null,h.a.createElement("td",{style:{border:"solid 1px"},colSpan:"2"},"Invoice")),h.a.createElement("tr",null,h.a.createElement("td",{style:{border:"solid 1px"}},h.a.createElement(p.mb,null," ",h.a.createElement("strong",null,"Date")," "),h.a.createElement(p.mb,null,this.state.invoiceDetail.InvoiceDate)),h.a.createElement("td",{style:{border:"solid 1px"}},h.a.createElement(p.mb,null,h.a.createElement("strong",null,"Number")),h.a.createElement(p.mb,null,this.state.invoiceDetail.CompanyNo))),h.a.createElement("tr",null,h.a.createElement("td",{style:{border:"solid 1px"}},h.a.createElement(p.mb,null,h.a.createElement("strong",null,"Due Date")),h.a.createElement(p.mb,null,this.state.invoiceDetail.DueDate)),h.a.createElement("td",{style:{border:"solid 1px"}},h.a.createElement(p.mb,null,h.a.createElement("strong",null,"Cust#")),h.a.createElement(p.mb,null,this.state.invoiceDetail.CustomerNo))),h.a.createElement("tr",null,h.a.createElement("td",{style:{border:"solid 1px"}},h.a.createElement(p.mb,null,h.a.createElement("strong",{style:{fontSize:"11px"}},"Invoice Amount")),h.a.createElement(p.mb,null,"$31,180.55")),h.a.createElement("td",{style:{border:"solid 1px"}},h.a.createElement(p.mb,null,h.a.createElement("strong",{style:{fontSize:"11px"}},"Amount Remitted")),h.a.createElement(p.mb,null,h.a.createElement("br",null)))))))))),h.a.createElement("table",{style:{width:"85%"},align:"center"},h.a.createElement("tbody",null,h.a.createElement("tr",null,h.a.createElement("td",{width:"60%",className:"text-left"},h.a.createElement(p.mb,null,h.a.createElement("strong",null,"Sold To:")),h.a.createElement(p.mb,null,this.state.CustomerSoldTo.Name),h.a.createElement(p.mb,null,h.a.createElement("br",null)),h.a.createElement(p.mb,null,"ONE BILLS DRIVE")),h.a.createElement("td",{width:"40%",className:"text-left"},h.a.createElement(p.mb,null,h.a.createElement("strong",null,"For:")),h.a.createElement(p.mb,null,this.state.CustomerFor.Name),h.a.createElement(p.mb,null,"OPERATIONS CENTER"),h.a.createElement(p.mb,null,"ONE BILLS DRIVE"))),h.a.createElement("tr",null,h.a.createElement("td",{width:"50%",className:"text-left"},h.a.createElement(p.mb,null,h.a.createElement("span",null,this.state.CustomerSoldTo.AddressLine1),h.a.createElement("span",{style:{paddingLeft:50}},this.state.CustomerSoldTo.State),h.a.createElement("span",{style:{paddingLeft:30}},this.state.CustomerSoldTo.ZipCode))),h.a.createElement("td",{width:"",className:"text-left"},h.a.createElement(p.mb,null,h.a.createElement("span",null,this.state.CustomerFor.AddressLine1),h.a.createElement("span",{style:{paddingLeft:50}},this.state.CustomerFor.State),h.a.createElement("span",{style:{paddingLeft:30}},this.state.CustomerFor.ZipCode)))))),h.a.createElement("table",{style:{width:"85%"},align:"center"},h.a.createElement("tbody",null,h.a.createElement("tr",null,h.a.createElement("td",{className:"text-center",width:"100%"},h.a.createElement(p.mb,null,h.a.createElement("span",{style:{fontSize:"11px"}},"Make All Chekcs Payable To:JANI-KING OF BUFFALO,INC,")),h.a.createElement(p.mb,null,h.a.createElement("span",{style:{fontSize:"11px"}},"RETURN THIS PORTION WITH YOUR PAYMENT")))))),h.a.createElement("div",{style:{width:"100%",borderBottom:"2px solid rgb(0, 0, 0)"}}),h.a.createElement("table",{style:{width:"85%"},align:"center"},h.a.createElement("tbody",null,h.a.createElement("tr",null,h.a.createElement("td",{width:"20%"}),h.a.createElement("td",{width:"60%",className:"text-center"},h.a.createElement(p.mb,null,h.a.createElement("strong",null,h.a.createElement("span",{style:{fontSize:"18px"}},"JANI-KING OF BUFFALO,INC"))),h.a.createElement(p.mb,null,h.a.createElement("strong",null,h.a.createElement("span",{style:{fontSize:"14px"}},"Commercial Cleaning Services"))),h.a.createElement(p.mb,null,h.a.createElement("span",null,"(716)")," ",h.a.createElement("span",null,"636-4840")),h.a.createElement(p.mb,null,h.a.createElement("br",null)),h.a.createElement(p.mb,null,h.a.createElement("br",null)),h.a.createElement(p.mb,null,h.a.createElement("br",null))),h.a.createElement("td",{width:"20%"},h.a.createElement(p.mb,{color:"inherit"},h.a.createElement("img",{src:"https://res.cloudinary.com/janiking/image/upload/v1545837406/apps/web/appid2/logo-full.png",alt:""})))))),h.a.createElement("table",{style:{width:"85%"},align:"center"},h.a.createElement("tbody",null,h.a.createElement("tr",null,h.a.createElement("td",{width:"60%",className:"text-left"},h.a.createElement(p.mb,null,h.a.createElement("strong",null,"Sold To:")),h.a.createElement(p.mb,null,this.state.CustomerSoldTo.Name),h.a.createElement(p.mb,null,h.a.createElement("br",null)),h.a.createElement(p.mb,null,"ONE BILLS DRIVE")),h.a.createElement("td",{width:"40%",className:"text-left"},h.a.createElement(p.mb,null,h.a.createElement("strong",null,"For:")),h.a.createElement(p.mb,null,this.state.CustomerFor.Name),h.a.createElement(p.mb,null,"OPERATIONS CENTER"),h.a.createElement(p.mb,null,"ONE BILLS DRIVE"))),h.a.createElement("tr",null,h.a.createElement("td",{width:"50%",className:"text-left"},h.a.createElement(p.mb,null,h.a.createElement("span",null,this.state.CustomerSoldTo.AddressLine1),h.a.createElement("span",{style:{paddingLeft:50}},this.state.CustomerSoldTo.State),h.a.createElement("span",{style:{paddingLeft:30}},this.state.CustomerSoldTo.ZipCode))),h.a.createElement("td",{className:"text-left"},h.a.createElement(p.mb,null,h.a.createElement("span",null,this.state.CustomerFor.AddressLine1),h.a.createElement("span",{style:{paddingLeft:50}},this.state.CustomerFor.State),h.a.createElement("span",{style:{paddingLeft:30}},this.state.CustomerFor.ZipCode)))))),h.a.createElement("table",{style:{width:"100%",borderCollapse:"collapse",border:"solid 1px"}},h.a.createElement("thead",null,h.a.createElement("tr",null,h.a.createElement("th",{width:"15%",style:{border:"solid 1px"},className:"text-center"},"Invoice No"),h.a.createElement("th",{width:"10%",style:{border:"solid 1px"},className:"text-center"},"Date"),h.a.createElement("th",{width:"10%",style:{border:"solid 1px"},className:"text-center"},"Cust No"),h.a.createElement("th",{width:"15%",style:{border:"solid 1px"},className:"text-center"},"Sismn No"),h.a.createElement("th",{width:"15%",style:{border:"solid 1px"},className:"text-center"},"PO Number"),h.a.createElement("th",{width:"25%",style:{border:"solid 1px"},className:"text-center"},"Franchisee"),h.a.createElement("th",{width:"10%",style:{border:"solid 1px"},className:"text-center"},"Due Date"))),h.a.createElement("tbody",null,h.a.createElement("tr",null,h.a.createElement("td",{width:"15%",style:{border:"solid 1px"},className:"text-center"},this.state.invoiceDetail.inv_no),h.a.createElement("td",{width:"10%",style:{border:"solid 1px"},className:"text-center"},this.state.invoiceDetail.InvoiceDate),h.a.createElement("td",{width:"10%",style:{border:"solid 1px"},className:"text-center"},this.state.invoiceDetail.CustomerNo),h.a.createElement("td",{width:"15%",style:{border:"solid 1px"},className:"text-center"},this.state.invoiceDetail.SismnNo),h.a.createElement("td",{width:"15%",style:{border:"solid 1px"},className:"text-center"},"63356B"),h.a.createElement("td",{width:"25%",style:{border:"solid 1px"},className:"text-center"},"KMBURNS.LLC"),h.a.createElement("td",{width:"10%",style:{border:"solid 1px"},className:"text-center"},"112/31/2018")))),h.a.createElement("table",{style:{width:"100%",borderCollapse:"collapse",border:"solid 1px"}},h.a.createElement("tbody",null,h.a.createElement("tr",null,h.a.createElement("td",{width:"10%",style:{border:"solid 1px"},className:"text-center"},h.a.createElement("strong",null,"Quantity")),h.a.createElement("td",{width:"60%",style:{border:"solid 1px"},className:"text-center"},h.a.createElement("strong",null,"Description")),h.a.createElement("td",{width:"15%",style:{border:"solid 1px"},className:"text-center"},h.a.createElement("strong",null,"Unit Price")),h.a.createElement("td",{width:"15%",style:{border:"solid 1px"},className:"text-center"},h.a.createElement("strong",null,"Extended Price"))),h.a.createElement("tr",null,h.a.createElement("td",{width:"10%",style:{border:"solid 1px"},className:"text-center"},"1"),h.a.createElement("td",{width:"60%",style:{border:"solid 1px"},className:"text-center"},"MONTHLY CONTRACY BILLING AMOUNT FOR DECEMBER"),h.a.createElement("td",{width:"15%",style:{border:"solid 1px"},className:"text-center"},"28671.77"),h.a.createElement("td",{rowSpan:"1",width:"15%",style:{border:"solid 1px"},className:"text-center"},"28671.77")),h.a.createElement("tr",null,h.a.createElement("td",{style:{borderRight:"solid 1px"}},h.a.createElement(p.mb,null,h.a.createElement("br",null))," ",h.a.createElement(p.mb,null,h.a.createElement("br",null))," ",h.a.createElement(p.mb,null,h.a.createElement("br",null))," ",h.a.createElement(p.mb,null,h.a.createElement("br",null))," ",h.a.createElement(p.mb,null,h.a.createElement("br",null)),h.a.createElement(p.mb,null,h.a.createElement("br",null))," ",h.a.createElement(p.mb,null,h.a.createElement("br",null))," ",h.a.createElement(p.mb,null,h.a.createElement("br",null))," ",h.a.createElement(p.mb,null,h.a.createElement("br",null))," ",h.a.createElement(p.mb,null,h.a.createElement("br",null)),h.a.createElement(p.mb,null,h.a.createElement("br",null)),h.a.createElement(p.mb,null,h.a.createElement("br",null)),h.a.createElement(p.mb,null,h.a.createElement("br",null)),h.a.createElement(p.mb,null,h.a.createElement("br",null))),h.a.createElement("td",null,h.a.createElement(p.mb,null,h.a.createElement("br",null))),h.a.createElement("td",{style:{border:"solid 1px"}},h.a.createElement(p.mb,null,h.a.createElement("br",null))),h.a.createElement("td",{style:{border:"solid 1px"}},h.a.createElement(p.mb,null,h.a.createElement("br",null)))),h.a.createElement("tr",null,h.a.createElement("td",{width:"10%",style:{borderRight:"solid 1px"},className:"text-center"}),h.a.createElement("td",{width:"60%",className:"text-center"},"PO63356B"),h.a.createElement("td",{width:"15%",style:{border:"solid 1px"},className:"text-center"},h.a.createElement("strong",null,"Amount of Sale")),h.a.createElement("td",{width:"15%",style:{border:"solid 1px"},className:"text-center"},"$28671.77")),h.a.createElement("tr",null,h.a.createElement("td",{width:"10%",style:{borderRight:"solid 1px"},className:"text-center"}),h.a.createElement("td",{width:"60%",className:"text-center"}),h.a.createElement("td",{width:"15%",style:{border:"solid 1px"},className:"text-center"},h.a.createElement("strong",null,"Sales Tax")),h.a.createElement("td",{width:"15%",style:{border:"solid 1px"},className:"text-center"},"$2,508.78")),h.a.createElement("tr",null,h.a.createElement("td",{width:"10%",style:{borderRight:"solid 1px"},className:"text-center"}),h.a.createElement("td",{width:"60%",className:"text-center"},h.a.createElement(p.mb,null,h.a.createElement("strong",{style:{fontSize:"11px"}},"Make All Checks Payable To:")),h.a.createElement(p.mb,null,h.a.createElement("strong",{style:{fontSize:"11px"}},"JANI-KING OF BUFFALO,INC:"))),h.a.createElement("td",{width:"15%",style:{border:"solid 1px"},className:"text-center"},h.a.createElement("strong",null,"Total")),h.a.createElement("td",{width:"15%",style:{border:"solid 1px"},className:"text-center"},"$31,180.55"))))))):null}}]),t}(d.Component),T=(a(172),function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}),j=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={s:"",temp:[],data:[],selection:[],selectAll:!1,isOpen:!1,invoiceDetail:null,CustomerFor:[],CustomerSoldTo:[],selectedInvoice:null},a.onChange=function(e,t){var n=t.newValue;t.method;a.setState({value:n.toString()})},a.toggleSelection=function(e,t,l){var r=Object(n.a)(a.state.selection),i=r.indexOf(e);i>=0?r=[].concat(Object(n.a)(r.slice(0,i)),Object(n.a)(r.slice(i+1))):r.push(e),a.setState({selection:r})},a.toggleAll=function(e){var t=!a.state.selectAll,n=[];if(t){var l=e.data,r=a.state.page,i=a.state.pageSize,o=r*i,s=o+i;l.forEach(function(e){e._index>=o&&e._index<s&&n.push(e._original.InvoiceId)})}a.setState({selectAll:t,selection:n})},a.isSelected=function(e){return a.state.selection.includes(e)},a.logSelection=function(){console.log("selection:",a.state.selection)},a.toggleLeftSidebar=function(){},a.removeInvoices=function(){0!==a.state.selection.length?window.confirm("Do you really want to remove the selected invoice(s)")&&(a.props.deleteInvoicesAction(a.state.selection,a.props.invoices),a.setState({selection:[],selectAll:!1})):alert("Please choose invoice(s) to delete")},a.onEditInvoice=function(e){a.props.openEditInvoiceForm(e)},a.invoicereport=function(e){e.stopPropagation(),console.log("invoice report"),a.props.getInvoiceDetail(),console.log("asd=",a.props.invoicesdetail),a.setState({isOpen:!a.state.isOpen}),a.setState({invoiceDetail:a.props.invoicesdetail})},a.toggleModal=function(){a.setState({isOpen:!a.state.isOpen})},a.fetchData=a.fetchData.bind(Object(m.a)(Object(m.a)(a))),a.escFunction=a.escFunction.bind(Object(m.a)(Object(m.a)(a))),a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){this.props.data!==e.data&&this.setState({data:this.props.data})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.escFunction,!1)}},{key:"componentWillMount",value:function(){this.setState({data:this.props.data})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escFunction,!1)}},{key:"escFunction",value:function(e){27===e.keyCode&&(this.setState({s:""}),this.setState({data:this.props.data}))}},{key:"fetchData",value:function(e,t){this.setState({pageSize:e.pageSize,page:e.page})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.toggleSelection,n=this.toggleAll,l=this.isSelected;return h.a.createElement("div",{className:O()(t.layoutTable,"flex flex-col h-full")},h.a.createElement(N.b,{data:this.state.data,minRows:0,PaginationComponent:b.a,onFetchData:this.fetchData,getTheadThProps:function(e,t,a,n){var l="1px solid rgba(255,255,255,.6)";return"Actions"===a.Header&&(l="none"),{style:{fontSize:"1.6rem",fontFamily:'Muli,Roboto,"Helvetica",Arial,sans-serif',fontWeight:400,lineHeight:1.75,color:"white",borderRight:l}}},getTheadProps:function(e,a,n,l){return{style:{fontSize:13},className:t.tableTheadRow}},getTdProps:function(e,t,a,n){return{style:{textAlign:"center",flexDirection:"row",fontSize:12,padding:"0"}}},getTrProps:function(t,a,n){return{className:"cursor-pointer",onClick:function(t,n){a&&(e.props.filterState&&e.props.toggleFilterPanel(),e.props.summaryState&&e.props.toggleSummaryPanel(),e.props.openEditInvoiceForm(a.original))}}},columns:[{columns:[{Header:function(t){return h.a.createElement(p.h,{onClick:function(e){e.stopPropagation()},onChange:function(e){return n(t)},checked:e.state.selectAll,style:{color:"white"}})},accessor:"",Cell:function(e){return h.a.createElement(p.h,{onClick:function(e){e.stopPropagation()},checked:l(e.value.InvoiceId),onChange:function(){return a(e.value.InvoiceId)}})},className:"justify-center",sortable:!1,width:72}],className:O()("justify-center")},{columns:[{Header:"Invoice #",accessor:"InvoiceNo",filterAll:!0,width:120,Cell:function(t){return h.a.createElement(p.c,{onClick:e.invoicereport},t.value)},className:O()(t.tableTdEven,"flex items-center  justify-center")},{Header:"Description",accessor:"InvoiceDescription",width:420,className:O()("flex items-center  justify-start p-12-impor")},{Header:"Customer #",accessor:"CustomerNo",className:O()(t.tableTdEven,"flex items-center  justify-center"),width:120},{Header:"Customer Name",accessor:"CustomerName",width:280,className:O()("flex items-center  justify-start p-12-impor")},{Header:"Balance",accessor:"InvoiceBalanceAmount",Cell:function(e){return"$"+parseFloat(e.original.InvoiceBalanceAmount).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")},className:O()(t.tableTdEven,"flex items-center  justify-end p-12-impor"),width:120},{Header:"Total",Cell:function(e){return"$"+parseFloat(e.original.InvoiceTotal).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")},accessor:"InvoiceTotal",className:O()("flex items-center  justify-end p-12-impor"),width:120},{Header:"Invoice Date",id:"InvoiceDate",accessor:function(e){return S()(e.InvoiceDate).format("MM/DD/YYYY")},className:O()(t.tableTdEven,"flex items-center  justify-center"),width:120},{Header:"Due Date",id:"DueDate",accessor:function(e){return S()(e.DueDate).format("MM/DD/YYYY")},className:O()("flex items-center  justify-center"),width:120},{Header:"Status",accessor:"TransactionStatus",className:O()(t.tableTdEven,"flex items-center  justify-center"),width:120},{Header:"Actions",width:128,Cell:function(t){return h.a.createElement("div",{className:"flex items-center actions"},h.a.createElement(p.E,{onClick:function(a){a.stopPropagation(),window.confirm("Do you really want to remove this invoice")&&(e.props.removeInvoiceAction(t.original.InvoiceId,e.props.invoices),e.state.selection.length>0&&w.a.remove(e.state.selection,function(e){return e===t.original.InvoiceId}))}},h.a.createElement(p.D,null,"delete")),h.a.createElement(p.E,{onClick:function(a){a.stopPropagation(),e.props.openEditInvoiceForm(t.original)}},h.a.createElement(p.D,null,"edit")))}}]},{columns:[{Header:"",cell:function(){return h.a.createElement("div",{className:"flex w-full justify-end"})}}]}],defaultPageSize:100,className:O()("-striped -highlight"),totalRecords:this.state.data.length,style:{height:"100%"}}),h.a.createElement(k,{show:this.state.isOpen,onClose:this.toggleModal,getData:this.state.invoiceDetail}))}}]),t}(d.Component);var F=Object(f.withStyles)(function(e){return{layoutTable:{flexDirection:"row","& .z-9999":{height:64},"& .-pageSizeOptions":{display:"none"},"& .p-12-impor":{paddingLeft:"1.2rem!important",paddingRight:"1.2rem!important"},"& .ReactTable .rt-noData":{top:"250px",border:"1px solid coral"},"& .ReactTable .rt-thead.-headerGroups":{display:"none"},"& .ReactTable.-highlight .rt-tbody .rt-tr:not(.-padRow):hover":{background:"rgba("+T(e.palette.secondary.main).r+","+T(e.palette.secondary.main).g+","+T(e.palette.secondary.main).b+", .8)",color:"white!important"},"& .ReactTable .rt-tbody":{overflowY:"scroll",overflowX:"hidden"},"& .ReactTable .rt-tr-group":{flex:"0 0 auto"},"& .ReactTable .rt-thead .rt-th:nth-child(1)":{justifyContent:"center"},"& .ReactTable .rt-thead.-headerGroups .rt-th:nth-child(2)":{width:"inherit!important",minWidth:"inherit!important"},"& .ReactTable .rt-thead .rt-th:last-child":{justifyContent:"flex-end"}},content:{position:"relative"},search:Object(u.a)({width:360},e.breakpoints.down("sm"),{width:"100%"}),tableTheadRow:{backgroundColor:e.palette.primary.main},tableThEven:{backgroundColor:"rgba("+T(e.palette.secondary.main).r+","+T(e.palette.secondary.main).g+","+T(e.palette.secondary.main).b+", .3)"},tableTdEven:{}}},{withTheme:!0})(Object(v.g)(Object(y.a)(function(e){var t=e.invoices,a=e.auth;return{invoices:t.invoicesDB,invoicesdetail:t.invoiceDetail,transactionStatus:t.transactionStatus,regionId:a.login.defaultRegionId,InvoiceForm:t.InvoiceForm,filterState:t.bOpenedFilterPanel,summaryState:t.bOpenedSummaryPanel}},function(e){return Object(E.c)({deleteInvoicesAction:x.bc,removeInvoiceAction:x.Sc,openEditInvoiceForm:x.Hc,closeEditInvoiceForm:x.Qb,getInvoiceDetail:x.rc,toggleFilterPanel:x.fd,toggleSummaryPanel:x.ld},e)})(j))),P=a(201),R=a(1473),L=a(1474),A=a(1438),M=a(1439),B=a(646),Y=a.n(B),H=a(349),W=a.n(H),V=a(1773),Q=a.n(V),q=a(1775),z=a.n(q),$=a(1776),U=a.n($),_=a(1777),J=a.n(_),K=a(1774),G=a.n(K),X=a(434),Z=a.n(X),ee=a(112),te=a.n(ee),ae=a(1771),ne=a.n(ae);function le(e){var t=e.inputRef,a=e.onChange,n=Object(P.a)(e,["inputRef","onChange"]);return h.a.createElement(ne.a,Object.assign({},n,{getInputRef:t,onValueChange:function(e){a({target:{value:e.value}})},thousandSeparator:!0,decimalScale:2,prefix:"$"}))}function re(e){var t=e.inputRef,a=e.onChange,n=Object(P.a)(e,["inputRef","onChange"]);return h.a.createElement(ne.a,Object.assign({},n,{getInputRef:t,onValueChange:function(e){a({target:{value:e.value}})}}))}function ie(e){var t=e.inputRef,a=e.onChange,n=Object(P.a)(e,["inputRef","onChange"]);return h.a.createElement(ne.a,Object.assign({},n,{getInputRef:t,onValueChange:function(e){a({target:{value:e.value}})},suffix:"%"}))}function oe(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var se={success:Q.a,warning:G.a,error:z.a,info:U.a};var ce=Object(f.withStyles)(function(e){return{success:{backgroundColor:Y.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:W.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"}}})(function(e){var t=e.classes,a=e.className,n=e.message,l=e.onClose,r=e.variant,i=Object(P.a)(e,["classes","className","message","onClose","variant"]),o=se[r];return h.a.createElement(p.Z,Object.assign({className:O()(t[r],a),"aria-describedby":"client-snackbar",message:h.a.createElement("span",{id:"client-snackbar",className:t.message},h.a.createElement(o,{className:O()(t.icon,t.iconVariant)}),n),action:[h.a.createElement(p.E,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:l},h.a.createElement(J.a,{className:t.icon}))]},i))}),me=0;function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Regular Billing",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Adjust-Balance",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return{id:me++,billing:e,service:t,description:a,quantity:n,amount:l,tax:r,markup:i,extended:o,total:s,franchisees:[],type:"line"}}function de(e){var t=e.inputRef,a=void 0===t?function(){}:t,n=e.ref,l=Object(P.a)(e,["inputRef","ref"]);return h.a.createElement(p.jb,Object.assign({fullWidth:!0,InputProps:{inputRef:function(e){n(e),a(e)}}},l))}function he(e,t){var a=t.isHighlighted;return h.a.createElement(p.Q,{selected:a,component:"div"},h.a.createElement("span",null,e.Number," - ",e.Name))}var pe=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={order:"asc",selected:[],data:[ue("Regular Billing","Adjust-Balance","","")],page:0,rowsPerPage:10,labelWidth:0,openSnack:!1,snackMessage:"Please fill the data",nameValue0:"",nameValue1:"",nameValue2:"",nameValue3:"",nameValue4:"",nameValue5:"",nameValue6:"",nameValue7:"",nameValue8:"",nameValue9:"",nameValue10:"",nameValue11:"",nameValue12:"",nameValue13:"",nameValue14:"",nameValue15:"",nameValue16:"",nameValue17:"",nameValue18:"",nameValue19:"",nameValue20:"",nameSuggestions:[],numberValue0:"",numberValue1:"",numberValue2:"",numberValue3:"",numberValue4:"",numberValue5:"",numberValue6:"",numberValue7:"",numberValue8:"",numberValue9:"",numberValue10:"",numberValue11:"",numberValue12:"",numberValue13:"",numberValue14:"",numberValue15:"",numberValue16:"",numberValue17:"",numberValue18:"",numberValue19:"",numberValue20:"",numberSuggestions:[],taxRowId:0,customerTaxAmountLine:null},a.handleChangeBilling=function(e,t){var n=a.state.data.map(function(a){var n=a;return t.id===a.id&&(n[e.target.name]=e.target.value),n});a.setState({data:n})},a.updateTaxFromLine=function(){var e=Object(n.a)(a.state.data),t=a.state,l=t.taxRowId,r=t.customerTaxAmountLine;e[l].tax=r.TaxAmount,e[l].extended=r.ExtendedPrice,e[l].total=r.TotalAmount,a.setState({data:e})},a.getSuggestions=function(e){var t=oe(e.trim()),n=new RegExp("^"+t,"i");return a.props.franchisees.Data.Region[0].FranchiseeList.filter(function(e){return n.test(e.Number)||n.test(e.Name)})},a.getSuggestionfName=function(e){return e.Name},a.onNameChange=function(e){return function(t,l){var r=l.newValue;a.setState(Object(u.a)({},"nameValue"+e.f_index,r));var i=Object(n.a)(a.state.data);i[e.id].franchisees[e.fid].name=r,a.setState({data:i})}},a.onNameSuggestionsFetchRequested=function(e){var t=e.value;a.setState({nameSuggestions:a.getSuggestions(t)})},a.onNameSuggestionsClearRequested=function(){a.setState({nameSuggestions:[]})},a.onNameSuggestionSelected=function(e){return function(t,l){var r=l.suggestion,i=Object(n.a)(a.state.data);i[e.id].franchisees[e.fid].fnumber=r.Number,a.setState({data:i})}},a.handleClose=function(e,t){"clickaway"!==t&&a.setState({openSnack:!1})},a.addLineData=function(e){if(null===a.props.invoiceForm.customer)return a.setState({snackMessage:"Please choose customer from Invoice suggestion"}),void a.setState({openSnack:!0});if(""===e.description)return a.setState({snackMessage:"Please enter description"}),void a.setState({openSnack:!0});if(""===e.quantity)return a.setState({snackMessage:"Please enter quantity"}),void a.setState({openSnack:!0});if(""===e.amount)return a.setState({snackMessage:"Please enter amount"}),void a.setState({openSnack:!0});var t=[].concat(Object(n.a)(a.state.data),[ue()]),l=0,r=t.map(function(e){return e.id=l++,e});a.setState({data:r})},a.addFranchiseeLine=function(e){var t=Object(n.a)(a.state.data),l=function(e,t){return{id:e,fid:t,fnumber:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",name:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",amount:arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,type:"franch"}}(e.id,e.franchisees.length);e.franchisees=[].concat(Object(n.a)(e.franchisees),[l]);var r=t.map(function(t){return t.id===e.id&&(t=e),t});a.setState({data:r})},a.removeLineData=function(e){var t=Object(n.a)(a.state.data);w.a.remove(t,function(t){return t.id===e.id});var l=0,r=t.map(function(e){return e.id=l++,e});a.setState({data:r})},a.removeFranch=function(e){var t=Object(n.a)(a.state.data);t.forEach(function(t){if(t.franchisees.length>0&&t.id===e.id){var a=t.franchisees;w.a.remove(a,function(t){return t.fid===e.fid})}}),t.forEach(function(t){if(t.franchisees.length>0&&t.id===e.fid){var a=0,n=t.franchisees.map(function(e){return e.fid=a++,e});t.franchisees=n}}),a.setState({data:t}),a.setState(Object(u.a)({},"nameValue"+e.f_index,""))},a.getInvoiceLineTaxAmount=function(e){a.isDisable(e)||(console.log("zz=",a.props.regionId,a.props.invoiceForm.customer.CustomerId,e.amount,e.quantity),a.props.getCustomerTaxAmount(a.props.regionId,a.props.invoiceForm.customer.CustomerId,e.amount,e.quantity),a.setState({taxRowId:e.id}))},a.handleChange=function(e){return function(t){var l=Object(n.a)(a.state.data);l[e.id].franchisees[e.fid].amount=t.target.value,a.setState({data:l})}},a.handleChangeDesc=function(e){return function(t){var l=Object(n.a)(a.state.data);l[e.id].description=t.target.value,a.setState({data:l})}},a.handleChangeInvoiceLine=function(e,t){return function(l){var r=Object(n.a)(a.state.data);r[e.id][t]=l.target.value,a.setState({data:r}),a.isDisable(e)||a.getInvoiceLineTaxAmount(e)}},a.isDisable=function(e){return null===a.props.invoiceForm.customer?(a.setState({snackMessage:"Please choose customer from Invoice suggestion"}),a.setState({openSnack:!0}),!0):""===e.quantity||(""===e.amount||void 0)},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){}},{key:"addInvoiceLineFunction",value:function(e){"enter"===te()(e)||te()(e)}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.addInvoiceLineFunction,!1);var e=0,t=Object(n.a)(this.state.data).map(function(t){return t.id=e++,t});this.setState({data:t})}},{key:"componentDidUpdate",value:function(e,t,a){t.data!==this.state.data&&this.props.updateInvoiceLine(this.state.data),JSON.stringify(this.state.customerTaxAmountLine)!==JSON.stringify(t.customerTaxAmountLine)&&this.updateTaxFromLine()}},{key:"componentWillReceiveProps",value:function(e){JSON.stringify(this.props.customerTaxAmountLine)!==JSON.stringify(e.customerTaxAmountLine)&&this.setState({customerTaxAmountLine:e.customerTaxAmountLine})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.data,n=this.state.nameSuggestions,r=[],i=0;return a.forEach(function(e){if(0===e.franchisees.length)return r.push(e);var t=e.franchisees;r.push(e),t.forEach(function(e){r.push(Object(l.a)({f_index:i++},e))})}),h.a.createElement(p.T,{className:O()(t.root)},h.a.createElement("div",{className:O()(t.tableWrapper,"flex flex-col h-full")},h.a.createElement(N.b,{data:r,minRows:0,showPagination:!1,getTheadThProps:function(e,t,a,n){var l="1px solid rgba(255,255,255,.6)";return"Action"===a.Header&&(l="none"),{style:{fontSize:13,fontFamily:'Muli,Roboto,"Helvetica",Arial,sans-serif',fontWeight:400,lineHeight:2.75,color:"white",borderRight:l}}},getTheadProps:function(e,a,n,l){return{style:{fontSize:13},className:t.tableTheadRow}},getTdProps:function(e,t,a,n){return"franch"===t.original.type?"Quantity"===a.Header||"Amount"===a.Header||"Tax"===a.Header?{style:{display:"none"},className:{}}:{className:O()({"justify-end":"Service"===a.Header},{"justify-start":"extended"===a.id},{franchiRow:"description"===a.id})}:{className:O()({"justify-end":"extended"===a.id},{"justify-end":"line"!==t.original.type})}},columns:[{columns:[{Header:"Billing",accessor:"billing",Cell:function(a){return"line"===a.original.type?h.a.createElement(p.v,{variant:"outlined",className:O()(t.selectRoot,t.formControl),style:{marginBottom:"0!important",display:"line"!==a.original.type?"none":"block"}},h.a.createElement(p.X,{classes:{outlined:O()(t.outlined,t.billing)},value:a.original.billing,onChange:function(t){return e.handleChangeBilling(t,a.original)},input:h.a.createElement(p.S,{labelWidth:e.state.labelWidth,name:"billing",id:"billing"})},h.a.createElement(p.Q,{value:""},h.a.createElement("em",null,"Select")),h.a.createElement(p.Q,{value:"Regular Billing"},"Regular Billing"),h.a.createElement(p.Q,{value:"Additional Billing Office"},"Additional Billing Office"),h.a.createElement(p.Q,{value:"Extra Work"},"Extra Work"),h.a.createElement(p.Q,{value:"Client Supplies"},"Client Supplies"))):h.a.createElement("div",null)},width:210,className:O()(t.tableTdEven,"flex items-center  justify-center")},{Header:"Service",accessor:"service",Cell:function(a){return"line"===a.original.type?h.a.createElement(p.v,{variant:"outlined",className:t.formControl,style:{marginBottom:"0!important"}},h.a.createElement(p.X,{classes:{outlined:O()(t.outlined,t.services)},value:a.original.service,onChange:function(t){return e.handleChangeBilling(t,a.original)},input:h.a.createElement(p.S,{labelWidth:e.state.labelWidth,name:"service",id:"service"})},h.a.createElement(p.Q,{value:""},h.a.createElement("em",null,"Select")),h.a.createElement(p.Q,{value:"Adjust-Balance"},"Adjust - Balance"),h.a.createElement(p.Q,{value:"Adjust-Refund"},"Adjust - Refund"),h.a.createElement(p.Q,{value:"Adjust-WriteOff"},"Adjust - WriteOff"),h.a.createElement(p.Q,{value:"Buffing"},"Buffing"),h.a.createElement(p.Q,{value:"Carpet Clean"},"Carpet Clean"),h.a.createElement(p.Q,{value:"Customer Suppliers"},"Customer Suppliers"),h.a.createElement(p.Q,{value:"Emergency Clean"},"Emergency Clean"),h.a.createElement(p.Q,{value:"Event Center"},"Event Center"),h.a.createElement(p.Q,{value:"Floor Services"},"Floor Services"),h.a.createElement(p.Q,{value:"Furniture Cleaning Service"},"Furniture Cleaning Service"),h.a.createElement(p.Q,{value:"High Dusting"},"High Dusting"),h.a.createElement(p.Q,{value:"Hotel"},"Hotel"),h.a.createElement(p.Q,{value:"In-House Work"},"In-House Work"),h.a.createElement(p.Q,{value:"Initial and Deep Clean"},"Initial and Deep Clean"),h.a.createElement(p.Q,{value:"Initial One-Time Clean"},"Initial One-Time Clean"),h.a.createElement(p.Q,{value:"Make Ready"},"Make Ready"),h.a.createElement(p.Q,{value:"Miscellaneous - Special"},"Miscellaneous - Special"),h.a.createElement(p.Q,{value:"Other"},"Other"),h.a.createElement(p.Q,{value:"Porter Services"},"Porter Services"),h.a.createElement(p.Q,{value:"Power Washing"},"Power Washing"),h.a.createElement(p.Q,{value:"Regular Billing"},"Regular Billing"),h.a.createElement(p.Q,{value:"Regular Cleaning - Day"},"Regular Cleaning - Day"),h.a.createElement(p.Q,{value:"Regular Cleaning - Night"},"Regular Cleaning - Night"))):h.a.createElement("div",{className:O()(t.distribution)},h.a.createElement("span",null,"Distribution"))},width:210,className:O()(t.tableTdEven,"flex items-center")},{Header:"Description",accessor:"description",Cell:function(a){return"line"===a.original.type?h.a.createElement(p.jb,{id:"description",style:{margin:8},placeholder:"Description",fullWidth:!0,value:a.original.description,onChange:e.handleChangeDesc(a.original),margin:"normal",InputLabelProps:{shrink:!0}}):h.a.createElement("div",{className:O()("flex flex-row w-full justify-start")},h.a.createElement("div",{className:"f1"},a.original.fnumber),h.a.createElement("div",{className:"f2"},h.a.createElement(Z.a,{renderInputComponent:de,suggestions:n,onSuggestionsFetchRequested:e.onNameSuggestionsFetchRequested,onSuggestionsClearRequested:e.onNameSuggestionsClearRequested,onSuggestionSelected:e.onNameSuggestionSelected(a.original),getSuggestionValue:e.getSuggestionfName,renderSuggestion:he,inputProps:{placeholder:"Search Franchisee Name or Number",value:e.state["nameValue"+a.original.f_index],onChange:e.onNameChange(a.original)},theme:{container:O()(t.container),suggestionsContainerOpen:t.suggestionsContainerOpen,suggestionsList:t.suggestionsList,suggestion:t.suggestion},renderSuggestionsContainer:function(e){return h.a.createElement(p.T,Object.assign({},e.containerProps,{square:!0}),e.children)}})))}},{Header:"Quantity",accessor:"quantity",Cell:function(a){return"line"===a.original.type?h.a.createElement(p.jb,{className:t.fInput,placeholder:"Qty",value:a.original.quantity,onChange:e.handleChangeInvoiceLine(a.original,"quantity"),InputProps:{inputComponent:re}}):h.a.createElement("div",null)},className:O()(t.tableTdEven,"flex items-center  justify-center text-center"),width:80},{Header:"Amount",accessor:"amount",Cell:function(a){return"line"===a.original.type?h.a.createElement(p.jb,{className:t.fInput,placeholder:"Amount",value:a.original.amount,onChange:e.handleChangeInvoiceLine(a.original,"amount"),InputProps:{inputComponent:le}}):h.a.createElement("div",null)},className:O()(t.tableTdEven,"flex items-center  justify-center text-right"),width:100},{Header:"Tax",accessor:"tax",Cell:function(e){return"line"===e.original.type?"$"+parseFloat(e.original.tax).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):h.a.createElement("div",null)},className:O()(t.tableTdEven,"flex items-center  justify-end text-right"),width:100},{Header:"Markup(%)",accessor:"markup",Cell:function(a){return"line"===a.original.type?h.a.createElement(p.jb,{className:t.fInput,placeholder:"Markup",value:a.original.markup,onChange:e.handleChangeInvoiceLine(a.original,"markup"),InputProps:{inputComponent:ie,readOnly:"Client Supplies"!==a.original.billing}}):h.a.createElement("div",{className:"flex flex-wrap"},h.a.createElement(p.jb,{className:t.fInput,placeholder:"Amount",value:a.original.amount,onChange:e.handleChange(a.original),InputProps:{inputComponent:le}}))},className:O()(t.tableTdEven,"flex items-center  text-right justify-end"),width:100},{Header:"Extended Amount",accessor:"extended",Cell:function(a){if("line"===a.original.type){var n=0;return""!==a.original.markup&&(n=a.original.markup),"$"+parseFloat(a.original.extended*(1+parseFloat(n)/100)).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}return h.a.createElement(p.t,{"aria-label":"remove",onClick:function(){return e.removeFranch(a.original)},className:O()(t.lineCancelButton,"mr-12"),style:{width:24,height:24,minHeight:24}},h.a.createElement(p.D,null,"close"))},className:O()(t.tableTdEven,"flex items-center  w-full text-center pr-12"),width:140},{Header:"Action",width:200,Cell:function(a){return"line"===a.original.type?h.a.createElement("div",{className:"flex flex-row items-center w-full justify-center"},h.a.createElement(p.t,{color:"secondary","aria-label":"add",className:O()(t.lineButton,"mr-12"),onClick:function(){return e.addFranchiseeLine(a.original)}},h.a.createElement(p.D,null,"call_merge")),h.a.createElement(p.t,{color:"secondary","aria-label":"add",className:O()(t.lineButton,"mr-12"),onClick:function(){return e.addLineData(a.original)}},h.a.createElement(p.D,null,"add")),e.state.data.length>1&&h.a.createElement(p.t,{"aria-label":"remove",onClick:function(){return e.removeLineData(a.original)},className:O()(t.lineCancelButton,"mr-12")},h.a.createElement(p.D,null,"close"))):h.a.createElement("div",null)}}]}],className:O()("-striped -highlight"),defaultPageSize:200,style:{height:"100%"}})),h.a.createElement(p.Y,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.openSnack,autoHideDuration:3e3,onClose:this.handleClose},h.a.createElement(ce,{onClose:this.handleClose,variant:"error",message:this.state.snackMessage})))}}]),t}(h.a.Component);var ge=Object(f.withStyles)(function(e){return{root:{width:"100%",marginTop:2*e.spacing.unit,head:{color:"black"},"& .ReactTable .rt-thead.-headerGroups":{display:"none"},"& .ReactTable .rt-tbody":{overflowY:"scroll",overflowX:"hidden"},"& .ReactTable .rt-tr-group":{flex:"0 0 auto"},"& .ReactTable .rt-thead .rt-th:nth-child(1)":{justifyContent:"center"},"& .ReactTable .rt-thead .rt-th:last-child":{justifyContent:"flex-end"},"& .franchiRow":{"& .f1":{width:"25%",minWidth:100,padding:10,border:"1px solid lightgray",borderRadius:6},"& .f2":{width:"75%",padding:"4px 8px",border:"0px solid lightgray",borderRadius:6,marginLeft:10}},InvoiceLineHeadRoot:{backgroundColor:"lightgray"},selectRoot:{backgroundColor:"green"}},outlined:{padding:"12px 24px 12px 12px!important"},billing:{width:200,fontSize:"1.3rem"},services:{width:200,fontSize:"1.3rem"},lineButton:Object(u.a)({width:32,height:32,minHeight:32},e.breakpoints.down("sm"),{width:24,height:24,minHeight:24}),lineCancelButton:Object(u.a)({width:32,height:32,minHeight:32,backgroundColor:"#ff4850",color:"white","&:hover":{backgroundColor:"#ff2a32"}},e.breakpoints.down("sm"),{width:24,height:24,minHeight:24,padding:0}),distribution:{"& span":{backgroundColor:"lightgrey",padding:"8px 12px",borderRadius:20}},tableTheadRow:{backgroundColor:e.palette.primary.main},input:{margin:0},fInput:{width:"96%",marginLeft:15,"& input":{fontSize:14,textAlign:"right"}},container:{position:"relative",width:"100%"},suggestionsContainerOpen:{position:"fixed",zIndex:100,marginTop:e.spacing.unit,maxHeight:200,overflowY:"scroll",backgroundColor:"white",borderRadius:6,border:"1px solid lightgray"},suggestion:{display:"block"},suggestionsList:{margin:0,padding:0,listStyleType:"none"}}})(Object(v.g)(Object(y.a)(function(e){var t=e.invoices,a=e.franchisees,n=e.auth;return{invoiceForm:t.invoiceForm,franchisees:a.franchiseesDB,regionId:n.login.defaultRegionId,customerTaxAmountLine:t.customerTaxAmountLine}},function(e){return Object(E.c)({updateInvoiceLine:x.sd,getCustomerTaxAmount:x.jc},e)})(pe))),fe=a(384),ve=a.n(fe),be=a(551),Ee=a.n(be),ye={MasterTrxTypeListId:"",RegionId:"",RegionName:"",InvoiceId:"",InvoiceDate:new Date,DueDate:new Date,CustomerId:"",CustomerNo:"",CustomerName:"",EBill:"",PrintInvoice:"",InvoiceDescription:"",InvoiceAmount:"",InvoiceTax:"",InvoiceTotal:"",CPI:"",TransactionStatusListId:"",TransactionStatus:"",InvoiceBalanceAmount:"",InvoiceBalanceTax:"",InvoiceBalanceTotal:"",EBillText:"",PrintInvoiceText:"",IsOpen:"",ConsolidatedInvoice:"",ConsolidatedInvoiceId:"",ConsolidatedInvoiceNo:"",CreditId:"",Service:"",notes:""};function xe(e){var t=e.classes,a=e.inputRef,n=void 0===a?function(){}:a,l=e.ref,r=Object(P.a)(e,["classes","inputRef","ref"]);return h.a.createElement(p.jb,Object.assign({fullWidth:!0,variant:"outlined",label:"Invoice For:",InputProps:{inputRef:function(e){l(e),n(e)},classes:{input:t.input}}},r,{required:!0}))}function Ce(e,t){var a=t.query,n=t.isHighlighted,l=ve()(e.CustomerName,a),r=Ee()(e.CustomerName,l);return h.a.createElement(p.Q,{selected:n,component:"div"},h.a.createElement("div",null,r.map(function(e,t){return e.highlight?h.a.createElement("span",{key:String(t),style:{fontWeight:700}},e.text):h.a.createElement("strong",{key:String(t),style:{fontWeight:300}},e.text)})))}var Se=function(e){function t(){var e,a;Object(r.a)(this,t);for(var i=arguments.length,c=new Array(i),m=0;m<i;m++)c[m]=arguments[m];return(a=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state=Object(l.a)({customers:[],franchisees:[]},ye,{value:"",suggestions:[],selectedCustomer:null,fSuggestions:[],selectedFranchisee:null,labelWidth:0,selectedWork:"",total:0,subTotal:0,tax:0,markup:0,InvoiceNo:""}),a.onChange=function(e,t){var n=t.newValue;t.method;a.setState({value:n.toString()})},a.onSuggestionsFetchRequested=function(e){var t=e.value;t.length<2||a.setState({suggestions:a.getSuggestions(t)})},a.onSuggestionsClearRequested=function(){a.setState({suggestions:[]})},a.getSuggestionValue=function(e){return a.setState({selectedCustomer:e}),e.CustomerName},a.getSuggestions=function(e){var t=oe(e.trim()),n=new RegExp(t,"i");return a.props.customers.filter(function(e){return n.test(e.CustomerName)})},a.getTotal=function(){var e=0,t=0,l=0;Object(n.a)(a.props.invoiceForm.data.line).forEach(function(a){var n=0,r=0;""!==a.quantity&&(r=a.quantity),""!==a.markup&&(n=a.markup),e+=parseFloat(a.extended),l+=parseFloat(a.tax),t+=parseFloat(a.extended*r*parseFloat(n)/100)}),a.setState({subTotal:e}),a.setState({markup:t}),a.setState({tax:l}),a.setState({total:e+l+t})},a.handleChange=function(e){a.setState(w.a.set(Object(l.a)({},a.state),e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value))},a.onSaveAndAddMore=function(){},a.onSubmitForApproval=function(){},a.onSaveAndClose=function(){},a.closeComposeForm=function(){"edit"===a.props.invoiceForm.type?a.props.closeEditInvoiceForm():a.props.closeNewInvoiceForm()},a.handleDueDateChange=function(e){a.setState({DueDate:e})},a.handleInvoiceDateChange=function(e){a.setState({InvoiceDate:e})},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){this.props.invoiceForm!==e.invoiceForm&&this.getTotal(),null!==this.state.selectedCustomer&&JSON.stringify(this.state.selectedCustomer)!==JSON.stringify(this.props.invoiceForm.customer)&&this.props.selectCustomer(this.state.selectedCustomer)}},{key:"componentWillMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){null!==e.invoiceForm.customer&&("edit"===e.invoiceForm.type&&this.setState({InvoiceNo:e.invoiceForm.customer.InvoiceNo}),this.setState({value:e.invoiceForm.customer.CustomerName}),this.setState({CustomerNo:e.invoiceForm.customer.CustomerNo}),this.setState({InvoiceDate:S()(e.invoiceForm.customer.InvoiceDate).format("MM/DD/YYYY")}),this.setState({DueDate:S()(e.invoiceForm.customer.DueDate).format("MM/DD/YYYY")}))}},{key:"componentDidMount",value:function(){"new"===this.props.invoiceForm.type&&this.setState({InvoiceNo:"PENDING"})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.value,l=a.suggestions,r=new Date,i={renderInputComponent:xe,suggestions:l,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:this.getSuggestionValue,renderSuggestion:Ce},o=!1;return"new"===this.props.invoiceForm.type&&(o=!0),h.a.createElement(g.a,{animation:"transition.slideRightIn",delay:300},h.a.createElement("div",{className:"h-full flex flex-col relative"},h.a.createElement("div",{className:"flex flex-col p-24 pt-12 pb-0",style:{flex:"1"}},h.a.createElement(L.b,{utils:R.a},h.a.createElement(A.a,{className:O()(t.formControl)},h.a.createElement(M.a,{xs:12,sm:6,md:6,className:"flex flex-row"},h.a.createElement(Z.a,Object.assign({},i,{inputProps:{classes:t,placeholder:"Search Customer Name or Number",value:n,onChange:this.onChange},theme:{container:O()(t.container),suggestionsContainerOpen:t.suggestionsContainerOpen,suggestionsList:t.suggestionsList,suggestion:t.suggestion},renderSuggestionsContainer:function(e){return h.a.createElement(p.T,Object.assign({},e.containerProps,{square:!0}),e.children)}}))),h.a.createElement(M.a,{xs:12,sm:2,md:2,className:"flex flex-row xs:flex-col xs:mb-24"},h.a.createElement(L.a,{margin:"none",label:"Invoice Date",name:"InvoiceDate",variant:"outlined",format:"MM/dd/YYYY",value:this.state.InvoiceDate,onChange:this.handleInvoiceDateChange,fullWidth:!0,required:!0})),h.a.createElement(M.a,{xs:12,sm:2,md:2,className:"flex flex-row xs:flex-col"},h.a.createElement(L.a,{margin:"none",label:"Due Date",format:"MM/dd/YYYY",InputLabelProps:{shrink:!0},name:"DueDate",variant:"outlined",value:this.state.DueDate,onChange:this.handleDueDateChange,required:!0,fullWidth:!0})),h.a.createElement(M.a,{xs:12,sm:2,md:2,className:"flex flex-row xs:flex-col"},h.a.createElement(p.jb,{margin:"none",label:"Invoice #",placeholder:"Invoice #",InputLabelProps:{shrink:!0},InputProps:{readOnly:o},name:"InvoiceNo",variant:"outlined",value:this.state.InvoiceNo,onChange:this.handleChange,required:!0,fullWidth:!0,style:{fontSize:"new"===this.props.invoiceForm.type?"18px!important":"inherit",fontWeight:"new"===this.props.invoiceForm.type?700:"inherit"}})))),h.a.createElement(A.a,{className:O()(t.formControl,"mb-0")},h.a.createElement(M.a,{xs:12,sm:6,md:6,className:"flex flex-row xs:flex-col"},h.a.createElement(p.d,{className:t.card},h.a.createElement(p.g,{title:"Customer",className:O()(t.cardHeader,"flex-1")}),h.a.createElement(p.f,null,h.a.createElement(p.mb,{variant:"subtitle1",color:"inherit"},h.a.createElement("strong",null,"Customer Name: ",this.state.selectedCustomer?this.state.selectedCustomer.CustomerName:this.state.value)),h.a.createElement(p.mb,{variant:"subtitle1",color:"inherit"},"Customer No: ",this.state.selectedCustomer?this.state.selectedCustomer.CustomerNo:this.state.CustomerNo),h.a.createElement(p.mb,{variant:"subtitle1",color:"inherit"},"Address: ",this.state.selectedCustomer?this.state.selectedCustomer.Address:""),this.state.selectedCustomer&&h.a.createElement(p.mb,{variant:"subtitle1",color:"inherit"},this.state.selectedCustomer.City,", ",this.state.selectedCustomer.StateName," ",this.state.selectedCustomer.PostalCode)))),h.a.createElement(M.a,{xs:12,sm:6,md:6,className:"flex flex-row justify-end xs:flex-col"},h.a.createElement(p.d,{className:t.card},h.a.createElement(p.g,{title:"Billing",className:O()(t.cardHeader,"flex-1")}),h.a.createElement(p.f,null,h.a.createElement(p.mb,{variant:"subtitle1",color:"inherit"},h.a.createElement("strong",null,"Billing Name: ",this.state.selectedCustomer?this.state.selectedCustomer.CustomerName:this.state.value)),h.a.createElement(p.mb,{variant:"subtitle1",color:"inherit"},"Customer No: ",this.state.selectedCustomer?this.state.selectedCustomer.CustomerNo:this.state.CustomerNo),h.a.createElement(p.mb,{variant:"subtitle1",color:"inherit"},"Address: ",this.state.selectedCustomer?this.state.selectedCustomer.Address:""),this.state.selectedCustomer&&h.a.createElement(p.mb,{variant:"subtitle1",color:"inherit"},this.state.selectedCustomer.City,", ",this.state.selectedCustomer.StateName," ",this.state.selectedCustomer.PostalCode))))),h.a.createElement(A.a,{className:O()(t.formControl),style:{flex:"9999 1 0"}},h.a.createElement(M.a,{xs:12,sm:12,md:12,className:"flex flex-row xs:flex-col xs:mb-24"},h.a.createElement(ge,null))),h.a.createElement(p.r,{variant:"middle"})),h.a.createElement("div",{className:"flex flex-shrink flex-col w-full pl-24 pr-24 pt-12 pb-12"},h.a.createElement(A.a,{style:{alignItems:"center"},className:O()(t.formControl)},h.a.createElement(M.a,{xs:12,sm:9,md:9,className:"flex flex-col xs:flex-col xs:mb-24"},h.a.createElement("div",{className:"w-full"},h.a.createElement(p.jb,{id:"InvoiceDescription",name:"InvoiceDescription",label:"Description",className:t.textField,value:this.state.InvoiceDescription,onChange:this.handleChange,margin:"dense",variant:"outlined",fullWidth:!0,multiline:!0})),h.a.createElement("div",{className:"w-full"},h.a.createElement(p.jb,{id:"note",name:"note",label:"Note",className:t.textField,value:this.state.note,onChange:this.handleChange,margin:"dense",variant:"outlined",fullWidth:!0,multiline:!0}))),h.a.createElement(M.a,{xs:12,sm:3,md:3,className:"flex flex-col xs:flex-col xs:mb-24"},h.a.createElement("div",{className:"w-full p-12 flex justify-end pb-0"},h.a.createElement("span",{className:t.summary},h.a.createElement("strong",null,"Subtotal: "),"$",this.state.subTotal.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"))),h.a.createElement("div",{className:"w-full p-12 flex justify-end pb-0"},h.a.createElement("span",{className:t.summary},h.a.createElement("strong",null,"Markup Total: "),"$",this.state.markup.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"))),h.a.createElement("div",{className:"w-full p-12 flex justify-end"},h.a.createElement("span",{className:t.summary},h.a.createElement("strong",null,"Tax: "),"$",this.state.tax.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"))),h.a.createElement("div",{className:"w-full p-12 flex justify-end"},h.a.createElement("span",{className:t.summary},h.a.createElement("strong",null,"Grand Total: "),"$",this.state.total.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"))))),h.a.createElement("div",{className:"flex flex-1 flex-row justify-between items-center"},h.a.createElement("div",{className:"flex flex-row justify-start"},h.a.createElement(g.a,{animation:"transition.expandIn",delay:300},h.a.createElement("span",{className:t.summary},h.a.createElement("strong",null,"Created By: "),"".concat(this.props.user.firstName," ").concat(this.props.user.lastName,", ").concat(S()(r).format("MM/DD/YYYY"))))),h.a.createElement("div",{className:"flex flex-1 flex-row justify-end"},h.a.createElement(g.a,{animation:"transition.expandIn",delay:300},h.a.createElement(p.c,{variant:"contained",color:"primary",className:O()(t.button,"mr-12"),onClick:function(){e.onSaveAndClose()}},"Save & Close")),h.a.createElement(g.a,{animation:"transition.expandIn",delay:300},h.a.createElement(p.c,{variant:"contained",color:"primary",className:O()(t.button,"mr-12"),onClick:function(){e.onSaveAndAddMore()}},"Save & Add more")),h.a.createElement(g.a,{animation:"transition.expandIn",delay:300},h.a.createElement(p.c,{variant:"contained",color:"primary",className:O()(t.button,"mr-12"),onClick:function(){e.onSubmitForApproval()}},"Submit for Approval")),h.a.createElement(g.a,{animation:"transition.expandIn",delay:300},h.a.createElement(p.c,{variant:"contained",color:"primary",className:t.button,onClick:function(){e.closeComposeForm()}},"Close")))))))}}]),t}(d.Component);var Ne=Object(f.withStyles)(function(e){return{layoutForm:{flexDirection:"row"},button:{"& span":{textTransform:"none"}},card:{width:"100%"},container:{position:"relative",width:"100%"},formControl:{marginBottom:12,minWidth:200},textField:{marginLeft:0,marginRight:e.spacing.unit},summary:{fontSize:16,fontWeight:700},suggestionsContainerOpen:{position:"absolute",zIndex:10,marginTop:e.spacing.unit,left:0,right:0,maxHeight:200,overflowY:"scroll"},suggestion:{display:"block"},suggestionsList:{margin:0,padding:0,listStyleType:"none"},divider:{height:2*e.spacing.unit},cardHeader:{backgroundColor:e.palette.secondary.main,padding:"8px 24px","& span":{color:"white"}}}},{withTheme:!0})(Object(v.g)(Object(y.a)(function(e){var t=e.invoices,a=e.auth;return{invoiceForm:t.invoiceForm,user:a.login}},function(e){return Object(E.c)({openEditInvoiceForm:x.Hc,closeEditInvoiceForm:x.Qb,closeNewInvoiceForm:x.Vb,selectCustomer:x.Xc},e)})(Se))),Ie=a(401),we=a.n(Ie),De=a(402),Oe=a.n(De),ke=a(1455),Te=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={tabIndex:0},a.handleChange=function(e,t){a.setState({tabIndex:t})},a.handleChangeIndex=function(e){a.setState({tabIndex:e})},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.classes,n=e.theme,r=this.state.tabIndex,i=t.datasets[r].map(function(e){return Object(l.a)({},e,{borderColor:n.palette.secondary.main})});return h.a.createElement(p.d,{className:O()(a.root,"w-full")},h.a.createElement(p.a,{position:"static"},h.a.createElement("div",{className:"p-16 pr-4 flex flex-row items-center justify-between"},h.a.createElement("div",{className:"pr-16"},h.a.createElement(p.mb,{className:"h1 font-300",color:"inherit"},"Sales"),h.a.createElement(p.mb,{className:"h5",color:"inherit"},"Lifetime sum of your sales")),h.a.createElement("div",null,h.a.createElement(p.E,{"aria-label":"more",color:"inherit"},h.a.createElement(p.D,null,"more_vert")))),h.a.createElement("div",{className:"p-16 pt-8 flex flex-row justify-between items-end"},h.a.createElement(p.mb,{className:"text-48 font-300 leading-none",color:"inherit"},t.today),h.a.createElement("div",{className:"flex flex-row items-center"},t.change.value>0&&h.a.createElement(p.D,{className:"text-green"},"trending_up"),t.change.value<0&&h.a.createElement(p.D,{className:"text-red"},"trending_down"),h.a.createElement("div",{className:"ml-8"},t.change.value,"(",t.change.percentage,"%)"))),h.a.createElement(p.ib,{value:r,onChange:this.handleChange,fullWidth:!0},h.a.createElement(p.bb,{label:"1Day",className:"min-w-0"}),h.a.createElement(p.bb,{label:"1Week",className:"min-w-0"}),h.a.createElement(p.bb,{label:"1Month",className:"min-w-0"}))),h.a.createElement(ke.a,{data:{labels:t.labels,datasets:i},options:t.options}))}}]),t}(d.Component),je=Object(f.withStyles)(function(e){return{root:{border:"1px solid "+e.palette.divider,boxShadow:"none",borderRadius:8}}},{withTheme:!0})(Te),Fe=a(26);var Pe=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={value:0},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return h.a.createElement("div",null,h.a.createElement("div",{className:O()("flex flex-col p-16")},this.props.invoices&&h.a.createElement(p.T,{className:"flex flex-1 flex-col min-h-px shadow-none",style:{alignItems:"center",flexDirection:"column"}},h.a.createElement(we.a,{className:e.card},h.a.createElement(Oe.a,{style:{color:"white"}},h.a.createElement("h2",null,"Sales"),h.a.createElement(p.mb,{className:e.pos,style:{color:"white"}},"Lifetime sum of your sale"),h.a.createElement(p.mb,{variant:"h5",component:"h2",style:{color:"white"}}))),h.a.createElement(we.a,{className:e.card},h.a.createElement("div",{className:"mb-32 w-full sm:w-1/2 md:w-full pt-24"},h.a.createElement(g.a,{delay:600},h.a.createElement("div",{className:"px-16 pb-8 text-18 font-300"},h.a.createElement("h2",{style:{color:"white"}},"How are your sales?"))),h.a.createElement("div",{className:"widget w-full p-16"},h.a.createElement(je,{data:{datasets:[[{label:"1Day",data:[72,65,70,78,85,82,88],fill:!1,borderColor:"#5c84f1"}],[{label:"1Week",data:[540,539,527,548,540,552,566],fill:!1,borderColor:"#5c84f1"}],[{label:"1Month",data:[1520,1529,1567,1588,1590,1652,1622],fill:!1,borderColor:"#5c84f1"}]],labels:["1","2","3","4","5","6","7"],options:{spanGaps:!0,legend:{display:!1},maintainAspectRatio:!0,elements:{point:{radius:2,borderWidth:1,hoverRadius:2,hoverBorderWidth:1},line:{tension:0}},layout:{padding:{top:24,left:16,right:16,bottom:16}},scales:{xAxes:[{display:!1}],yAxes:[{display:!0,ticks:{}}]}},today:"12,540",change:{value:321,percentage:2.05}}})))))))}}]),t}(d.Component);var Re=Object(f.withStyles)(function(e){var t;return{root:Object(u.a)({width:50,maxWidth:50,minWidth:50},e.breakpoints.down("md"),{width:0,maxWidth:0,minWidth:0}),panel:(t={position:"absolute",width:300,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[3],top:0,height:"100%",minHeight:"100%",bottom:0,right:40,margin:0,zIndex:1e3,transform:"translate3d(290px,0,0)",overflow:"hidden"},Object(u.a)(t,e.breakpoints.down("md"),{transform:"translate3d(360px,0,0)",boxShadow:"none","&.opened":{boxShadow:e.shadows[5]}}),Object(u.a)(t,"transition",e.transitions.create(["transform"],{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.standard})),Object(u.a)(t,"&.opened",{transform:"translateX(40px)"}),t),card:{minWidth:260,maxWidth:260,backgroundColor:"#3C4252",marginTop:30},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}})(Object(Fe.b)(function(e){return{invoices:e.invoices.invoicesDB}},function(e){return Object(E.c)({},e)})(Pe)),Le=a(391),Ae=a.n(Le),Me=a(392),Be=a.n(Me),Ye=1,He=2,We=3,Ve=4,Qe=5,qe=6,ze=7,$e=8,Ue=9,_e=10,Je=11,Ke=12,Ge=13,Xe=14,Ze=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={checkedEbill:!0,checkedPrint:!0,invoiceStatus:[],FromDate:void 0,ToDate:void 0,invoiceDateOption:We,invoiceDatePeriodMonth:S()().month(),invoiceDatePeriodYear:S()().year()},a.handleDocumentKeyDown=function(e){"esc"===te()(e)&&a.props.closeFilterPanel()},a.handleChange=function(e,t){return function(n){var l=a.state.invoiceStatus;l[e]["checked"+t]=n.target.checked,a.setState({invoiceStatus:l}),a.props.updateInvoiceStatus(l)}},a.handleChange1=function(e){var t,n,l;switch(a.setState(Object(u.a)({},e.target.name,e.target.value)),a.props.updateInvoiceDateOption(e.target.value),e.target.value){case Ye:t=S()().day(0),n=S()().day(6);break;case He:t=S()().day(0),n=S()();break;case We:t=S()().date(1),n=S()(S()().date(1)).endOf("month");break;case Ve:t=S()().date(1),n=S()();break;case Qe:l=S()().quarter(),t=S()().quarter(l).startOf("quarter"),n=S()().quarter(l).endOf("quarter");break;case qe:l=S()().quarter(),t=S()().quarter(l).startOf("quarter"),n=S()();break;case ze:S()().year(),t=S()().startOf("year"),n=S()().endOf("year");break;case $e:S()().year(),t=S()().startOf("year"),n=S()();break;case Ue:n=t=S()();break;case _e:n=t=S()().subtract(1,"days");break;case Je:t=1===(l=S()().quarter())?S()().subtract(1,"years").quarter(4).startOf("quarter"):S()().quarter(l-1).startOf("quarter"),n=1===l?S()().quarter(l).startOf("quarter").subtract(1,"days"):S()().quarter(l-1).endOf("quarter");break;case Ke:S()().year(),t=S()().subtract(1,"years").startOf("year"),n=S()().subtract(1,"years").startOf("year").add(1,"years").subtract(1,"days");break;case Xe:t=S()().year(a.state.invoiceDatePeriodYear).month(a.state.invoiceDatePeriodMonth).startOf("month"),n=S()().year(a.state.invoiceDatePeriodYear).month(a.state.invoiceDatePeriodMonth).endOf("month")}e.target.value!==Ge&&(a.props.updateDate(x.Eb,t.format("MM/DD/YYYY")),a.props.updateDate(x.Kb,n.format("MM/DD/YYYY")))},a.handleChangePeriod=function(e){a.setState(Object(u.a)({},e.target.name,e.target.value)),a.props.updatePeriodOption(e.target.name,e.target.value)},a.handleInvoiceFromDateChange=function(e){a.setState({FromDate:e}),a.props.updateDate(x.Eb,S()(e).format("MM/DD/YYYY"))},a.handleInvoiceToDateChange=function(e){a.setState({ToDate:e}),a.props.updateDate(x.Kb,S()(e).format("MM/DD/YYYY"))},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillMount",value:function(){this.setState({checkedEbill:this.props.transactionStatus.checkedEbill,checkedPrint:this.props.transactionStatus.checkedPrint}),this.setState({invoiceStatus:this.props.invoiceStatus}),this.setState({FromDate:this.props.FromDate}),this.setState({ToDate:this.props.ToDate}),this.setState({invoiceDateOption:this.props.invoiceDateOption}),this.setState({invoiceDatePeriodMonth:this.props.invoiceDatePeriodMonth}),this.setState({invoiceDatePeriodYear:this.props.invoiceDatePeriodYear})}},{key:"componentDidUpdate",value:function(e,t,a){var n,l;(e.invoiceStatus!==this.props.invoiceStatus&&this.setState({invoiceStatus:this.props.invoiceStatus}),e.FromDate!==this.props.FromDate&&this.setState({FromDate:this.props.FromDate}),e.ToDate!==this.props.ToDate&&this.setState({ToDate:this.props.ToDate}),e.invoiceDateOption!==this.props.invoiceDateOption&&this.setState({invoiceDateOption:this.props.invoiceDateOption}),t.invoiceDatePeriodYear!==this.state.invoiceDatePeriodYear||t.invoiceDatePeriodMonth!==this.state.invoiceDatePeriodMonth)&&(n=S()().year(this.state.invoiceDatePeriodYear).month(this.state.invoiceDatePeriodMonth).startOf("month").format("MM/DD/YYYY"),l=S()().year(this.state.invoiceDatePeriodYear).month(this.state.invoiceDatePeriodMonth).endOf("month").format("MM/DD/YYYY"),this.props.updateDate(x.Eb,n),this.props.updateDate(x.Kb,l));this.props.state!==e.state&&(this.props.state?document.addEventListener("keydown",this.handleDocumentKeyDown):document.removeEventListener("keydown",this.handleDocumentKeyDown))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleDocumentKeyDown)}},{key:"render",value:function(){var e=this,t=this.props.classes,a=w.a.range(S()().year(),2e3,-1);return h.a.createElement("div",{className:O()(t.root)},h.a.createElement("div",{className:O()("flex flex-col")},h.a.createElement(p.T,{className:"flex flex-1 flex-col min-h-px p-20"},h.a.createElement(p.v,{className:t.formControl,style:{width:200}},h.a.createElement("h3",{className:"mb-20"},"Invoice Date"),h.a.createElement(p.X,{value:this.state.invoiceDateOption,onChange:this.handleChange1,inputProps:{name:"invoiceDateOption",id:"invoiceDateOption"}},h.a.createElement(p.Q,{value:""},h.a.createElement("em",null,"None")),h.a.createElement(p.Q,{value:Ye},"This Week"),h.a.createElement(p.Q,{value:He},"This Week-to-date"),h.a.createElement(p.Q,{value:We},"This Month"),h.a.createElement(p.Q,{value:Ve},"This Month-to-date"),h.a.createElement(p.Q,{value:Qe},"This Quarter"),h.a.createElement(p.Q,{value:qe},"This Quarter-to-Date"),h.a.createElement(p.Q,{value:ze},"This Year"),h.a.createElement(p.Q,{value:$e},"This Year-to-date"),h.a.createElement(p.Q,{value:Ue},"Today"),h.a.createElement(p.Q,{value:_e},"Yesterday"),h.a.createElement(p.Q,{value:Je},"Last Quarter"),h.a.createElement(p.Q,{value:Ke},"Last Year"),h.a.createElement(p.Q,{value:Ge},"Custom Date"),h.a.createElement(p.Q,{value:Xe},"Period"))),h.a.createElement("br",null),this.state.invoiceDateOption===Ge&&h.a.createElement(L.b,{utils:R.a},h.a.createElement("div",{className:"flex flex-col mt-20"},h.a.createElement("h3",{className:"mb-20"},"Custom Date"),h.a.createElement(L.a,{margin:"none",label:"From Date",name:"FromDate",variant:"outlined",format:"MM/dd/yyyy",value:this.state.FromDate,onChange:this.handleInvoiceFromDateChange,fullWidth:!0,required:!0,color:"secondary"}),h.a.createElement("br",null),h.a.createElement(L.a,{margin:"none",label:"To Date",name:"ToDate",variant:"outlined",format:"MM/dd/yyyy",value:this.state.ToDate,onChange:this.handleInvoiceToDateChange,fullWidth:!0,required:!0,color:"secondary",style:{marginTop:"30px!important"}}))),this.state.invoiceDateOption===Xe&&h.a.createElement("div",{className:"flex flex-col mt-20"},h.a.createElement("h3",{className:"mb-20"},"Choose a Period"),h.a.createElement(p.X,{value:this.state.invoiceDatePeriodYear,onChange:this.handleChangePeriod,inputProps:{name:"invoiceDatePeriodYear",id:"invoiceDatePeriodYear"}},a.map(function(e,t){return h.a.createElement(p.Q,{key:t,value:e},e)})),h.a.createElement("br",null),h.a.createElement(p.X,{value:this.state.invoiceDatePeriodMonth,onChange:this.handleChangePeriod,inputProps:{name:"invoiceDatePeriodMonth",id:"invoiceDatePeriodMonth"}},["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map(function(e,t){return h.a.createElement(p.Q,{key:t,value:t},e)}))),h.a.createElement("div",{style:{marginTop:20,display:"flex",flexDirection:"column"}},h.a.createElement("h3",null,"Invoice Status"),this.state.invoiceStatus.length>0&&this.state.invoiceStatus.map(function(t,a){return h.a.createElement(Be.a,{key:a,control:h.a.createElement(Ae.a,{checked:t["checked"+t.TransactionStatusListId],onChange:e.handleChange(a,t.TransactionStatusListId),value:"checkedPaid"}),label:t.Name})}),h.a.createElement("br",null),h.a.createElement("h3",null,"Delivery Method"),h.a.createElement(Be.a,{control:h.a.createElement(Ae.a,{checked:this.state.checkedEbill,onChange:this.handleChange("checkedEbill"),value:"checkedEbill"}),label:"Ebill (Email)"}),h.a.createElement(Be.a,{control:h.a.createElement(Ae.a,{checked:this.state.checkedPrint,onChange:this.handleChange("checkedPrint"),value:"checkedPrint"}),label:"Print"})))))}}]),t}(d.Component);var et=Object(f.withStyles)(function(e){var t;return{root:{"& input, & label":{},"& fieldset":{},"& white":{color:"white!important"}},panel:(t={position:"absolute",width:250,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[3],top:0,height:"100%",minHeight:"100%",bottom:0,left:-250,margin:0,zIndex:1e3,transform:"translate3d(50px,0,0)",overflow:"hidden"},Object(u.a)(t,e.breakpoints.down("md"),{transform:"translate3d(360px,0,0)",boxShadow:"none","&.opened":{boxShadow:e.shadows[5]}}),Object(u.a)(t,"transition",e.transitions.create(["transform"],{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.standard})),Object(u.a)(t,"&.opened1",{transform:"translateX(250px)"}),t)}},{withTheme:!0})(Object(Fe.b)(function(e){var t=e.invoices,a=e.fuse;return{filterState:t.bOpenedFilterPanel,transactionStatus:t.transactionStatus,invoiceStatus:t.invoiceStatus,FromDate:t.FromDate,ToDate:t.ToDate,settings:a.settings.current,invoiceDateOption:t.invoiceDateOption,invoiceDatePeriodMonth:t.invoiceDatePeriodMonth,invoiceDatePeriodYear:t.invoiceDatePeriodYear}},function(e){return Object(E.c)({toggleStatus:x.kd,updateDate:x.pd,updateInvoiceStatus:x.td,updateInvoiceDateOption:x.rd,updatePeriodOption:x.ud},e)})(Ze)),tt={MasterTrxTypeListId:"",RegionId:"",RegionName:"",InvoiceId:"",InvoiceNo:"",InvoiceDate:"",DueDate:"",CustomerId:"",CustomerNo:"",CustomerName:"",EBill:"",PrintInvoice:"",InvoiceDescription:"",InvoiceAmount:"",InvoiceTax:"",InvoiceTotal:"",CPI:"",TransactionStatusListId:"",TransactionStatus:"",InvoiceBalanceAmount:"",InvoiceBalanceTax:"",InvoiceBalanceTotal:"",EBillText:"",PrintInvoiceText:"",IsOpen:"",ConsolidatedInvoice:"",ConsolidatedInvoiceId:"",ConsolidatedInvoiceNo:"",CreditId:"",Service:""},at=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state=Object(l.a)({s:"",temp:[],data:[],checkedEbill:!0,checkedPrint:!0,selection:[],selectAll:!1,regionId:0,customers:null,franchisees:null},tt,{value:"",selectedInvoice:null}),a.getInvoicesFromStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props.invoices;if(null!==e&&0!==e.Data.Region.length){var t=e.Data.Region[0].InvList;a.setState({temp:t}),a.setState({data:t})}},a.onNewInvoice=function(){a.props.filterState&&a.props.toggleFilterPanel(),a.props.summaryState&&a.props.toggleSummaryPanel(),a.props.openNewInvoiceForm()},a.handleChange=function(e){a.setState(w.a.set(Object(l.a)({},a.state),e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value))},a.handleSearchChange=function(e){return function(t){a.setState(Object(u.a)({},e,t.target.value))}},a.removeInvoices=function(){0!==a.state.selection.length?window.confirm("Do you really want to remove the selected invoice(s)")&&(a.props.deleteInvoicesAction(a.state.selection,a.props.invoices),a.setState({selection:[],selectAll:!1})):alert("Please choose invoice(s) to delete")},e.bLoadedInvoices||(e.getInvoiceDetail(),e.getInvoiceStatus(e.regionId),e.getInvoices([e.regionId],e.StatusId,e.FromDate,e.ToDate,e.PeriodId,e.OpenOrClosed,e.InvoiceTypeId,e.ToPrintOrToEmail,e.SearchText)),e.bLoadedCustomers||e.getCustomers(e.regionId),e.bLoadedFranchisees||e.getFranchisees(e.regionId,e.fstatusId,e.fLocation,e.fLongitude,e.fLatitude,e.fSearchText),a.escFunction=a.escFunction.bind(Object(m.a)(Object(m.a)(a))),a.listenScrollEvent=a.listenScrollEvent.bind(Object(m.a)(Object(m.a)(a))),a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){var n=!1,l=this.props,r=l.regionId,i=l.StatusId,o=l.FromDate,s=l.ToDate,c=l.PeriodId,m=l.OpenOrClosed,u=l.InvoiceTypeId,d=l.ToPrintOrToEmail,h=l.SearchText,p=this.props,g=p.fstatusId,f=p.fLocation,v=p.fLongitude,b=p.fLatitude,E=p.fSearchText;this.props.transactionStatus.checkedEbill!==e.transactionStatus.checkedEbill&&(this.setState({checkedEbill:!this.state.checkedEbill}),n=!0),this.props.transactionStatus.checkedPrint!==e.transactionStatus.checkedPrint&&(this.setState({checkedPrint:!this.state.checkedPrint}),n=!0),r!==e.regionId&&this.props.getCustomers(r),r!==e.regionId&&this.props.getFranchisees(r,g,f,v,b,E),r===e.regionId&&o===e.FromDate&&s===e.ToDate||(this.props.getInvoices([r],i,o,s,c,m,u,d,h),this.props.getInvoiceDetail()),t.s!==this.state.s&&this.search(this.state.s),n&&this.getInvoicesFromStatus(),null===e.invoices&&null!==this.props.invoices&&this.getInvoicesFromStatus()}},{key:"search",value:function(e){var t=this.state.data.filter(function(t){return-1!==t.InvoiceId.toString().indexOf(e)||!e||-1!==t.InvoiceNo.indexOf(e)||-1!==t.InvoiceAmount.toString().indexOf(e)||-1!==t.InvoiceTotal.toString().indexOf(e)||-1!==t.InvoiceTax.toString().indexOf(e)||null!==t.InvoiceDescription&&-1!==t.InvoiceDescription.toLowerCase().indexOf(e)||-1!==t.CustomerName.toLowerCase().indexOf(e)||-1!==t.CustomerId.toString().indexOf(e)||-1!==t.CustomerNo.toString().indexOf(e)||-1!==t.TransactionStatusListId.toString().indexOf(e)});this.setState({temp:t})}},{key:"componentWillMount",value:function(){this.setState({checkedOpen:this.props.transactionStatus.checkedEbill}),this.setState({checkedOpen:this.props.transactionStatus.checkedPrint}),this.getInvoicesFromStatus();var e=this.props,t=e.regionId,a=e.StatusId,n=e.FromDate,l=e.ToDate,r=e.PeriodId,i=e.OpenOrClosed,o=e.InvoiceTypeId,s=e.ToPrintOrToEmail,c=e.SearchText,m=this.props,u=m.fstatusId,d=m.fLocation,h=m.fLongitude,p=m.fLatitude,g=m.fSearchText;null===this.props.invoices&&(this.props.getInvoices([t],a,n,l,r,i,o,s,c),this.props.getCustomers(t),this.props.getFranchisees(t,u,d,h,p,g))}},{key:"componentWillReceiveProps",value:function(e){if(null===this.props.invoices&&null!==e.invoices&&this.getInvoicesFromStatus(e.invoices),this.props.invoices!==e.invoices&&this.getInvoicesFromStatus(e.invoices),null!==e.customers&&this.props.customers!==e.customers){var t=[];e.customers.Data.Regions.map(function(e){return t=[].concat(Object(n.a)(t),Object(n.a)(e.CustomerList)),!0}),this.setState({customers:t})}null!==e.franchisees&&this.props.franchisees!==e.franchisees&&this.setState({franchisees:e.franchisees.Data.Region[0].FranchiseeList})}},{key:"componentDidMount",value:function(){if(document.addEventListener("keydown",this.escFunction),null!==this.props.customers){var e=[];this.props.customers.Data.Regions.map(function(t){return e=[].concat(Object(n.a)(e),Object(n.a)(t.CustomerList)),!0}),this.setState({customers:e})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escFunction,!1),window.removeEventListener("scroll",this.listenScrollEvent)}},{key:"listenScrollEvent",value:function(e){console.log(e)}},{key:"escFunction",value:function(e){27===e.keyCode&&(this.setState({s:""}),this.getInvoicesFromStatus())}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.toggleFilterPanel,l=t.toggleSummaryPanel,r=t.filterState,i=t.summaryState,o=t.openNewInvoiceForm,s=t.invoiceForm,c=this.state.selection;return h.a.createElement(h.a.Fragment,null,h.a.createElement(g.m,{classes:{root:O()(a.layoutRoot),rightSidebar:O()(a.layoutRightSidebar,{openSummary:i}),leftSidebar:O()(a.layoutLeftSidebar,{openFilter:r}),sidebarHeader:a.layoutSidebarHeader,header:a.layoutHeader,content:a.content},header:h.a.createElement("div",{className:"flex w-full items-center"},this.state.temp&&!s.props.open&&h.a.createElement("div",{className:"flex row flex-1  p-8 sm:p-12 relative justify-between"},h.a.createElement("div",{className:"flex flex-row flex-1 justify-between"},h.a.createElement("div",{className:"flex flex-shrink items-center"},h.a.createElement("div",{className:"flex items-center"},h.a.createElement(g.a,{animation:"transition.expandIn",delay:300},h.a.createElement(p.D,{className:"text-32 mr-12"},"account_box")),h.a.createElement(g.a,{animation:"transition.slideLeftIn",delay:300},h.a.createElement(p.mb,{variant:"h6",className:"hidden sm:flex"},"Accounts Receivable | Invoices")))),h.a.createElement("div",{className:"flex flex-shrink items-center"},h.a.createElement(g.a,{animation:"transition.expandIn",delay:300},h.a.createElement(p.t,{color:"secondary","aria-label":"add",className:O()(a.sideButton,"mr-12"),onClick:function(){return e.onNewInvoice()}},h.a.createElement(p.D,null,"add"))),h.a.createElement(g.a,{animation:"transition.expandIn",delay:300},h.a.createElement(p.t,{color:"secondary","aria-label":"add",className:O()(a.sideButton,"mr-12"),onClick:function(){return e.props.history.push("/apps/mail/inbox")}},h.a.createElement(p.D,null,"mail_outline"))),h.a.createElement(g.a,{animation:"transition.expandIn",delay:300},h.a.createElement(p.t,{color:"secondary","aria-label":"add",className:a.sideButton,onClick:function(){return alert("ok")}},h.a.createElement(p.D,null,"print"))))),h.a.createElement("div",{className:"flex flex-none items-end",style:{display:"none"}},h.a.createElement(g.a,{animation:"transition.expandIn",delay:600},h.a.createElement(p.t,{color:"secondary","aria-label":"add",className:a.addButton,onClick:function(){return o}},h.a.createElement(p.D,null,"add"))),h.a.createElement(g.a,{animation:"transition.expandIn",delay:300},h.a.createElement(p.t,{color:"primary","aria-label":"add",className:O()(a.sideButton,"mr-12"),onClick:function(){return e.props.history.push("/apps/mail/inbox")}},h.a.createElement(p.D,null,"mail_outline"))),h.a.createElement(g.a,{animation:"transition.expandIn",delay:300},h.a.createElement(p.t,{color:"secondary","aria-label":"add",className:a.sideButton,onClick:function(){return alert("ok")}},h.a.createElement(p.D,null,"print"))),c.length>0&&h.a.createElement(g.a,{animation:"transition.expandIn",delay:600},h.a.createElement(p.t,{color:"secondary","aria-label":"delete",className:a.removeButton,onClick:function(){return e.removeInvoices()}},h.a.createElement(p.D,null,"delete"))))),this.state.temp&&s.props.open&&h.a.createElement("div",{className:"flex row flex-1  p-8 sm:p-12 relative justify-between"},h.a.createElement("div",{className:"flex flex-row flex-1 justify-between"},h.a.createElement("div",{className:"flex flex-shrink items-center"},h.a.createElement("div",{className:"flex items-center"},h.a.createElement(g.a,{animation:"transition.expandIn",delay:300},h.a.createElement(p.kb,{className:"pl-12 pr-0"},h.a.createElement("img",{className:"mr-12",src:"assets/images/invoices/invoice-icon-white.png",alt:"new invoice",style:{width:32,height:32}}))),"edit"===this.props.invoiceForm.type&&h.a.createElement(g.a,{animation:"transition.slideLeftIn",delay:300},h.a.createElement(p.mb,{variant:"h6",className:"hidden sm:flex"},"Accounts Receivable | Edit Invoice")),"new"===this.props.invoiceForm.type&&h.a.createElement(g.a,{animation:"transition.slideLeftIn",delay:300},h.a.createElement(p.mb,{variant:"h6",className:"hidden sm:flex"},"Accounts Receivable | New Invoice"))))),h.a.createElement("div",{className:"flex flex-none items-end",style:{display:"none"}},h.a.createElement(g.a,{animation:"transition.expandIn",delay:600},h.a.createElement(p.t,{color:"secondary","aria-label":"add",className:a.addButton,onClick:function(){return alert("ok")}},h.a.createElement(p.D,null,"add"))),h.a.createElement(g.a,{animation:"transition.expandIn",delay:300},h.a.createElement(p.t,{color:"primary","aria-label":"add",className:O()(a.sideButton,"mr-12"),onClick:function(){return e.props.history.push("/apps/mail/inbox")}},h.a.createElement(p.D,null,"mail_outline"))),h.a.createElement(g.a,{animation:"transition.expandIn",delay:300},h.a.createElement(p.t,{color:"secondary","aria-label":"add",className:a.sideButton,onClick:function(){return alert("ok")}},h.a.createElement(p.D,null,"print"))),c.length>0&&h.a.createElement(g.a,{animation:"transition.expandIn",delay:600},h.a.createElement(p.t,{color:"secondary","aria-label":"delete",className:a.removeButton,onClick:function(){return e.removeInvoices()}},h.a.createElement(p.D,null,"delete")))))),content:h.a.createElement("div",{className:"flex-1 flex-col absolute w-full h-full"},this.state.temp&&!s.props.open&&h.a.createElement("div",{className:O()("flex flex-col h-full")},h.a.createElement("div",{className:"flex flex-row items-center p-12"},h.a.createElement("div",{className:"flex justify-start items-center"},h.a.createElement(p.C,{smDown:!0},h.a.createElement(p.c,{onClick:function(e){return n()},"aria-label":"toggle filter panel",color:"secondary",disabled:!!r,className:O()(a.filterPanelButton)},h.a.createElement("img",{className:a.imageIcon,src:"assets/images/invoices/filter.png",alt:"filter"}))),h.a.createElement(p.C,{smUp:!0},h.a.createElement(p.c,{onClick:function(t){return e.pageLayout.toggleLeftSidebar()},"aria-label":"toggle filter panel",className:O()(a.filterPanelButton)},h.a.createElement("img",{className:a.imageIcon,src:"assets/images/invoices/filter.png",alt:"filter"})))),h.a.createElement("div",{className:"flex items-center w-full h-44 mr-12 ml-12"},h.a.createElement(p.T,{className:"flex items-center h-44 w-full lg:mr-12 xs:mr-0",elevation:1},h.a.createElement(p.F,{placeholder:"Search...",className:O()(a.search,"pl-16"),disableUnderline:!0,fullWidth:!0,value:this.state.s,onChange:this.handleSearchChange("s"),inputProps:{"aria-label":"Search"}}),h.a.createElement(p.D,{color:"action",className:"mr-16"},"search"))),h.a.createElement("div",{className:"flex items-center justify-end pr-12"},h.a.createElement(p.C,{smDown:!0},h.a.createElement(p.c,{onClick:function(e){return l()},"aria-label":"toggle summary panel",disabled:!!i,className:O()(a.summaryPanelButton)},h.a.createElement(p.D,null,"insert_chart"))),h.a.createElement(p.C,{smUp:!0},h.a.createElement(p.c,{onClick:function(t){return e.pageLayout.toggleRightSidebar()},"aria-label":"toggle summary panel",className:O()(a.summaryPanelButton)},h.a.createElement(p.D,null,"insert_chart"))))),h.a.createElement(F,{data:this.state.temp})),this.state.temp&&s.props.open&&h.a.createElement(Ne,{customers:this.state.customers,selectedInvoice:this.state.selectedInvoice})),leftSidebarHeader:h.a.createElement("div",{className:O()("flex flex-row w-full h-full justify-between p-12 align-middle pr-0",{filteropen:r})},h.a.createElement("h4",{style:{marginBlockStart:"1em"}},"Filter Panel"),h.a.createElement(g.a,{animation:"transition.expandIn",delay:200},h.a.createElement("div",null,h.a.createElement(p.C,{xsDown:!0},h.a.createElement(p.E,{onClick:function(e){return n()}},h.a.createElement(p.D,null,"close")))))),leftSidebarContent:h.a.createElement(et,null),rightSidebarHeader:h.a.createElement("div",{className:"flex flex-row w-full h-full justify-between p-24 align-middle pr-0"},h.a.createElement("h4",{style:{marginBlockStart:"1em"}},"Summary Panel"),h.a.createElement(g.a,{animation:"transition.expandIn",delay:200},h.a.createElement("div",null,h.a.createElement(p.C,{xsDown:!0},h.a.createElement(p.E,{onClick:function(e){return l()}},h.a.createElement(p.D,null,"close")))))),rightSidebarContent:h.a.createElement(Re,null),onRef:function(t){e.pageLayout=t}}),(this.props.bInvoiceStart||this.props.bCustomerFetchStart||this.props.bFranchiseesFetchStart)&&h.a.createElement("div",{className:a.overlay},h.a.createElement(p.j,{className:a.progress,color:"secondary"})))}}]),t}(d.Component);t.default=Object(f.withStyles)(function(e){return{root:{background:"url('/assets/images/backgrounds/signin-bg.jpg') no-repeat",backgroundSize:"cover"},layoutRoot:{flexDirection:"row","& .z-9999":{height:64},"& .openFilter":{width:"inherit"},"& .openSummary":{width:300},"& .p-12-impor":{paddingLeft:"1.2rem!important",paddingRight:"1.2rem!important"}},button:{"& span":{textTransform:"none"}},card:{width:"100%"},progress:{margin:2*e.spacing.unit},layoutHeader:{height:80,minHeight:80,backgroundColor:e.palette.secondary.main},layoutRightSidebar:Object(u.a)({width:0},e.breakpoints.down("sm"),{width:"inherit"}),layoutLeftSidebar:Object(u.a)({width:0},e.breakpoints.down("sm"),{width:"inherit"}),layoutSidebarHeader:{height:80,minHeight:80,display:"flex",alignItems:"center",backgroundColor:e.palette.secondary.main},content:{position:"relative"},addButton:{position:"absolute",bottom:-28,left:16,zIndex:999,backgroundColor:e.palette.primary.light,"&:hover":{backgroundColor:e.palette.primary.dark}},sideButton:{backgroundColor:e.palette.primary.light,height:46,width:46,"&:hover":{backgroundColor:e.palette.primary.dark}},removeButton:{position:"absolute",bottom:-28,right:16,zIndex:999,backgroundColor:e.palette.secondary.light,"&:hover":{backgroundColor:e.palette.secondary.dark}},container:{position:"relative",width:"100%"},formControl:{marginBottom:24,minWidth:200},divider:{height:2*e.spacing.unit},overlay:{position:"absolute",top:0,left:0,width:"100%",height:"100vh",backgroundColor:"rgba(0,0,0, .9)",zIndex:1e3,alignItems:"center",justifyContent:"center",display:"flex",opacity:.5},filterPanelButton:{backgroundColor:e.palette.secondary.main,minWidth:42,padding:8,justifyContent:"center","&:hover":{backgroundColor:e.palette.primary.dark}},summaryPanelButton:{backgroundColor:e.palette.secondary.main,minWidth:42,padding:8,color:"white",justifyContent:"center","&:hover":{backgroundColor:e.palette.primary.dark}},imageIcon:{width:24}}},{withTheme:!0})(Object(v.g)(Object(y.a)(function(e){var t=e.invoices,a=e.auth,n=e.customers,l=e.franchisees;return{invoices:t.invoicesDB,invoiceDetail:t.invoiceDetail,bLoadedInvoices:t.bLoadedInvoices,transactionStatus:t.transactionStatus,invoiceStatus:t.invoiceStatus,filterState:t.bOpenedFilterPanel,summaryState:t.bOpenedSummaryPanel,invoiceForm:t.invoiceForm,FromDate:t.FromDate,ToDate:t.ToDate,StatusId:t.StatusId,PeriodId:t.PeriodId,OpenOrClosed:t.OpenOrClosed,InvoiceTypeId:t.InvoiceTypeId,ToPrintOrToEmail:t.ToPrintOrToEmail,SearchText:t.SearchText,bInvoiceStart:t.bInvoiceStart,customers:n.customersDB,bLoadedCustomers:n.bLoadedCustomers,bCustomerFetchStart:n.bCustomerFetchStart,regionId:a.login.defaultRegionId,franchisees:l.franchiseesDB,bLoadedFranchisees:l.bLoadedFranchisees,fstatusId:l.statusId,fLocation:l.Location,fLongitude:l.Longitude,fLatitude:l.Latitude,fSearchText:l.SearchText,bFranchiseesFetchStart:l.bFranchiseesFetchStart}},function(e){return Object(E.c)({getInvoices:x.tc,getInvoiceStatus:x.sc,getInvoiceDetail:x.rc,toggleFilterPanel:x.fd,toggleSummaryPanel:x.ld,openNewInvoiceForm:x.Mc,openEditInvoiceForm:x.Hc,getCustomers:x.kc,getFranchisees:x.qc},e)})(at)))}}]);
//# sourceMappingURL=29.e861d373.chunk.js.map